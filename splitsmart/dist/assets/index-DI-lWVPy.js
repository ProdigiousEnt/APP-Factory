(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function bb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bh={exports:{}},wr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function uE(){if(Ty)return wr;Ty=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:n,type:r,key:u,ref:l!==void 0?l:null,props:c}}return wr.Fragment=t,wr.jsx=s,wr.jsxs=s,wr}var Ay;function hE(){return Ay||(Ay=1,bh.exports=uE()),bh.exports}var w=hE(),wh={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function dE(){if(Oy)return pe;Oy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function D(O,P,Q){this.props=O,this.context=P,this.refs=C,this.updater=Q||x}D.prototype.isReactComponent={},D.prototype.setState=function(O,P){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,P,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function L(){}L.prototype=D.prototype;function N(O,P,Q){this.props=O,this.context=P,this.refs=C,this.updater=Q||x}var K=N.prototype=new L;K.constructor=N,A(K,D.prototype),K.isPureReactComponent=!0;var X=Array.isArray;function J(){}var $={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function ee(O,P,Q){var Z=Q.ref;return{$$typeof:n,type:O,key:P,ref:Z!==void 0?Z:null,props:Q}}function Se(O,P){return ee(O.type,P,O.props)}function Oe(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function Ce(O){var P={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return P[Q]})}var Le=/\/+/g;function Ye(O,P){return typeof O=="object"&&O!==null&&O.key!=null?Ce(""+O.key):P.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(J,J):(O.status="pending",O.then(function(P){O.status==="pending"&&(O.status="fulfilled",O.value=P)},function(P){O.status==="pending"&&(O.status="rejected",O.reason=P)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function U(O,P,Q,Z,he){var ge=typeof O;(ge==="undefined"||ge==="boolean")&&(O=null);var oe=!1;if(O===null)oe=!0;else switch(ge){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(O.$$typeof){case n:case t:oe=!0;break;case g:return oe=O._init,U(oe(O._payload),P,Q,Z,he)}}if(oe)return he=he(O),oe=Z===""?"."+Ye(O,0):Z,X(he)?(Q="",oe!=null&&(Q=oe.replace(Le,"$&/")+"/"),U(he,P,Q,"",function(fe){return fe})):he!=null&&(Oe(he)&&(he=Se(he,Q+(he.key==null||O&&O.key===he.key?"":(""+he.key).replace(Le,"$&/")+"/")+oe)),P.push(he)),1;oe=0;var at=Z===""?".":Z+":";if(X(O))for(var Y=0;Y<O.length;Y++)Z=O[Y],ge=at+Ye(Z,Y),oe+=U(Z,P,Q,ge,he);else if(Y=S(O),typeof Y=="function")for(O=Y.call(O),Y=0;!(Z=O.next()).done;)Z=Z.value,ge=at+Ye(Z,Y++),oe+=U(Z,P,Q,ge,he);else if(ge==="object"){if(typeof O.then=="function")return U(De(O),P,Q,Z,he);throw P=String(O),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return oe}function G(O,P,Q){if(O==null)return O;var Z=[],he=0;return U(O,Z,"","",function(ge){return P.call(Q,ge,he++)}),Z}function q(O){if(O._status===-1){var P=O._result;P=P(),P.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=P)}if(O._status===1)return O._result.default;throw O._result}var ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},we={map:G,forEach:function(O,P,Q){G(O,function(){P.apply(this,arguments)},Q)},count:function(O){var P=0;return G(O,function(){P++}),P},toArray:function(O){return G(O,function(P){return P})||[]},only:function(O){if(!Oe(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return pe.Activity=v,pe.Children=we,pe.Component=D,pe.Fragment=s,pe.Profiler=l,pe.PureComponent=N,pe.StrictMode=r,pe.Suspense=m,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,pe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return $.H.useMemoCache(O)}},pe.cache=function(O){return function(){return O.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(O,P,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=A({},O.props),he=O.key;if(P!=null)for(ge in P.key!==void 0&&(he=""+P.key),P)!B.call(P,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&P.ref===void 0||(Z[ge]=P[ge]);var ge=arguments.length-2;if(ge===1)Z.children=Q;else if(1<ge){for(var oe=Array(ge),at=0;at<ge;at++)oe[at]=arguments[at+2];Z.children=oe}return ee(O.type,he,Z)},pe.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},pe.createElement=function(O,P,Q){var Z,he={},ge=null;if(P!=null)for(Z in P.key!==void 0&&(ge=""+P.key),P)B.call(P,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(he[Z]=P[Z]);var oe=arguments.length-2;if(oe===1)he.children=Q;else if(1<oe){for(var at=Array(oe),Y=0;Y<oe;Y++)at[Y]=arguments[Y+2];he.children=at}if(O&&O.defaultProps)for(Z in oe=O.defaultProps,oe)he[Z]===void 0&&(he[Z]=oe[Z]);return ee(O,ge,he)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(O){return{$$typeof:f,render:O}},pe.isValidElement=Oe,pe.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:q}},pe.memo=function(O,P){return{$$typeof:p,type:O,compare:P===void 0?null:P}},pe.startTransition=function(O){var P=$.T,Q={};$.T=Q;try{var Z=O(),he=$.S;he!==null&&he(Q,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(J,ve)}catch(ge){ve(ge)}finally{P!==null&&Q.types!==null&&(P.types=Q.types),$.T=P}},pe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},pe.use=function(O){return $.H.use(O)},pe.useActionState=function(O,P,Q){return $.H.useActionState(O,P,Q)},pe.useCallback=function(O,P){return $.H.useCallback(O,P)},pe.useContext=function(O){return $.H.useContext(O)},pe.useDebugValue=function(){},pe.useDeferredValue=function(O,P){return $.H.useDeferredValue(O,P)},pe.useEffect=function(O,P){return $.H.useEffect(O,P)},pe.useEffectEvent=function(O){return $.H.useEffectEvent(O)},pe.useId=function(){return $.H.useId()},pe.useImperativeHandle=function(O,P,Q){return $.H.useImperativeHandle(O,P,Q)},pe.useInsertionEffect=function(O,P){return $.H.useInsertionEffect(O,P)},pe.useLayoutEffect=function(O,P){return $.H.useLayoutEffect(O,P)},pe.useMemo=function(O,P){return $.H.useMemo(O,P)},pe.useOptimistic=function(O,P){return $.H.useOptimistic(O,P)},pe.useReducer=function(O,P,Q){return $.H.useReducer(O,P,Q)},pe.useRef=function(O){return $.H.useRef(O)},pe.useState=function(O){return $.H.useState(O)},pe.useSyncExternalStore=function(O,P,Q){return $.H.useSyncExternalStore(O,P,Q)},pe.useTransition=function(){return $.H.useTransition()},pe.version="19.2.3",pe}var Ry;function Md(){return Ry||(Ry=1,wh.exports=dE()),wh.exports}var F=Md();const fE=bb(F);var _h={exports:{}},_r={},Sh={exports:{}},xh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function mE(){return Cy||(Cy=1,(function(n){function t(U,G){var q=U.length;U.push(G);e:for(;0<q;){var ve=q-1>>>1,we=U[ve];if(0<l(we,G))U[ve]=G,U[q]=we,q=ve;else break e}}function s(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],q=U.pop();if(q!==G){U[0]=q;e:for(var ve=0,we=U.length,O=we>>>1;ve<O;){var P=2*(ve+1)-1,Q=U[P],Z=P+1,he=U[Z];if(0>l(Q,q))Z<we&&0>l(he,Q)?(U[ve]=he,U[Z]=q,ve=Z):(U[ve]=Q,U[P]=q,ve=P);else if(Z<we&&0>l(he,q))U[ve]=he,U[Z]=q,ve=Z;else break e}}return G}function l(U,G){var q=U.sortIndex-G.sortIndex;return q!==0?q:U.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],p=[],g=1,v=null,b=3,S=!1,x=!1,A=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function K(U){for(var G=s(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=U)r(p),G.sortIndex=G.expirationTime,t(m,G);else break;G=s(p)}}function X(U){if(A=!1,K(U),!x)if(s(m)!==null)x=!0,J||(J=!0,Ce());else{var G=s(p);G!==null&&De(X,G.startTime-U)}}var J=!1,$=-1,B=5,ee=-1;function Se(){return C?!0:!(n.unstable_now()-ee<B)}function Oe(){if(C=!1,J){var U=n.unstable_now();ee=U;var G=!0;try{e:{x=!1,A&&(A=!1,L($),$=-1),S=!0;var q=b;try{t:{for(K(U),v=s(m);v!==null&&!(v.expirationTime>U&&Se());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,b=v.priorityLevel;var we=ve(v.expirationTime<=U);if(U=n.unstable_now(),typeof we=="function"){v.callback=we,K(U),G=!0;break t}v===s(m)&&r(m),K(U)}else r(m);v=s(m)}if(v!==null)G=!0;else{var O=s(p);O!==null&&De(X,O.startTime-U),G=!1}}break e}finally{v=null,b=q,S=!1}G=void 0}}finally{G?Ce():J=!1}}}var Ce;if(typeof N=="function")Ce=function(){N(Oe)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ye=Le.port2;Le.port1.onmessage=Oe,Ce=function(){Ye.postMessage(null)}}else Ce=function(){D(Oe,0)};function De(U,G){$=D(function(){U(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(U){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var q=b;b=G;try{return U()}finally{b=q}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=b;b=U;try{return G()}finally{b=q}},n.unstable_scheduleCallback=function(U,G,q){var ve=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ve+q:ve):q=ve,U){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=q+we,U={id:g++,callback:G,priorityLevel:U,startTime:q,expirationTime:we,sortIndex:-1},q>ve?(U.sortIndex=q,t(p,U),s(m)===null&&U===s(p)&&(A?(L($),$=-1):A=!0,De(X,q-ve))):(U.sortIndex=we,t(m,U),x||S||(x=!0,J||(J=!0,Ce()))),U},n.unstable_shouldYield=Se,n.unstable_wrapCallback=function(U){var G=b;return function(){var q=b;b=G;try{return U.apply(this,arguments)}finally{b=q}}}})(xh)),xh}var Ny;function pE(){return Ny||(Ny=1,Sh.exports=mE()),Sh.exports}var Eh={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function gE(){if(jy)return Rt;jy=1;var n=Md();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:m,containerInfo:p,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rt.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(m,p,null,g)},Rt.flushSync=function(m){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=g,r.d.f()}},Rt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Rt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Rt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):g==="script"&&r.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Rt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Rt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Rt.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Rt.requestFormReset=function(m){r.d.r(m)},Rt.unstable_batchedUpdates=function(m,p){return m(p)},Rt.useFormState=function(m,p,g){return u.H.useFormState(m,p,g)},Rt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Rt.version="19.2.3",Rt}var ky;function yE(){if(ky)return Eh.exports;ky=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Eh.exports=gE(),Eh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function vE(){if(Dy)return _r;Dy=1;var n=pE(),t=Md(),s=yE();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function u(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===o)return m(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var y=!1,_=h.child;_;){if(_===a){y=!0,a=h,o=d;break}if(_===o){y=!0,o=h,a=d;break}_=_.sibling}if(!y){for(_=d.child;_;){if(_===a){y=!0,a=d,o=h;break}if(_===o){y=!0,o=d,a=h;break}_=_.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),N=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case X:return"Suspense";case J:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case N:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case K:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return i=e.displayName||null,i!==null?i:Ye(e.type)||"Memo";case B:i=e._payload,e=e._init;try{return Ye(e(i))}catch{}}return null}var De=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},ve=[],we=-1;function O(e){return{current:e}}function P(e){0>we||(e.current=ve[we],ve[we]=null,we--)}function Q(e,i){we++,ve[we]=e.current,e.current=i}var Z=O(null),he=O(null),ge=O(null),oe=O(null);function at(e,i){switch(Q(ge,i),Q(he,e),Q(Z,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Fg(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Fg(i),e=Xg(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(Z),Q(Z,e)}function Y(){P(Z),P(he),P(ge)}function fe(e){e.memoizedState!==null&&Q(oe,e);var i=Z.current,a=Xg(i,e.type);i!==a&&(Q(he,e),Q(Z,a))}function Pe(e){he.current===e&&(P(Z),P(he)),oe.current===e&&(P(oe),gr._currentValue=q)}var me,W;function Me(e){if(me===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);me=i&&i[1]||"",W=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+e+W}var Ot=!1;function mn(e,i){if(!e||Ot)return"";Ot=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(z){var M=z}Reflect.construct(e,[],H)}else{try{H.call()}catch(z){M=z}e.call(H.prototype)}}else{try{throw Error()}catch(z){M=z}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(z){if(z&&M&&typeof z.stack=="string")return[z.stack,M.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],_=d[1];if(y&&_){var E=y.split(`
`),k=_.split(`
`);for(h=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===E.length||h===k.length)for(o=E.length-1,h=k.length-1;1<=o&&0<=h&&E[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(E[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||E[o]!==k[h]){var I=`
`+E[o].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=o&&0<=h);break}}}finally{Ot=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Me(a):""}function eo(e,i){switch(e.tag){case 26:case 27:case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return e.child!==i&&i!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return mn(e.type,!1);case 11:return mn(e.type.render,!1);case 1:return mn(e.type,!0);case 31:return Me("Activity");default:return""}}function Tf(e){try{var i="",a=null;do i+=eo(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var sc=Object.prototype.hasOwnProperty,ac=n.unstable_scheduleCallback,rc=n.unstable_cancelCallback,H_=n.unstable_shouldYield,q_=n.unstable_requestPaint,Pt=n.unstable_now,$_=n.unstable_getCurrentPriorityLevel,Af=n.unstable_ImmediatePriority,Of=n.unstable_UserBlockingPriority,to=n.unstable_NormalPriority,G_=n.unstable_LowPriority,Rf=n.unstable_IdlePriority,K_=n.log,Y_=n.unstable_setDisableYieldValue,Ra=null,Ht=null;function Zn(e){if(typeof K_=="function"&&Y_(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Ra,e)}catch{}}var qt=Math.clz32?Math.clz32:J_,F_=Math.log,X_=Math.LN2;function J_(e){return e>>>=0,e===0?32:31-(F_(e)/X_|0)|0}var no=256,io=262144,so=4194304;function zi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ao(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var _=o&134217727;return _!==0?(o=_&~d,o!==0?h=zi(o):(y&=_,y!==0?h=zi(y):a||(a=_&~e,a!==0&&(h=zi(a))))):(_=o&~d,_!==0?h=zi(_):y!==0?h=zi(y):a||(a=o&~e,a!==0&&(h=zi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Ca(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Q_(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(){var e=so;return so<<=1,(so&62914560)===0&&(so=4194304),e}function oc(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Na(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Z_(e,i,a,o,h,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,E=e.expirationTimes,k=e.hiddenUpdates;for(a=y&~a;0<a;){var I=31-qt(a),H=1<<I;_[I]=0,E[I]=-1;var M=k[I];if(M!==null)for(k[I]=null,I=0;I<M.length;I++){var z=M[I];z!==null&&(z.lane&=-536870913)}a&=~H}o!==0&&Nf(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function Nf(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-qt(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function jf(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-qt(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function kf(e,i){var a=i&-i;return a=(a&42)!==0?1:lc(a),(a&(e.suspendedLanes|i))!==0?0:a}function lc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Df(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:vy(e.type))}function Mf(e,i){var a=G.p;try{return G.p=e,i()}finally{G.p=a}}var Wn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Wn,Dt="__reactProps$"+Wn,ps="__reactContainer$"+Wn,uc="__reactEvents$"+Wn,W_="__reactListeners$"+Wn,eS="__reactHandles$"+Wn,Uf="__reactResources$"+Wn,ja="__reactMarker$"+Wn;function hc(e){delete e[bt],delete e[Dt],delete e[uc],delete e[W_],delete e[eS]}function gs(e){var i=e[bt];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ps]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=ny(e);e!==null;){if(a=e[bt])return a;e=ny(e)}return i}e=a,a=e.parentNode}return null}function ys(e){if(e=e[bt]||e[ps]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function ka(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function vs(e){var i=e[Uf];return i||(i=e[Uf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(e){e[ja]=!0}var zf=new Set,Lf={};function Li(e,i){bs(e,i),bs(e+"Capture",i)}function bs(e,i){for(Lf[e]=i,e=0;e<i.length;e++)zf.add(i[e])}var tS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bf={},If={};function nS(e){return sc.call(If,e)?!0:sc.call(Bf,e)?!1:tS.test(e)?If[e]=!0:(Bf[e]=!0,!1)}function ro(e,i,a){if(nS(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function oo(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Cn(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vf(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function iS(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function dc(e){if(!e._valueTracker){var i=Vf(e)?"checked":"value";e._valueTracker=iS(e,i,""+e[i])}}function Pf(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Vf(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sS=/[\n"\\]/g;function tn(e){return e.replace(sS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fc(e,i,a,o,h,d,y,_){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+en(i)):e.value!==""+en(i)&&(e.value=""+en(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?mc(e,y,en(i)):a!=null?mc(e,y,en(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+en(_):e.removeAttribute("name")}function Hf(e,i,a,o,h,d,y,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){dc(e);return}a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,_||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=_?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),dc(e)}function mc(e,i,a){i==="number"&&lo(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ws(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function qf(e,i,a){if(i!=null&&(i=""+en(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+en(a):""}function $f(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(De(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=en(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),dc(e)}function _s(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var aS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gf(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||aS.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Kf(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Gf(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Gf(e,d,i[d])}function pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(e){return oS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nn(){}var gc=null;function yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,xs=null;function Yf(e){var i=ys(e);if(i&&(e=i.stateNode)){var a=e[Dt]||null;e:switch(e=i.stateNode,i.type){case"input":if(fc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Dt]||null;if(!h)throw Error(r(90));fc(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&Pf(o)}break e;case"textarea":qf(e,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ws(e,!!a.multiple,i,!1)}}}var vc=!1;function Ff(e,i,a){if(vc)return e(i,a);vc=!0;try{var o=e(i);return o}finally{if(vc=!1,(Ss!==null||xs!==null)&&(Qo(),Ss&&(i=Ss,e=xs,xs=Ss=null,Yf(i),e)))for(i=0;i<e.length;i++)Yf(e[i])}}function Da(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Dt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=!1;if(jn)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{bc=!1}var ei=null,wc=null,uo=null;function Xf(){if(uo)return uo;var e,i=wc,a=i.length,o,h="value"in ei?ei.value:ei.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&i[a-o]===h[d-o];o++);return uo=h.slice(e,1<o?1-o:void 0)}function ho(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function Jf(){return!1}function Mt(e){function i(a,o,h,d,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fo:Jf,this.isPropagationStopped=Jf,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Mt(Bi),Ua=v({},Bi,{view:0,detail:0}),lS=Mt(Ua),_c,Sc,za,po=v({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==za&&(za&&e.type==="mousemove"?(_c=e.screenX-za.screenX,Sc=e.screenY-za.screenY):Sc=_c=0,za=e),_c)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),Qf=Mt(po),cS=v({},po,{dataTransfer:0}),uS=Mt(cS),hS=v({},Ua,{relatedTarget:0}),xc=Mt(hS),dS=v({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=Mt(dS),mS=v({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pS=Mt(mS),gS=v({},Bi,{data:0}),Zf=Mt(gS),yS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wS(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=bS[e])?!!i[e]:!1}function Ec(){return wS}var _S=v({},Ua,{key:function(e){if(e.key){var i=yS[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SS=Mt(_S),xS=v({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wf=Mt(xS),ES=v({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),TS=Mt(ES),AS=v({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),OS=Mt(AS),RS=v({},po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=Mt(RS),NS=v({},Bi,{newState:0,oldState:0}),jS=Mt(NS),kS=[9,13,27,32],Tc=jn&&"CompositionEvent"in window,La=null;jn&&"documentMode"in document&&(La=document.documentMode);var DS=jn&&"TextEvent"in window&&!La,em=jn&&(!Tc||La&&8<La&&11>=La),tm=" ",nm=!1;function im(e,i){switch(e){case"keyup":return kS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function MS(e,i){switch(e){case"compositionend":return sm(i);case"keypress":return i.which!==32?null:(nm=!0,tm);case"textInput":return e=i.data,e===tm&&nm?null:e;default:return null}}function US(e,i){if(Es)return e==="compositionend"||!Tc&&im(e,i)?(e=Xf(),uo=wc=ei=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return em&&i.locale!=="ko"?null:i.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!zS[e.type]:i==="textarea"}function rm(e,i,a,o){Ss?xs?xs.push(o):xs=[o]:Ss=o,i=sl(i,"onChange"),0<i.length&&(a=new mo("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ba=null,Ia=null;function LS(e){Hg(e,0)}function go(e){var i=ka(e);if(Pf(i))return e}function om(e,i){if(e==="change")return i}var lm=!1;if(jn){var Ac;if(jn){var Oc="oninput"in document;if(!Oc){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),Oc=typeof cm.oninput=="function"}Ac=Oc}else Ac=!1;lm=Ac&&(!document.documentMode||9<document.documentMode)}function um(){Ba&&(Ba.detachEvent("onpropertychange",hm),Ia=Ba=null)}function hm(e){if(e.propertyName==="value"&&go(Ia)){var i=[];rm(i,Ia,e,yc(e)),Ff(LS,i)}}function BS(e,i,a){e==="focusin"?(um(),Ba=i,Ia=a,Ba.attachEvent("onpropertychange",hm)):e==="focusout"&&um()}function IS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(Ia)}function VS(e,i){if(e==="click")return go(i)}function PS(e,i){if(e==="input"||e==="change")return go(i)}function HS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var $t=typeof Object.is=="function"?Object.is:HS;function Va(e,i){if($t(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!sc.call(i,h)||!$t(e[h],i[h]))return!1}return!0}function dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fm(e,i){var a=dm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dm(a)}}function mm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?mm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function pm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=lo(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=lo(e.document)}return i}function Rc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var qS=jn&&"documentMode"in document&&11>=document.documentMode,Ts=null,Cc=null,Pa=null,Nc=!1;function gm(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nc||Ts==null||Ts!==lo(o)||(o=Ts,"selectionStart"in o&&Rc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Pa&&Va(Pa,o)||(Pa=o,o=sl(Cc,"onSelect"),0<o.length&&(i=new mo("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Ts)))}function Ii(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var As={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},jc={},ym={};jn&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Vi(e){if(jc[e])return jc[e];if(!As[e])return e;var i=As[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ym)return jc[e]=i[a];return e}var vm=Vi("animationend"),bm=Vi("animationiteration"),wm=Vi("animationstart"),$S=Vi("transitionrun"),GS=Vi("transitionstart"),KS=Vi("transitioncancel"),_m=Vi("transitionend"),Sm=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function pn(e,i){Sm.set(e,i),Li(i,[e])}var yo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],Os=0,Dc=0;function vo(){for(var e=Os,i=Dc=Os=0;i<e;){var a=nn[i];nn[i++]=null;var o=nn[i];nn[i++]=null;var h=nn[i];nn[i++]=null;var d=nn[i];if(nn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&xm(a,h,d)}}function bo(e,i,a,o){nn[Os++]=e,nn[Os++]=i,nn[Os++]=a,nn[Os++]=o,Dc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mc(e,i,a,o){return bo(e,i,a,o),wo(e)}function Pi(e,i){return bo(e,null,null,i),wo(e)}function xm(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-qt(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function wo(e){if(50<cr)throw cr=0,qu=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Rs={};function YS(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,i,a,o){return new YS(e,i,a,o)}function Uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,i){var a=e.alternate;return a===null?(a=Gt(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Em(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function _o(e,i,a,o,h,d){var y=0;if(o=e,typeof e=="function")Uc(e)&&(y=1);else if(typeof e=="string")y=Zx(e,a,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Gt(31,a,i,h),e.elementType=ee,e.lanes=d,e;case A:return Hi(a.children,h,d,i);case C:y=8,h|=24;break;case D:return e=Gt(12,a,i,h|2),e.elementType=D,e.lanes=d,e;case X:return e=Gt(13,a,i,h),e.elementType=X,e.lanes=d,e;case J:return e=Gt(19,a,i,h),e.elementType=J,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:y=10;break e;case L:y=9;break e;case K:y=11;break e;case $:y=14;break e;case B:y=16,o=null;break e}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=Gt(y,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Hi(e,i,a,o){return e=Gt(7,e,o,i),e.lanes=a,e}function zc(e,i,a){return e=Gt(6,e,null,i),e.lanes=a,e}function Tm(e){var i=Gt(18,null,null,0);return i.stateNode=e,i}function Lc(e,i,a){return i=Gt(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Am=new WeakMap;function sn(e,i){if(typeof e=="object"&&e!==null){var a=Am.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Tf(i)},Am.set(e,i),i)}return{value:e,source:i,stack:Tf(i)}}var Cs=[],Ns=0,So=null,Ha=0,an=[],rn=0,ti=null,xn=1,En="";function Dn(e,i){Cs[Ns++]=Ha,Cs[Ns++]=So,So=e,Ha=i}function Om(e,i,a){an[rn++]=xn,an[rn++]=En,an[rn++]=ti,ti=e;var o=xn;e=En;var h=32-qt(o)-1;o&=~(1<<h),a+=1;var d=32-qt(i)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,xn=1<<32-qt(i)+h|a<<h|o,En=d+e}else xn=1<<d|a<<h|o,En=e}function Bc(e){e.return!==null&&(Dn(e,1),Om(e,1,0))}function Ic(e){for(;e===So;)So=Cs[--Ns],Cs[Ns]=null,Ha=Cs[--Ns],Cs[Ns]=null;for(;e===ti;)ti=an[--rn],an[rn]=null,En=an[--rn],an[rn]=null,xn=an[--rn],an[rn]=null}function Rm(e,i){an[rn++]=xn,an[rn++]=En,an[rn++]=ti,xn=i.id,En=i.overflow,ti=e}var wt=null,$e=null,Re=!1,ni=null,on=!1,Vc=Error(r(519));function ii(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qa(sn(i,e)),Vc}function Cm(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[bt]=e,i[Dt]=o,a){case"dialog":Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":case"embed":Ee("load",i);break;case"video":case"audio":for(a=0;a<hr.length;a++)Ee(hr[a],i);break;case"source":Ee("error",i);break;case"img":case"image":case"link":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"input":Ee("invalid",i),Hf(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ee("invalid",i);break;case"textarea":Ee("invalid",i),$f(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Kg(i.textContent,a)?(o.popover!=null&&(Ee("beforetoggle",i),Ee("toggle",i)),o.onScroll!=null&&Ee("scroll",i),o.onScrollEnd!=null&&Ee("scrollend",i),o.onClick!=null&&(i.onclick=Nn),i=!0):i=!1,i||ii(e,!0)}function Nm(e){for(wt=e.return;wt;)switch(wt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:wt=wt.return}}function js(e){if(e!==wt)return!1;if(!Re)return Nm(e),Re=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sh(e.type,e.memoizedProps)),a=!a),a&&$e&&ii(e),Nm(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$e=ty(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$e=ty(e)}else i===27?(i=$e,yi(e.type)?(e=ch,ch=null,$e=e):$e=i):$e=wt?cn(e.stateNode.nextSibling):null;return!0}function qi(){$e=wt=null,Re=!1}function Pc(){var e=ni;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),ni=null),e}function qa(e){ni===null?ni=[e]:ni.push(e)}var Hc=O(null),$i=null,Mn=null;function si(e,i,a){Q(Hc,i._currentValue),i._currentValue=a}function Un(e){e._currentValue=Hc.current,P(Hc)}function qc(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function $c(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=h;for(var E=0;E<i.length;E++)if(_.context===i[E]){d.lanes|=a,_=d.alternate,_!==null&&(_.lanes|=a),qc(d.return,a,e),o||(y=null);break e}d=_.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),qc(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ks(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var _=h.type;$t(h.pendingProps.value,y.value)||(e!==null?e.push(_):e=[_])}}else if(h===oe.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gr):e=[gr])}h=h.return}e!==null&&$c(i,e,a,o),i.flags|=262144}function xo(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gi(e){$i=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return jm($i,e)}function Eo(e,i){return $i===null&&Gi(e),jm(e,i)}function jm(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mn===null){if(e===null)throw Error(r(308));Mn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mn=Mn.next=i;return a}var FS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},XS=n.unstable_scheduleCallback,JS=n.unstable_NormalPriority,rt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new FS,data:new Map,refCount:0}}function $a(e){e.refCount--,e.refCount===0&&XS(JS,function(){e.controller.abort()})}var Ga=null,Kc=0,Ds=0,Ms=null;function QS(e,i){if(Ga===null){var a=Ga=[];Kc=0,Ds=Xu(),Ms={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Kc++,i.then(km,km),i}function km(){if(--Kc===0&&Ga!==null){Ms!==null&&(Ms.status="fulfilled");var e=Ga;Ga=null,Ds=0,Ms=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ZS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Dm=U.S;U.S=function(e,i){gg=Pt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&QS(e,i),Dm!==null&&Dm(e,i)};var Ki=O(null);function Yc(){var e=Ki.current;return e!==null?e:He.pooledCache}function To(e,i){i===null?Q(Ki,Ki.current):Q(Ki,i.pool)}function Mm(){var e=Yc();return e===null?null:{parent:rt._currentValue,pool:e}}var Us=Error(r(460)),Fc=Error(r(474)),Ao=Error(r(542)),Oo={then:function(){}};function Um(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zm(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Nn,Nn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Bm(e),e;default:if(typeof i.status=="string")i.then(Nn,Nn);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Bm(e),e}throw Fi=i,Us}}function Yi(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fi=a,Us):a}}var Fi=null;function Lm(){if(Fi===null)throw Error(r(459));var e=Fi;return Fi=null,e}function Bm(e){if(e===Us||e===Ao)throw Error(r(483))}var zs=null,Ka=0;function Ro(e){var i=Ka;return Ka+=1,zs===null&&(zs=[]),zm(zs,e,i)}function Ya(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Co(e,i){throw i.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Im(e){function i(R,T){if(e){var j=R.deletions;j===null?(R.deletions=[T],R.flags|=16):j.push(T)}}function a(R,T){if(!e)return null;for(;T!==null;)i(R,T),T=T.sibling;return null}function o(R){for(var T=new Map;R!==null;)R.key!==null?T.set(R.key,R):T.set(R.index,R),R=R.sibling;return T}function h(R,T){return R=kn(R,T),R.index=0,R.sibling=null,R}function d(R,T,j){return R.index=j,e?(j=R.alternate,j!==null?(j=j.index,j<T?(R.flags|=67108866,T):j):(R.flags|=67108866,T)):(R.flags|=1048576,T)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,T,j,V){return T===null||T.tag!==6?(T=zc(j,R.mode,V),T.return=R,T):(T=h(T,j),T.return=R,T)}function E(R,T,j,V){var re=j.type;return re===A?I(R,T,j.props.children,V,j.key):T!==null&&(T.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===B&&Yi(re)===T.type)?(T=h(T,j.props),Ya(T,j),T.return=R,T):(T=_o(j.type,j.key,j.props,null,R.mode,V),Ya(T,j),T.return=R,T)}function k(R,T,j,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==j.containerInfo||T.stateNode.implementation!==j.implementation?(T=Lc(j,R.mode,V),T.return=R,T):(T=h(T,j.children||[]),T.return=R,T)}function I(R,T,j,V,re){return T===null||T.tag!==7?(T=Hi(j,R.mode,V,re),T.return=R,T):(T=h(T,j),T.return=R,T)}function H(R,T,j){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=zc(""+T,R.mode,j),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case S:return j=_o(T.type,T.key,T.props,null,R.mode,j),Ya(j,T),j.return=R,j;case x:return T=Lc(T,R.mode,j),T.return=R,T;case B:return T=Yi(T),H(R,T,j)}if(De(T)||Ce(T))return T=Hi(T,R.mode,j,null),T.return=R,T;if(typeof T.then=="function")return H(R,Ro(T),j);if(T.$$typeof===N)return H(R,Eo(R,T),j);Co(R,T)}return null}function M(R,T,j,V){var re=T!==null?T.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return re!==null?null:_(R,T,""+j,V);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===re?E(R,T,j,V):null;case x:return j.key===re?k(R,T,j,V):null;case B:return j=Yi(j),M(R,T,j,V)}if(De(j)||Ce(j))return re!==null?null:I(R,T,j,V,null);if(typeof j.then=="function")return M(R,T,Ro(j),V);if(j.$$typeof===N)return M(R,T,Eo(R,j),V);Co(R,j)}return null}function z(R,T,j,V,re){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(j)||null,_(T,R,""+V,re);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return R=R.get(V.key===null?j:V.key)||null,E(T,R,V,re);case x:return R=R.get(V.key===null?j:V.key)||null,k(T,R,V,re);case B:return V=Yi(V),z(R,T,j,V,re)}if(De(V)||Ce(V))return R=R.get(j)||null,I(T,R,V,re,null);if(typeof V.then=="function")return z(R,T,j,Ro(V),re);if(V.$$typeof===N)return z(R,T,j,Eo(T,V),re);Co(T,V)}return null}function te(R,T,j,V){for(var re=null,Ne=null,se=T,be=T=0,Ae=null;se!==null&&be<j.length;be++){se.index>be?(Ae=se,se=null):Ae=se.sibling;var je=M(R,se,j[be],V);if(je===null){se===null&&(se=Ae);break}e&&se&&je.alternate===null&&i(R,se),T=d(je,T,be),Ne===null?re=je:Ne.sibling=je,Ne=je,se=Ae}if(be===j.length)return a(R,se),Re&&Dn(R,be),re;if(se===null){for(;be<j.length;be++)se=H(R,j[be],V),se!==null&&(T=d(se,T,be),Ne===null?re=se:Ne.sibling=se,Ne=se);return Re&&Dn(R,be),re}for(se=o(se);be<j.length;be++)Ae=z(se,R,be,j[be],V),Ae!==null&&(e&&Ae.alternate!==null&&se.delete(Ae.key===null?be:Ae.key),T=d(Ae,T,be),Ne===null?re=Ae:Ne.sibling=Ae,Ne=Ae);return e&&se.forEach(function(Si){return i(R,Si)}),Re&&Dn(R,be),re}function le(R,T,j,V){if(j==null)throw Error(r(151));for(var re=null,Ne=null,se=T,be=T=0,Ae=null,je=j.next();se!==null&&!je.done;be++,je=j.next()){se.index>be?(Ae=se,se=null):Ae=se.sibling;var Si=M(R,se,je.value,V);if(Si===null){se===null&&(se=Ae);break}e&&se&&Si.alternate===null&&i(R,se),T=d(Si,T,be),Ne===null?re=Si:Ne.sibling=Si,Ne=Si,se=Ae}if(je.done)return a(R,se),Re&&Dn(R,be),re;if(se===null){for(;!je.done;be++,je=j.next())je=H(R,je.value,V),je!==null&&(T=d(je,T,be),Ne===null?re=je:Ne.sibling=je,Ne=je);return Re&&Dn(R,be),re}for(se=o(se);!je.done;be++,je=j.next())je=z(se,R,be,je.value,V),je!==null&&(e&&je.alternate!==null&&se.delete(je.key===null?be:je.key),T=d(je,T,be),Ne===null?re=je:Ne.sibling=je,Ne=je);return e&&se.forEach(function(cE){return i(R,cE)}),Re&&Dn(R,be),re}function Ve(R,T,j,V){if(typeof j=="object"&&j!==null&&j.type===A&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var re=j.key;T!==null;){if(T.key===re){if(re=j.type,re===A){if(T.tag===7){a(R,T.sibling),V=h(T,j.props.children),V.return=R,R=V;break e}}else if(T.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===B&&Yi(re)===T.type){a(R,T.sibling),V=h(T,j.props),Ya(V,j),V.return=R,R=V;break e}a(R,T);break}else i(R,T);T=T.sibling}j.type===A?(V=Hi(j.props.children,R.mode,V,j.key),V.return=R,R=V):(V=_o(j.type,j.key,j.props,null,R.mode,V),Ya(V,j),V.return=R,R=V)}return y(R);case x:e:{for(re=j.key;T!==null;){if(T.key===re)if(T.tag===4&&T.stateNode.containerInfo===j.containerInfo&&T.stateNode.implementation===j.implementation){a(R,T.sibling),V=h(T,j.children||[]),V.return=R,R=V;break e}else{a(R,T);break}else i(R,T);T=T.sibling}V=Lc(j,R.mode,V),V.return=R,R=V}return y(R);case B:return j=Yi(j),Ve(R,T,j,V)}if(De(j))return te(R,T,j,V);if(Ce(j)){if(re=Ce(j),typeof re!="function")throw Error(r(150));return j=re.call(j),le(R,T,j,V)}if(typeof j.then=="function")return Ve(R,T,Ro(j),V);if(j.$$typeof===N)return Ve(R,T,Eo(R,j),V);Co(R,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,T!==null&&T.tag===6?(a(R,T.sibling),V=h(T,j),V.return=R,R=V):(a(R,T),V=zc(j,R.mode,V),V.return=R,R=V),y(R)):a(R,T)}return function(R,T,j,V){try{Ka=0;var re=Ve(R,T,j,V);return zs=null,re}catch(se){if(se===Us||se===Ao)throw se;var Ne=Gt(29,se,null,R.mode);return Ne.lanes=V,Ne.return=R,Ne}finally{}}}var Xi=Im(!0),Vm=Im(!1),ai=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oi(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ke&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=wo(e),xm(e,null,a),i}return bo(e,o,i,a),wo(e)}function Fa(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,jf(e,a)}}function Qc(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Zc=!1;function Xa(){if(Zc){var e=Ms;if(e!==null)throw e}}function Ja(e,i,a,o){Zc=!1;var h=e.updateQueue;ai=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var E=_,k=E.next;E.next=null,y===null?d=k:y.next=k,y=E;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==y&&(_===null?I.firstBaseUpdate=k:_.next=k,I.lastBaseUpdate=E))}if(d!==null){var H=h.baseState;y=0,I=k=E=null,_=d;do{var M=_.lane&-536870913,z=M!==_.lane;if(z?(Te&M)===M:(o&M)===M){M!==0&&M===Ds&&(Zc=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var te=e,le=_;M=i;var Ve=a;switch(le.tag){case 1:if(te=le.payload,typeof te=="function"){H=te.call(Ve,H,M);break e}H=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=le.payload,M=typeof te=="function"?te.call(Ve,H,M):te,M==null)break e;H=v({},H,M);break e;case 2:ai=!0}}M=_.callback,M!==null&&(e.flags|=64,z&&(e.flags|=8192),z=h.callbacks,z===null?h.callbacks=[M]:z.push(M))}else z={lane:M,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(k=I=z,E=H):I=I.next=z,y|=M;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;z=_,_=z.next,z.next=null,h.lastBaseUpdate=z,h.shared.pending=null}}while(!0);I===null&&(E=H),h.baseState=E,h.firstBaseUpdate=k,h.lastBaseUpdate=I,d===null&&(h.shared.lanes=0),di|=y,e.lanes=y,e.memoizedState=H}}function Pm(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Hm(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Pm(a[e],i)}var Ls=O(null),No=O(0);function qm(e,i){e=$n,Q(No,e),Q(Ls,i),$n=e|i.baseLanes}function Wc(){Q(No,$n),Q(Ls,Ls.current)}function eu(){$n=No.current,P(Ls),P(No)}var Kt=O(null),ln=null;function li(e){var i=e.alternate;Q(nt,nt.current&1),Q(Kt,e),ln===null&&(i===null||Ls.current!==null||i.memoizedState!==null)&&(ln=e)}function tu(e){Q(nt,nt.current),Q(Kt,e),ln===null&&(ln=e)}function $m(e){e.tag===22?(Q(nt,nt.current),Q(Kt,e),ln===null&&(ln=e)):ci()}function ci(){Q(nt,nt.current),Q(Kt,Kt.current)}function Yt(e){P(Kt),ln===e&&(ln=null),P(nt)}var nt=O(0);function jo(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||oh(a)||lh(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zn=0,ye=null,Be=null,ot=null,ko=!1,Bs=!1,Ji=!1,Do=0,Qa=0,Is=null,WS=0;function Ze(){throw Error(r(321))}function nu(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!$t(e[a],i[a]))return!1;return!0}function iu(e,i,a,o,h,d){return zn=d,ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=e===null||e.memoizedState===null?Op:vu,Ji=!1,d=a(o,h),Ji=!1,Bs&&(d=Km(i,a,o,h)),Gm(e),d}function Gm(e){U.H=er;var i=Be!==null&&Be.next!==null;if(zn=0,ot=Be=ye=null,ko=!1,Qa=0,Is=null,i)throw Error(r(300));e===null||lt||(e=e.dependencies,e!==null&&xo(e)&&(lt=!0))}function Km(e,i,a,o){ye=e;var h=0;do{if(Bs&&(Is=null),Qa=0,Bs=!1,25<=h)throw Error(r(301));if(h+=1,ot=Be=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=Rp,d=i(a,o)}while(Bs);return d}function ex(){var e=U.H,i=e.useState()[0];return i=typeof i.then=="function"?Za(i):i,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(ye.flags|=1024),i}function su(){var e=Do!==0;return Do=0,e}function au(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function ru(e){if(ko){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ko=!1}zn=0,ot=Be=ye=null,Bs=!1,Qa=Do=0,Is=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?ye.memoizedState=ot=e:ot=ot.next=e,ot}function it(){if(Be===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var i=ot===null?ye.memoizedState:ot.next;if(i!==null)ot=i,Be=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},ot===null?ye.memoizedState=ot=e:ot=ot.next=e}return ot}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Za(e){var i=Qa;return Qa+=1,Is===null&&(Is=[]),e=zm(Is,e,i),i=ye,(ot===null?i.memoizedState:ot.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Op:vu),e}function Uo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Za(e);if(e.$$typeof===N)return _t(e)}throw Error(r(438,String(e)))}function ou(e){var i=null,a=ye.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=ye.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Mo(),ye.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=Se;return i.index++,a}function Ln(e,i){return typeof i=="function"?i(e):i}function zo(e){var i=it();return lu(i,Be,e)}function lu(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var _=y=null,E=null,k=i,I=!1;do{var H=k.lane&-536870913;if(H!==k.lane?(Te&H)===H:(zn&H)===H){var M=k.revertLane;if(M===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),H===Ds&&(I=!0);else if((zn&M)===M){k=k.next,M===Ds&&(I=!0);continue}else H={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},E===null?(_=E=H,y=d):E=E.next=H,ye.lanes|=M,di|=M;H=k.action,Ji&&a(d,H),d=k.hasEagerState?k.eagerState:a(d,H)}else M={lane:H,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},E===null?(_=E=M,y=d):E=E.next=M,ye.lanes|=H,di|=H;k=k.next}while(k!==null&&k!==i);if(E===null?y=d:E.next=_,!$t(d,e.memoizedState)&&(lt=!0,I&&(a=Ms,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=E,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cu(e){var i=it(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);$t(d,i.memoizedState)||(lt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Ym(e,i,a){var o=ye,h=it(),d=Re;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!$t((Be||h).memoizedState,a);if(y&&(h.memoizedState=a,lt=!0),h=h.queue,du(Jm.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||ot!==null&&ot.memoizedState.tag&1){if(o.flags|=2048,Vs(9,{destroy:void 0},Xm.bind(null,o,h,a,i),null),He===null)throw Error(r(349));d||(zn&127)!==0||Fm(o,i,a)}return a}function Fm(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=ye.updateQueue,i===null?(i=Mo(),ye.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Xm(e,i,a,o){i.value=a,i.getSnapshot=o,Qm(i)&&Zm(e)}function Jm(e,i,a){return a(function(){Qm(i)&&Zm(e)})}function Qm(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!$t(e,a)}catch{return!0}}function Zm(e){var i=Pi(e,2);i!==null&&It(i,e,2)}function uu(e){var i=jt();if(typeof e=="function"){var a=e;if(e=a(),Ji){Zn(!0);try{a()}finally{Zn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},i}function Wm(e,i,a,o){return e.baseState=a,lu(e,Be,typeof o=="function"?o:Ln)}function tx(e,i,a,o,h){if(Io(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};U.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,ep(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ep(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=U.T,y={};U.T=y;try{var _=a(h,o),E=U.S;E!==null&&E(y,_),tp(e,i,_)}catch(k){hu(e,i,k)}finally{d!==null&&y.types!==null&&(d.types=y.types),U.T=d}}else try{d=a(h,o),tp(e,i,d)}catch(k){hu(e,i,k)}}function tp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){np(e,i,o)},function(o){return hu(e,i,o)}):np(e,i,a)}function np(e,i,a){i.status="fulfilled",i.value=a,ip(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ep(e,a)))}function hu(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,ip(i),i=i.next;while(i!==o)}e.action=null}function ip(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function sp(e,i){return i}function ap(e,i){if(Re){var a=He.formState;if(a!==null){e:{var o=ye;if(Re){if($e){t:{for(var h=$e,d=on;h.nodeType!==8;){if(!d){h=null;break t}if(h=cn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){$e=cn(h.nextSibling),o=h.data==="F!";break e}}ii(o)}o=!1}o&&(i=a[0])}}return a=jt(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:i},a.queue=o,a=Ep.bind(null,ye,o),o.dispatch=a,o=uu(!1),d=yu.bind(null,ye,!1,o.queue),o=jt(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=tx.bind(null,ye,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function rp(e){var i=it();return op(i,Be,e)}function op(e,i,a){if(i=lu(e,i,sp)[0],e=zo(Ln)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Za(i)}catch(y){throw y===Us?Ao:y}else o=i;i=it();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(ye.flags|=2048,Vs(9,{destroy:void 0},nx.bind(null,h,a),null)),[o,d,e]}function nx(e,i){e.action=i}function lp(e){var i=it(),a=Be;if(a!==null)return op(i,a,e);it(),i=i.memoizedState,a=it();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Vs(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=ye.updateQueue,i===null&&(i=Mo(),ye.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function cp(){return it().memoizedState}function Lo(e,i,a,o){var h=jt();ye.flags|=e,h.memoizedState=Vs(1|i,{destroy:void 0},a,o===void 0?null:o)}function Bo(e,i,a,o){var h=it();o=o===void 0?null:o;var d=h.memoizedState.inst;Be!==null&&o!==null&&nu(o,Be.memoizedState.deps)?h.memoizedState=Vs(i,d,a,o):(ye.flags|=e,h.memoizedState=Vs(1|i,d,a,o))}function up(e,i){Lo(8390656,8,e,i)}function du(e,i){Bo(2048,8,e,i)}function ix(e){ye.flags|=4;var i=ye.updateQueue;if(i===null)i=Mo(),ye.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function hp(e){var i=it().memoizedState;return ix({ref:i,nextImpl:e}),function(){if((ke&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function dp(e,i){return Bo(4,2,e,i)}function fp(e,i){return Bo(4,4,e,i)}function mp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function pp(e,i,a){a=a!=null?a.concat([e]):null,Bo(4,4,mp.bind(null,i,e),a)}function fu(){}function gp(e,i){var a=it();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&nu(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function yp(e,i){var a=it();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&nu(i,o[1]))return o[0];if(o=e(),Ji){Zn(!0);try{e()}finally{Zn(!1)}}return a.memoizedState=[o,i],o}function mu(e,i,a){return a===void 0||(zn&1073741824)!==0&&(Te&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=vg(),ye.lanes|=e,di|=e,a)}function vp(e,i,a,o){return $t(a,i)?a:Ls.current!==null?(e=mu(e,a,o),$t(e,i)||(lt=!0),e):(zn&42)===0||(zn&1073741824)!==0&&(Te&261930)===0?(lt=!0,e.memoizedState=a):(e=vg(),ye.lanes|=e,di|=e,i)}function bp(e,i,a,o,h){var d=G.p;G.p=d!==0&&8>d?d:8;var y=U.T,_={};U.T=_,yu(e,!1,i,a);try{var E=h(),k=U.S;if(k!==null&&k(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=ZS(E,o);Wa(e,i,I,Jt(e))}else Wa(e,i,o,Jt(e))}catch(H){Wa(e,i,{then:function(){},status:"rejected",reason:H},Jt())}finally{G.p=d,y!==null&&_.types!==null&&(y.types=_.types),U.T=y}}function sx(){}function pu(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=wp(e).queue;bp(e,h,i,q,a===null?sx:function(){return _p(e),a(o)})}function wp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:q},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function _p(e){var i=wp(e);i.next===null&&(i=e.alternate.memoizedState),Wa(e,i.next.queue,{},Jt())}function gu(){return _t(gr)}function Sp(){return it().memoizedState}function xp(){return it().memoizedState}function ax(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Jt();e=ri(a);var o=oi(i,e,a);o!==null&&(It(o,i,a),Fa(o,i,a)),i={cache:Gc()},e.payload=i;return}i=i.return}}function rx(e,i,a){var o=Jt();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Io(e)?Tp(i,a):(a=Mc(e,i,a,o),a!==null&&(It(a,e,o),Ap(a,i,o)))}function Ep(e,i,a){var o=Jt();Wa(e,i,a,o)}function Wa(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Io(e))Tp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,_=d(y,a);if(h.hasEagerState=!0,h.eagerState=_,$t(_,y))return bo(e,i,h,0),He===null&&vo(),!1}catch{}finally{}if(a=Mc(e,i,h,o),a!==null)return It(a,e,o),Ap(a,i,o),!0}return!1}function yu(e,i,a,o){if(o={lane:2,revertLane:Xu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Io(e)){if(i)throw Error(r(479))}else i=Mc(e,a,o,2),i!==null&&It(i,e,2)}function Io(e){var i=e.alternate;return e===ye||i!==null&&i===ye}function Tp(e,i){Bs=ko=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ap(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,jf(e,a)}}var er={readContext:_t,use:Uo,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};er.useEffectEvent=Ze;var Op={readContext:_t,use:Uo,useCallback:function(e,i){return jt().memoizedState=[e,i===void 0?null:i],e},useContext:_t,useEffect:up,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Lo(4194308,4,mp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Lo(4194308,4,e,i)},useInsertionEffect:function(e,i){Lo(4,2,e,i)},useMemo:function(e,i){var a=jt();i=i===void 0?null:i;var o=e();if(Ji){Zn(!0);try{e()}finally{Zn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=jt();if(a!==void 0){var h=a(i);if(Ji){Zn(!0);try{a(i)}finally{Zn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=rx.bind(null,ye,e),[o.memoizedState,e]},useRef:function(e){var i=jt();return e={current:e},i.memoizedState=e},useState:function(e){e=uu(e);var i=e.queue,a=Ep.bind(null,ye,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:fu,useDeferredValue:function(e,i){var a=jt();return mu(a,e,i)},useTransition:function(){var e=uu(!1);return e=bp.bind(null,ye,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=ye,h=jt();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),He===null)throw Error(r(349));(Te&127)!==0||Fm(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,up(Jm.bind(null,o,d,e),[e]),o.flags|=2048,Vs(9,{destroy:void 0},Xm.bind(null,o,d,a,i),null),a},useId:function(){var e=jt(),i=He.identifierPrefix;if(Re){var a=En,o=xn;a=(o&~(1<<32-qt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Do++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=WS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:gu,useFormState:ap,useActionState:ap,useOptimistic:function(e){var i=jt();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yu.bind(null,ye,!0,a),a.dispatch=i,[e,i]},useMemoCache:ou,useCacheRefresh:function(){return jt().memoizedState=ax.bind(null,ye)},useEffectEvent:function(e){var i=jt(),a={impl:e};return i.memoizedState=a,function(){if((ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},vu={readContext:_t,use:Uo,useCallback:gp,useContext:_t,useEffect:du,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:fp,useMemo:yp,useReducer:zo,useRef:cp,useState:function(){return zo(Ln)},useDebugValue:fu,useDeferredValue:function(e,i){var a=it();return vp(a,Be.memoizedState,e,i)},useTransition:function(){var e=zo(Ln)[0],i=it().memoizedState;return[typeof e=="boolean"?e:Za(e),i]},useSyncExternalStore:Ym,useId:Sp,useHostTransitionStatus:gu,useFormState:rp,useActionState:rp,useOptimistic:function(e,i){var a=it();return Wm(a,Be,e,i)},useMemoCache:ou,useCacheRefresh:xp};vu.useEffectEvent=hp;var Rp={readContext:_t,use:Uo,useCallback:gp,useContext:_t,useEffect:du,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:fp,useMemo:yp,useReducer:cu,useRef:cp,useState:function(){return cu(Ln)},useDebugValue:fu,useDeferredValue:function(e,i){var a=it();return Be===null?mu(a,e,i):vp(a,Be.memoizedState,e,i)},useTransition:function(){var e=cu(Ln)[0],i=it().memoizedState;return[typeof e=="boolean"?e:Za(e),i]},useSyncExternalStore:Ym,useId:Sp,useHostTransitionStatus:gu,useFormState:lp,useActionState:lp,useOptimistic:function(e,i){var a=it();return Be!==null?Wm(a,Be,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ou,useCacheRefresh:xp};Rp.useEffectEvent=hp;function bu(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:v({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wu={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Jt(),h=ri(o);h.payload=i,a!=null&&(h.callback=a),i=oi(e,h,o),i!==null&&(It(i,e,o),Fa(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Jt(),h=ri(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=oi(e,h,o),i!==null&&(It(i,e,o),Fa(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Jt(),o=ri(a);o.tag=2,i!=null&&(o.callback=i),i=oi(e,o,a),i!==null&&(It(i,e,a),Fa(i,e,a))}};function Cp(e,i,a,o,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):i.prototype&&i.prototype.isPureReactComponent?!Va(a,o)||!Va(h,d):!0}function Np(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&wu.enqueueReplaceState(i,i.state,null)}function Qi(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=v({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function jp(e){yo(e)}function kp(e){console.error(e)}function Dp(e){yo(e)}function Vo(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Mp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _u(e,i,a){return a=ri(a),a.tag=3,a.payload={element:null},a.callback=function(){Vo(e,i)},a}function Up(e){return e=ri(e),e.tag=3,e}function zp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Mp(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Mp(i,a,o),typeof h!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})})}function ox(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&ks(i,a,h,!0),a=Kt.current,a!==null){switch(a.tag){case 31:case 13:return ln===null?Zo():a.alternate===null&&We===0&&(We=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Oo?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Ku(e,o,h)),!1;case 22:return a.flags|=65536,o===Oo?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Ku(e,o,h)),!1}throw Error(r(435,a.tag))}return Ku(e,o,h),Zo(),!1}if(Re)return i=Kt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Vc&&(e=Error(r(422),{cause:o}),qa(sn(e,a)))):(o!==Vc&&(i=Error(r(423),{cause:o}),qa(sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=sn(o,a),h=_u(e.stateNode,o,h),Qc(e,h),We!==4&&(We=2)),!1;var d=Error(r(520),{cause:o});if(d=sn(d,a),lr===null?lr=[d]:lr.push(d),We!==4&&(We=2),i===null)return!0;o=sn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=_u(a.stateNode,o,e),Qc(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fi===null||!fi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Up(h),zp(h,e,a,o),Qc(a,h),!1}a=a.return}while(a!==null);return!1}var Su=Error(r(461)),lt=!1;function St(e,i,a,o){i.child=e===null?Vm(i,null,a,o):Xi(i,e.child,a,o)}function Lp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var y={};for(var _ in o)_!=="ref"&&(y[_]=o[_])}else y=o;return Gi(i),o=iu(e,i,a,y,d,h),_=su(),e!==null&&!lt?(au(e,i,h),Bn(e,i,h)):(Re&&_&&Bc(i),i.flags|=1,St(e,i,o,h),i.child)}function Bp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Uc(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ip(e,i,d,o,h)):(e=_o(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Nu(e,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Va,a(y,o)&&e.ref===i.ref)return Bn(e,i,h)}return i.flags|=1,e=kn(d,o),e.ref=i.ref,e.return=i,i.child=e}function Ip(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Va(d,o)&&e.ref===i.ref)if(lt=!1,i.pendingProps=o=d,Nu(e,h))(e.flags&131072)!==0&&(lt=!0);else return i.lanes=e.lanes,Bn(e,i,h)}return xu(e,i,a,o,h)}function Vp(e,i,a,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return Pp(e,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&To(i,d!==null?d.cachePool:null),d!==null?qm(i,d):Wc(),$m(i);else return o=i.lanes=536870912,Pp(e,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(To(i,d.cachePool),qm(i,d),ci(),i.memoizedState=null):(e!==null&&To(i,null),Wc(),ci());return St(e,i,h,a),i.child}function tr(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Pp(e,i,a,o,h){var d=Yc();return d=d===null?null:{parent:rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&To(i,null),Wc(),$m(i),e!==null&&ks(e,i,o,!0),i.childLanes=h,null}function Po(e,i){return i=qo({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Hp(e,i,a){return Xi(i,e.child,null,a),e=Po(i,i.pendingProps),e.flags|=2,Yt(i),i.memoizedState=null,e}function lx(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Re){if(o.mode==="hidden")return e=Po(i,o),i.lanes=536870912,tr(null,e);if(tu(i),(e=$e)?(e=ey(e,on),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ti!==null?{id:xn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=Tm(e),a.return=i,i.child=a,wt=i,$e=null)):e=null,e===null)throw ii(i);return i.lanes=536870912,null}return Po(i,o)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(tu(i),h)if(i.flags&256)i.flags&=-257,i=Hp(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(lt||ks(e,i,a,!1),h=(a&e.childLanes)!==0,lt||h){if(o=He,o!==null&&(y=kf(o,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Pi(e,y),It(o,e,y),Su;Zo(),i=Hp(e,i,a)}else e=d.treeContext,$e=cn(y.nextSibling),wt=i,Re=!0,ni=null,on=!1,e!==null&&Rm(i,e),i=Po(i,o),i.flags|=4096;return i}return e=kn(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ho(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function xu(e,i,a,o,h){return Gi(i),a=iu(e,i,a,o,void 0,h),o=su(),e!==null&&!lt?(au(e,i,h),Bn(e,i,h)):(Re&&o&&Bc(i),i.flags|=1,St(e,i,a,h),i.child)}function qp(e,i,a,o,h,d){return Gi(i),i.updateQueue=null,a=Km(i,o,a,h),Gm(e),o=su(),e!==null&&!lt?(au(e,i,d),Bn(e,i,d)):(Re&&o&&Bc(i),i.flags|=1,St(e,i,a,d),i.child)}function $p(e,i,a,o,h){if(Gi(i),i.stateNode===null){var d=Rs,y=a.contextType;typeof y=="object"&&y!==null&&(d=_t(y)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wu,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Xc(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?_t(y):Rs,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(bu(i,a,y,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&wu.enqueueReplaceState(d,d.state,null),Ja(i,o,d,h),Xa(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var _=i.memoizedProps,E=Qi(a,_);d.props=E;var k=d.context,I=a.contextType;y=Rs,typeof I=="object"&&I!==null&&(y=_t(I));var H=a.getDerivedStateFromProps;I=typeof H=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,I||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||k!==y)&&Np(i,d,o,y),ai=!1;var M=i.memoizedState;d.state=M,Ja(i,o,d,h),Xa(),k=i.memoizedState,_||M!==k||ai?(typeof H=="function"&&(bu(i,a,H,o),k=i.memoizedState),(E=ai||Cp(i,a,E,o,M,k,y))?(I||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=k),d.props=o,d.state=k,d.context=y,o=E):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Jc(e,i),y=i.memoizedProps,I=Qi(a,y),d.props=I,H=i.pendingProps,M=d.context,k=a.contextType,E=Rs,typeof k=="object"&&k!==null&&(E=_t(k)),_=a.getDerivedStateFromProps,(k=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==H||M!==E)&&Np(i,d,o,E),ai=!1,M=i.memoizedState,d.state=M,Ja(i,o,d,h),Xa();var z=i.memoizedState;y!==H||M!==z||ai||e!==null&&e.dependencies!==null&&xo(e.dependencies)?(typeof _=="function"&&(bu(i,a,_,o),z=i.memoizedState),(I=ai||Cp(i,a,I,o,M,z,E)||e!==null&&e.dependencies!==null&&xo(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,z,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,z,E)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=E,o=I):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Ho(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Xi(i,e.child,null,h),i.child=Xi(i,null,a,h)):St(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Bn(e,i,h),e}function Gp(e,i,a,o){return qi(),i.flags|=256,St(e,i,a,o),i.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(e){return{baseLanes:e,cachePool:Mm()}}function Au(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Xt),e}function Kp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Re){if(h?li(i):ci(),(e=$e)?(e=ey(e,on),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ti!==null?{id:xn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=Tm(e),a.return=i,i.child=a,wt=i,$e=null)):e=null,e===null)throw ii(i);return lh(e)?i.lanes=32:i.lanes=536870912,null}var _=o.children;return o=o.fallback,h?(ci(),h=i.mode,_=qo({mode:"hidden",children:_},h),o=Hi(o,h,a,null),_.return=i,o.return=i,_.sibling=o,i.child=_,o=i.child,o.memoizedState=Tu(a),o.childLanes=Au(e,y,a),i.memoizedState=Eu,tr(null,o)):(li(i),Ou(i,_))}var E=e.memoizedState;if(E!==null&&(_=E.dehydrated,_!==null)){if(d)i.flags&256?(li(i),i.flags&=-257,i=Ru(e,i,a)):i.memoizedState!==null?(ci(),i.child=e.child,i.flags|=128,i=null):(ci(),_=o.fallback,h=i.mode,o=qo({mode:"visible",children:o.children},h),_=Hi(_,h,a,null),_.flags|=2,o.return=i,_.return=i,o.sibling=_,i.child=o,Xi(i,e.child,null,a),o=i.child,o.memoizedState=Tu(a),o.childLanes=Au(e,y,a),i.memoizedState=Eu,i=tr(null,o));else if(li(i),lh(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var k=y.dgst;y=k,o=Error(r(419)),o.stack="",o.digest=y,qa({value:o,source:null,stack:null}),i=Ru(e,i,a)}else if(lt||ks(e,i,a,!1),y=(a&e.childLanes)!==0,lt||y){if(y=He,y!==null&&(o=kf(y,a),o!==0&&o!==E.retryLane))throw E.retryLane=o,Pi(e,o),It(y,e,o),Su;oh(_)||Zo(),i=Ru(e,i,a)}else oh(_)?(i.flags|=192,i.child=e.child,i=null):(e=E.treeContext,$e=cn(_.nextSibling),wt=i,Re=!0,ni=null,on=!1,e!==null&&Rm(i,e),i=Ou(i,o.children),i.flags|=4096);return i}return h?(ci(),_=o.fallback,h=i.mode,E=e.child,k=E.sibling,o=kn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,k!==null?_=kn(k,_):(_=Hi(_,h,a,null),_.flags|=2),_.return=i,o.return=i,o.sibling=_,i.child=o,tr(null,o),o=i.child,_=e.child.memoizedState,_===null?_=Tu(a):(h=_.cachePool,h!==null?(E=rt._currentValue,h=h.parent!==E?{parent:E,pool:E}:h):h=Mm(),_={baseLanes:_.baseLanes|a,cachePool:h}),o.memoizedState=_,o.childLanes=Au(e,y,a),i.memoizedState=Eu,tr(e.child,o)):(li(i),a=e.child,e=a.sibling,a=kn(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function Ou(e,i){return i=qo({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function qo(e,i){return e=Gt(22,e,null,i),e.lanes=0,e}function Ru(e,i,a){return Xi(i,e.child,null,a),e=Ou(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Yp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),qc(e.return,i,a)}function Cu(e,i,a,o,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function Fp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var y=nt.current,_=(y&2)!==0;if(_?(y=y&1|2,i.flags|=128):y&=1,Q(nt,y),St(e,i,o,a),o=Re?Ha:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yp(e,a,i);else if(e.tag===19)Yp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&jo(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cu(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&jo(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Cu(i,!0,a,null,d,o);break;case"together":Cu(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Bn(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),di|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ks(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=kn(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=kn(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Nu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&xo(e)))}function cx(e,i,a){switch(i.tag){case 3:at(i,i.stateNode.containerInfo),si(i,rt,e.memoizedState.cache),qi();break;case 27:case 5:fe(i);break;case 4:at(i,i.stateNode.containerInfo);break;case 10:si(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,tu(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(li(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Kp(e,i,a):(li(i),e=Bn(e,i,a),e!==null?e.sibling:null);li(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(ks(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Fp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(nt,nt.current),o)break;return null;case 22:return i.lanes=0,Vp(e,i,a,i.pendingProps);case 24:si(i,rt,e.memoizedState.cache)}return Bn(e,i,a)}function Xp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)lt=!0;else{if(!Nu(e,a)&&(i.flags&128)===0)return lt=!1,cx(e,i,a);lt=(e.flags&131072)!==0}else lt=!1,Re&&(i.flags&1048576)!==0&&Om(i,Ha,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(e=Yi(i.elementType),i.type=e,typeof e=="function")Uc(e)?(o=Qi(e,o),i.tag=1,i=$p(null,i,e,o,a)):(i.tag=0,i=xu(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===K){i.tag=11,i=Lp(null,i,e,o,a);break e}else if(h===$){i.tag=14,i=Bp(null,i,e,o,a);break e}}throw i=Ye(e)||e,Error(r(306,i,""))}}return i;case 0:return xu(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Qi(o,i.pendingProps),$p(e,i,o,h,a);case 3:e:{if(at(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Jc(e,i),Ja(i,o,null,a);var y=i.memoizedState;if(o=y.cache,si(i,rt,o),o!==d.cache&&$c(i,[rt],a,!0),Xa(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gp(e,i,o,a);break e}else if(o!==h){h=sn(Error(r(424)),i),qa(h),i=Gp(e,i,o,a);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=cn(e.firstChild),wt=i,Re=!0,ni=null,on=!0,a=Vm(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qi(),o===h){i=Bn(e,i,a);break e}St(e,i,o,a)}i=i.child}return i;case 26:return Ho(e,i),e===null?(a=ry(i.type,null,i.pendingProps,null))?i.memoizedState=a:Re||(a=i.type,e=i.pendingProps,o=al(ge.current).createElement(a),o[bt]=i,o[Dt]=e,xt(o,a,e),gt(o),i.stateNode=o):i.memoizedState=ry(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fe(i),e===null&&Re&&(o=i.stateNode=iy(i.type,i.pendingProps,ge.current),wt=i,on=!0,h=$e,yi(i.type)?(ch=h,$e=cn(o.firstChild)):$e=h),St(e,i,i.pendingProps.children,a),Ho(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Re&&((h=o=$e)&&(o=Ix(o,i.type,i.pendingProps,on),o!==null?(i.stateNode=o,wt=i,$e=cn(o.firstChild),on=!1,h=!0):h=!1),h||ii(i)),fe(i),h=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,sh(h,d)?o=null:y!==null&&sh(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=iu(e,i,ex,null,null,a),gr._currentValue=h),Ho(e,i),St(e,i,o,a),i.child;case 6:return e===null&&Re&&((e=a=$e)&&(a=Vx(a,i.pendingProps,on),a!==null?(i.stateNode=a,wt=i,$e=null,e=!0):e=!1),e||ii(i)),null;case 13:return Kp(e,i,a);case 4:return at(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Xi(i,null,o,a):St(e,i,o,a),i.child;case 11:return Lp(e,i,i.type,i.pendingProps,a);case 7:return St(e,i,i.pendingProps,a),i.child;case 8:return St(e,i,i.pendingProps.children,a),i.child;case 12:return St(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,si(i,i.type,o.value),St(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Gi(i),h=_t(h),o=o(h),i.flags|=1,St(e,i,o,a),i.child;case 14:return Bp(e,i,i.type,i.pendingProps,a);case 15:return Ip(e,i,i.type,i.pendingProps,a);case 19:return Fp(e,i,a);case 31:return lx(e,i,a);case 22:return Vp(e,i,a,i.pendingProps);case 24:return Gi(i),o=_t(rt),e===null?(h=Yc(),h===null&&(h=He,d=Gc(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Xc(i),si(i,rt,h)):((e.lanes&a)!==0&&(Jc(e,i),Ja(i,null,null,a),Xa()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),si(i,rt,o)):(o=d.cache,si(i,rt,o),o!==h.cache&&$c(i,[rt],a,!0))),St(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function In(e){e.flags|=4}function ju(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Sg())e.flags|=8192;else throw Fi=Oo,Fc}else e.flags&=-16777217}function Jp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hy(i))if(Sg())e.flags|=8192;else throw Fi=Oo,Fc}function $o(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Cf():536870912,e.lanes|=i,$s|=i)}function nr(e,i){if(!Re)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ge(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function ux(e,i,a){var o=i.pendingProps;switch(Ic(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(i),null;case 1:return Ge(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Un(rt),Y(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(js(i)?In(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pc())),Ge(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(In(i),d!==null?(Ge(i),Jp(i,d)):(Ge(i),ju(i,h,null,o,a))):d?d!==e.memoizedState?(In(i),Ge(i),Jp(i,d)):(Ge(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&In(i),Ge(i),ju(i,h,e,o,a)),null;case 27:if(Pe(i),a=ge.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&In(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Ge(i),null}e=Z.current,js(i)?Cm(i):(e=iy(h,o,a),i.stateNode=e,In(i))}return Ge(i),null;case 5:if(Pe(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&In(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Ge(i),null}if(d=Z.current,js(i))Cm(i);else{var y=al(ge.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}d[bt]=i,d[Dt]=o;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;e:switch(xt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&In(i)}}return Ge(i),ju(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&In(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=ge.current,js(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=wt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[bt]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Kg(e.nodeValue,a)),e||ii(i,!0)}else e=al(e).createTextNode(o),e[bt]=i,i.stateNode=e}return Ge(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=js(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[bt]=i}else qi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ge(i),e=!1}else a=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Yt(i),i):(Yt(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Ge(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=js(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=i}else qi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ge(i),h=!1}else h=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Yt(i),i):(Yt(i),null)}return Yt(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),$o(i,i.updateQueue),Ge(i),null);case 4:return Y(),e===null&&Wu(i.stateNode.containerInfo),Ge(i),null;case 10:return Un(i.type),Ge(i),null;case 19:if(P(nt),o=i.memoizedState,o===null)return Ge(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)nr(o,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=jo(e),d!==null){for(i.flags|=128,nr(o,!1),e=d.updateQueue,i.updateQueue=e,$o(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Em(a,e),a=a.sibling;return Q(nt,nt.current&1|2),Re&&Dn(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&Pt()>Xo&&(i.flags|=128,h=!0,nr(o,!1),i.lanes=4194304)}else{if(!h)if(e=jo(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,$o(i,e),nr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Re)return Ge(i),null}else 2*Pt()-o.renderingStartTime>Xo&&a!==536870912&&(i.flags|=128,h=!0,nr(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pt(),e.sibling=null,a=nt.current,Q(nt,h?a&1|2:a&1),Re&&Dn(i,o.treeForkCount),e):(Ge(i),null);case 22:case 23:return Yt(i),eu(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Ge(i),i.subtreeFlags&6&&(i.flags|=8192)):Ge(i),a=i.updateQueue,a!==null&&$o(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&P(Ki),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Un(rt),Ge(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function hx(e,i){switch(Ic(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Un(rt),Y(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Pe(i),null;case 31:if(i.memoizedState!==null){if(Yt(i),i.alternate===null)throw Error(r(340));qi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Yt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));qi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return P(nt),null;case 4:return Y(),null;case 10:return Un(i.type),null;case 22:case 23:return Yt(i),eu(),e!==null&&P(Ki),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Un(rt),null;case 25:return null;default:return null}}function Qp(e,i){switch(Ic(i),i.tag){case 3:Un(rt),Y();break;case 26:case 27:case 5:Pe(i);break;case 4:Y();break;case 31:i.memoizedState!==null&&Yt(i);break;case 13:Yt(i);break;case 19:P(nt);break;case 10:Un(i.type);break;case 22:case 23:Yt(i),eu(),e!==null&&P(Ki);break;case 24:Un(rt)}}function ir(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,y=a.inst;o=d(),y.destroy=o}a=a.next}while(a!==h)}}catch(_){ze(i,i.return,_)}}function ui(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var y=o.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,h=i;var E=a,k=_;try{k()}catch(I){ze(h,E,I)}}}o=o.next}while(o!==d)}}catch(I){ze(i,i.return,I)}}function Zp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Hm(i,a)}catch(o){ze(e,e.return,o)}}}function Wp(e,i,a){a.props=Qi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ze(e,i,o)}}function sr(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ze(e,i,h)}}function Tn(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ze(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ze(e,i,h)}else a.current=null}function eg(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ze(e,e.return,h)}}function ku(e,i,a){try{var o=e.stateNode;Dx(o,e.type,a,i),o[Dt]=i}catch(h){ze(e,e.return,h)}}function tg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yi(e.type)||e.tag===4}function Du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nn));else if(o!==4&&(o===27&&yi(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Mu(e,i,a),e=e.sibling;e!==null;)Mu(e,i,a),e=e.sibling}function Go(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&yi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Go(e,i,a),e=e.sibling;e!==null;)Go(e,i,a),e=e.sibling}function ng(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);xt(i,o,a),i[bt]=e,i[Dt]=a}catch(d){ze(e,e.return,d)}}var Vn=!1,ct=!1,Uu=!1,ig=typeof WeakSet=="function"?WeakSet:Set,yt=null;function dx(e,i){if(e=e.containerInfo,nh=dl,e=pm(e),Rc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,_=-1,E=-1,k=0,I=0,H=e,M=null;t:for(;;){for(var z;H!==a||h!==0&&H.nodeType!==3||(_=y+h),H!==d||o!==0&&H.nodeType!==3||(E=y+o),H.nodeType===3&&(y+=H.nodeValue.length),(z=H.firstChild)!==null;)M=H,H=z;for(;;){if(H===e)break t;if(M===a&&++k===h&&(_=y),M===d&&++I===o&&(E=y),(z=H.nextSibling)!==null)break;H=M,M=H.parentNode}H=z}a=_===-1||E===-1?null:{start:_,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(ih={focusedElem:e,selectionRange:a},dl=!1,yt=i;yt!==null;)if(i=yt,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,yt=e;else for(;yt!==null;){switch(i=yt,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var te=Qi(a.type,h);e=o.getSnapshotBeforeUpdate(te,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(le){ze(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)rh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,yt=e;break}yt=i.return}}function sg(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Hn(e,a),o&4&&ir(5,a);break;case 1:if(Hn(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){ze(a,a.return,y)}else{var h=Qi(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ze(a,a.return,y)}}o&64&&Zp(a),o&512&&sr(a,a.return);break;case 3:if(Hn(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hm(e,i)}catch(y){ze(a,a.return,y)}}break;case 27:i===null&&o&4&&ng(a);case 26:case 5:Hn(e,a),i===null&&o&4&&eg(a),o&512&&sr(a,a.return);break;case 12:Hn(e,a);break;case 31:Hn(e,a),o&4&&og(e,a);break;case 13:Hn(e,a),o&4&&lg(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_x.bind(null,a),Px(e,a))));break;case 22:if(o=a.memoizedState!==null||Vn,!o){i=i!==null&&i.memoizedState!==null||ct,h=Vn;var d=ct;Vn=o,(ct=i)&&!d?qn(e,a,(a.subtreeFlags&8772)!==0):Hn(e,a),Vn=h,ct=d}break;case 30:break;default:Hn(e,a)}}function ag(e){var i=e.alternate;i!==null&&(e.alternate=null,ag(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&hc(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Ut=!1;function Pn(e,i,a){for(a=a.child;a!==null;)rg(e,i,a),a=a.sibling}function rg(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Ra,a)}catch{}switch(a.tag){case 26:ct||Tn(a,i),Pn(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||Tn(a,i);var o=Fe,h=Ut;yi(a.type)&&(Fe=a.stateNode,Ut=!1),Pn(e,i,a),fr(a.stateNode),Fe=o,Ut=h;break;case 5:ct||Tn(a,i);case 6:if(o=Fe,h=Ut,Fe=null,Pn(e,i,a),Fe=o,Ut=h,Fe!==null)if(Ut)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(a.stateNode)}catch(d){ze(a,i,d)}else try{Fe.removeChild(a.stateNode)}catch(d){ze(a,i,d)}break;case 18:Fe!==null&&(Ut?(e=Fe,Zg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zs(e)):Zg(Fe,a.stateNode));break;case 4:o=Fe,h=Ut,Fe=a.stateNode.containerInfo,Ut=!0,Pn(e,i,a),Fe=o,Ut=h;break;case 0:case 11:case 14:case 15:ui(2,a,i),ct||ui(4,a,i),Pn(e,i,a);break;case 1:ct||(Tn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Wp(a,i,o)),Pn(e,i,a);break;case 21:Pn(e,i,a);break;case 22:ct=(o=ct)||a.memoizedState!==null,Pn(e,i,a),ct=o;break;default:Pn(e,i,a)}}function og(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zs(e)}catch(a){ze(i,i.return,a)}}}function lg(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zs(e)}catch(a){ze(i,i.return,a)}}function fx(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ig),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ig),i;default:throw Error(r(435,e.tag))}}function Ko(e,i){var a=fx(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=Sx.bind(null,e,o);o.then(h,h)}})}function zt(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,y=i,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(yi(_.type)){Fe=_.stateNode,Ut=!1;break e}break;case 5:Fe=_.stateNode,Ut=!1;break e;case 3:case 4:Fe=_.stateNode.containerInfo,Ut=!0;break e}_=_.return}if(Fe===null)throw Error(r(160));rg(d,y,h),Fe=null,Ut=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)cg(i,e),i=i.sibling}var gn=null;function cg(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(i,e),Lt(e),o&4&&(ui(3,e,e.return),ir(3,e),ui(5,e,e.return));break;case 1:zt(i,e),Lt(e),o&512&&(ct||a===null||Tn(a,a.return)),o&64&&Vn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=gn;if(zt(i,e),Lt(e),o&512&&(ct||a===null||Tn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ja]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),xt(d,o,a),d[bt]=e,gt(d),o=d;break e;case"link":var y=cy("link","href",h).get(o+(a.href||""));if(y){for(var _=0;_<y.length;_++)if(d=y[_],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(_,1);break t}}d=h.createElement(o),xt(d,o,a),h.head.appendChild(d);break;case"meta":if(y=cy("meta","content",h).get(o+(a.content||""))){for(_=0;_<y.length;_++)if(d=y[_],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(_,1);break t}}d=h.createElement(o),xt(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[bt]=e,gt(d),o=d}e.stateNode=o}else uy(h,e.type,e.stateNode);else e.stateNode=ly(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?uy(h,e.type,e.stateNode):ly(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ku(e,e.memoizedProps,a.memoizedProps)}break;case 27:zt(i,e),Lt(e),o&512&&(ct||a===null||Tn(a,a.return)),a!==null&&o&4&&ku(e,e.memoizedProps,a.memoizedProps);break;case 5:if(zt(i,e),Lt(e),o&512&&(ct||a===null||Tn(a,a.return)),e.flags&32){h=e.stateNode;try{_s(h,"")}catch(te){ze(e,e.return,te)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,ku(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Uu=!0);break;case 6:if(zt(i,e),Lt(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(te){ze(e,e.return,te)}}break;case 3:if(ll=null,h=gn,gn=rl(i.containerInfo),zt(i,e),gn=h,Lt(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Zs(i.containerInfo)}catch(te){ze(e,e.return,te)}Uu&&(Uu=!1,ug(e));break;case 4:o=gn,gn=rl(e.stateNode.containerInfo),zt(i,e),Lt(e),gn=o;break;case 12:zt(i,e),Lt(e);break;case 31:zt(i,e),Lt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ko(e,o)));break;case 13:zt(i,e),Lt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fo=Pt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ko(e,o)));break;case 22:h=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,k=Vn,I=ct;if(Vn=k||h,ct=I||E,zt(i,e),ct=I,Vn=k,Lt(e),o&8192)e:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||E||Vn||ct||Zi(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){E=a=i;try{if(d=E.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=E.stateNode;var H=E.memoizedProps.style,M=H!=null&&H.hasOwnProperty("display")?H.display:null;_.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(te){ze(E,E.return,te)}}}else if(i.tag===6){if(a===null){E=i;try{E.stateNode.nodeValue=h?"":E.memoizedProps}catch(te){ze(E,E.return,te)}}}else if(i.tag===18){if(a===null){E=i;try{var z=E.stateNode;h?Wg(z,!0):Wg(E.stateNode,!1)}catch(te){ze(E,E.return,te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ko(e,a))));break;case 19:zt(i,e),Lt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ko(e,o)));break;case 30:break;case 21:break;default:zt(i,e),Lt(e)}}function Lt(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(tg(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Du(e);Go(e,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(_s(y,""),a.flags&=-33);var _=Du(e);Go(e,_,y);break;case 3:case 4:var E=a.stateNode.containerInfo,k=Du(e);Mu(e,k,E);break;default:throw Error(r(161))}}catch(I){ze(e,e.return,I)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;ug(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Hn(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sg(e,i.alternate,i),i=i.sibling}function Zi(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ui(4,i,i.return),Zi(i);break;case 1:Tn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wp(i,i.return,a),Zi(i);break;case 27:fr(i.stateNode);case 26:case 5:Tn(i,i.return),Zi(i);break;case 22:i.memoizedState===null&&Zi(i);break;case 30:Zi(i);break;default:Zi(i)}e=e.sibling}}function qn(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:qn(h,d,a),ir(4,d);break;case 1:if(qn(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){ze(o,o.return,k)}if(o=d,h=o.updateQueue,h!==null){var _=o.stateNode;try{var E=h.shared.hiddenCallbacks;if(E!==null)for(h.shared.hiddenCallbacks=null,h=0;h<E.length;h++)Pm(E[h],_)}catch(k){ze(o,o.return,k)}}a&&y&64&&Zp(d),sr(d,d.return);break;case 27:ng(d);case 26:case 5:qn(h,d,a),a&&o===null&&y&4&&eg(d),sr(d,d.return);break;case 12:qn(h,d,a);break;case 31:qn(h,d,a),a&&y&4&&og(h,d);break;case 13:qn(h,d,a),a&&y&4&&lg(h,d);break;case 22:d.memoizedState===null&&qn(h,d,a),sr(d,d.return);break;case 30:break;default:qn(h,d,a)}i=i.sibling}}function zu(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$a(a))}function Lu(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$a(e))}function yn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hg(e,i,a,o),i=i.sibling}function hg(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:yn(e,i,a,o),h&2048&&ir(9,i);break;case 1:yn(e,i,a,o);break;case 3:yn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$a(e)));break;case 12:if(h&2048){yn(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,_=d.onPostCommit;typeof _=="function"&&_(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){ze(i,i.return,E)}}else yn(e,i,a,o);break;case 31:yn(e,i,a,o);break;case 13:yn(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?yn(e,i,a,o):ar(e,i):d._visibility&2?yn(e,i,a,o):(d._visibility|=2,Ps(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&zu(y,i);break;case 24:yn(e,i,a,o),h&2048&&Lu(i.alternate,i);break;default:yn(e,i,a,o)}}function Ps(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,y=i,_=a,E=o,k=y.flags;switch(y.tag){case 0:case 11:case 15:Ps(d,y,_,E,h),ir(8,y);break;case 23:break;case 22:var I=y.stateNode;y.memoizedState!==null?I._visibility&2?Ps(d,y,_,E,h):ar(d,y):(I._visibility|=2,Ps(d,y,_,E,h)),h&&k&2048&&zu(y.alternate,y);break;case 24:Ps(d,y,_,E,h),h&&k&2048&&Lu(y.alternate,y);break;default:Ps(d,y,_,E,h)}i=i.sibling}}function ar(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ar(a,o),h&2048&&zu(o.alternate,o);break;case 24:ar(a,o),h&2048&&Lu(o.alternate,o);break;default:ar(a,o)}i=i.sibling}}var rr=8192;function Hs(e,i,a){if(e.subtreeFlags&rr)for(e=e.child;e!==null;)dg(e,i,a),e=e.sibling}function dg(e,i,a){switch(e.tag){case 26:Hs(e,i,a),e.flags&rr&&e.memoizedState!==null&&Wx(a,gn,e.memoizedState,e.memoizedProps);break;case 5:Hs(e,i,a);break;case 3:case 4:var o=gn;gn=rl(e.stateNode.containerInfo),Hs(e,i,a),gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rr,rr=16777216,Hs(e,i,a),rr=o):Hs(e,i,a));break;default:Hs(e,i,a)}}function fg(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function or(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];yt=o,pg(o,e)}fg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mg(e),e=e.sibling}function mg(e){switch(e.tag){case 0:case 11:case 15:or(e),e.flags&2048&&ui(9,e,e.return);break;case 3:or(e);break;case 12:or(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Yo(e)):or(e);break;default:or(e)}}function Yo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];yt=o,pg(o,e)}fg(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ui(8,i,i.return),Yo(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Yo(i));break;default:Yo(i)}e=e.sibling}}function pg(e,i){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:ui(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$a(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,yt=o;else e:for(a=e;yt!==null;){o=yt;var h=o.sibling,d=o.return;if(ag(o),o===a){yt=null;break e}if(h!==null){h.return=d,yt=h;break e}yt=d}}}var mx={getCacheForType:function(e){var i=_t(rt),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return _t(rt).controller.signal}},px=typeof WeakMap=="function"?WeakMap:Map,ke=0,He=null,xe=null,Te=0,Ue=0,Ft=null,hi=!1,qs=!1,Bu=!1,$n=0,We=0,di=0,Wi=0,Iu=0,Xt=0,$s=0,lr=null,Bt=null,Vu=!1,Fo=0,gg=0,Xo=1/0,Jo=null,fi=null,dt=0,mi=null,Gs=null,Gn=0,Pu=0,Hu=null,yg=null,cr=0,qu=null;function Jt(){return(ke&2)!==0&&Te!==0?Te&-Te:U.T!==null?Xu():Df()}function vg(){if(Xt===0)if((Te&536870912)===0||Re){var e=io;io<<=1,(io&3932160)===0&&(io=262144),Xt=e}else Xt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Xt}function It(e,i,a){(e===He&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(Ks(e,0),pi(e,Te,Xt,!1)),Na(e,a),((ke&2)===0||e!==He)&&(e===He&&((ke&2)===0&&(Wi|=a),We===4&&pi(e,Te,Xt,!1)),An(e))}function bg(e,i,a){if((ke&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Ca(e,i),h=o?vx(e,i):Gu(e,i,!0),d=o;do{if(h===0){qs&&!o&&pi(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!gx(a)){h=Gu(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var _=e;h=lr;var E=_.current.memoizedState.isDehydrated;if(E&&(Ks(_,y).flags|=256),y=Gu(_,y,!1),y!==2){if(Bu&&!E){_.errorRecoveryDisabledLanes|=d,Wi|=d,h=4;break e}d=Bt,Bt=h,d!==null&&(Bt===null?Bt=d:Bt.push.apply(Bt,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Ks(e,0),pi(e,i,0,!0);break}e:{switch(o=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:pi(o,i,Xt,!hi);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Fo+300-Pt(),10<h)){if(pi(o,i,Xt,!hi),ao(o,0,!0)!==0)break e;Gn=i,o.timeoutHandle=Jg(wg.bind(null,o,a,Bt,Jo,Vu,i,Xt,Wi,$s,hi,d,"Throttled",-0,0),h);break e}wg(o,a,Bt,Jo,Vu,i,Xt,Wi,$s,hi,d,null,-0,0)}}break}while(!0);An(e)}function wg(e,i,a,o,h,d,y,_,E,k,I,H,M,z){if(e.timeoutHandle=-1,H=i.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},dg(i,d,H);var te=(d&62914560)===d?Fo-Pt():(d&4194048)===d?gg-Pt():0;if(te=eE(H,te),te!==null){Gn=d,e.cancelPendingCommit=te(Rg.bind(null,e,i,d,a,o,h,y,_,E,I,H,null,M,z)),pi(e,d,y,!k);return}}Rg(e,i,d,a,o,h,y,_,E)}function gx(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!$t(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pi(e,i,a,o){i&=~Iu,i&=~Wi,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-qt(h),y=1<<d;o[d]=-1,h&=~y}a!==0&&Nf(e,a,i)}function Qo(){return(ke&6)===0?(ur(0),!1):!0}function $u(){if(xe!==null){if(Ue===0)var e=xe.return;else e=xe,Mn=$i=null,ru(e),zs=null,Ka=0,e=xe;for(;e!==null;)Qp(e.alternate,e),e=e.return;xe=null}}function Ks(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Gn=0,$u(),He=e,xe=a=kn(e.current,null),Te=i,Ue=0,Ft=null,hi=!1,qs=Ca(e,i),Bu=!1,$s=Xt=Iu=Wi=di=We=0,Bt=lr=null,Vu=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-qt(o),d=1<<h;i|=e[h],o&=~d}return $n=i,vo(),a}function _g(e,i){ye=null,U.H=er,i===Us||i===Ao?(i=Lm(),Ue=3):i===Fc?(i=Lm(),Ue=4):Ue=i===Su?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ft=i,xe===null&&(We=1,Vo(e,sn(i,e.current)))}function Sg(){var e=Kt.current;return e===null?!0:(Te&4194048)===Te?ln===null:(Te&62914560)===Te||(Te&536870912)!==0?e===ln:!1}function xg(){var e=U.H;return U.H=er,e===null?er:e}function Eg(){var e=U.A;return U.A=mx,e}function Zo(){We=4,hi||(Te&4194048)!==Te&&Kt.current!==null||(qs=!0),(di&134217727)===0&&(Wi&134217727)===0||He===null||pi(He,Te,Xt,!1)}function Gu(e,i,a){var o=ke;ke|=2;var h=xg(),d=Eg();(He!==e||Te!==i)&&(Jo=null,Ks(e,i)),i=!1;var y=We;e:do try{if(Ue!==0&&xe!==null){var _=xe,E=Ft;switch(Ue){case 8:$u(),y=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(i=!0);var k=Ue;if(Ue=0,Ft=null,Ys(e,_,E,k),a&&qs){y=0;break e}break;default:k=Ue,Ue=0,Ft=null,Ys(e,_,E,k)}}yx(),y=We;break}catch(I){_g(e,I)}while(!0);return i&&e.shellSuspendCounter++,Mn=$i=null,ke=o,U.H=h,U.A=d,xe===null&&(He=null,Te=0,vo()),y}function yx(){for(;xe!==null;)Tg(xe)}function vx(e,i){var a=ke;ke|=2;var o=xg(),h=Eg();He!==e||Te!==i?(Jo=null,Xo=Pt()+500,Ks(e,i)):qs=Ca(e,i);e:do try{if(Ue!==0&&xe!==null){i=xe;var d=Ft;t:switch(Ue){case 1:Ue=0,Ft=null,Ys(e,i,d,1);break;case 2:case 9:if(Um(d)){Ue=0,Ft=null,Ag(i);break}i=function(){Ue!==2&&Ue!==9||He!==e||(Ue=7),An(e)},d.then(i,i);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Um(d)?(Ue=0,Ft=null,Ag(i)):(Ue=0,Ft=null,Ys(e,i,d,7));break;case 5:var y=null;switch(xe.tag){case 26:y=xe.memoizedState;case 5:case 27:var _=xe;if(y?hy(y):_.stateNode.complete){Ue=0,Ft=null;var E=_.sibling;if(E!==null)xe=E;else{var k=_.return;k!==null?(xe=k,Wo(k)):xe=null}break t}}Ue=0,Ft=null,Ys(e,i,d,5);break;case 6:Ue=0,Ft=null,Ys(e,i,d,6);break;case 8:$u(),We=6;break e;default:throw Error(r(462))}}bx();break}catch(I){_g(e,I)}while(!0);return Mn=$i=null,U.H=o,U.A=h,ke=a,xe!==null?0:(He=null,Te=0,vo(),We)}function bx(){for(;xe!==null&&!H_();)Tg(xe)}function Tg(e){var i=Xp(e.alternate,e,$n);e.memoizedProps=e.pendingProps,i===null?Wo(e):xe=i}function Ag(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=qp(a,i,i.pendingProps,i.type,void 0,Te);break;case 11:i=qp(a,i,i.pendingProps,i.type.render,i.ref,Te);break;case 5:ru(i);default:Qp(a,i),i=xe=Em(i,$n),i=Xp(a,i,$n)}e.memoizedProps=e.pendingProps,i===null?Wo(e):xe=i}function Ys(e,i,a,o){Mn=$i=null,ru(i),zs=null,Ka=0;var h=i.return;try{if(ox(e,h,i,a,Te)){We=1,Vo(e,sn(a,e.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;We=1,Vo(e,sn(a,e.current)),xe=null;return}i.flags&32768?(Re||o===1?e=!0:qs||(Te&536870912)!==0?e=!1:(hi=e=!0,(o===2||o===9||o===3||o===6)&&(o=Kt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Og(i,e)):Wo(i)}function Wo(e){var i=e;do{if((i.flags&32768)!==0){Og(i,hi);return}e=i.return;var a=ux(i.alternate,i,$n);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=e}while(i!==null);We===0&&(We=5)}function Og(e,i){do{var a=hx(e.alternate,e);if(a!==null){a.flags&=32767,xe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xe=e;return}xe=e=a}while(e!==null);We=6,xe=null}function Rg(e,i,a,o,h,d,y,_,E){e.cancelPendingCommit=null;do el();while(dt!==0);if((ke&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Dc,Z_(e,a,d,y,_,E),e===He&&(xe=He=null,Te=0),Gs=i,mi=e,Gn=a,Pu=d,Hu=h,yg=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xx(to,function(){return Dg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=G.p,G.p=2,y=ke,ke|=4;try{dx(e,i,a)}finally{ke=y,G.p=h,U.T=o}}dt=1,Cg(),Ng(),jg()}}function Cg(){if(dt===1){dt=0;var e=mi,i=Gs,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=G.p;G.p=2;var h=ke;ke|=4;try{cg(i,e);var d=ih,y=pm(e.containerInfo),_=d.focusedElem,E=d.selectionRange;if(y!==_&&_&&_.ownerDocument&&mm(_.ownerDocument.documentElement,_)){if(E!==null&&Rc(_)){var k=E.start,I=E.end;if(I===void 0&&(I=k),"selectionStart"in _)_.selectionStart=k,_.selectionEnd=Math.min(I,_.value.length);else{var H=_.ownerDocument||document,M=H&&H.defaultView||window;if(M.getSelection){var z=M.getSelection(),te=_.textContent.length,le=Math.min(E.start,te),Ve=E.end===void 0?le:Math.min(E.end,te);!z.extend&&le>Ve&&(y=Ve,Ve=le,le=y);var R=fm(_,le),T=fm(_,Ve);if(R&&T&&(z.rangeCount!==1||z.anchorNode!==R.node||z.anchorOffset!==R.offset||z.focusNode!==T.node||z.focusOffset!==T.offset)){var j=H.createRange();j.setStart(R.node,R.offset),z.removeAllRanges(),le>Ve?(z.addRange(j),z.extend(T.node,T.offset)):(j.setEnd(T.node,T.offset),z.addRange(j))}}}}for(H=[],z=_;z=z.parentNode;)z.nodeType===1&&H.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<H.length;_++){var V=H[_];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}dl=!!nh,ih=nh=null}finally{ke=h,G.p=o,U.T=a}}e.current=i,dt=2}}function Ng(){if(dt===2){dt=0;var e=mi,i=Gs,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=G.p;G.p=2;var h=ke;ke|=4;try{sg(e,i.alternate,i)}finally{ke=h,G.p=o,U.T=a}}dt=3}}function jg(){if(dt===4||dt===3){dt=0,q_();var e=mi,i=Gs,a=Gn,o=yg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dt=5:(dt=0,Gs=mi=null,kg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(fi=null),cc(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Ra,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=U.T,h=G.p,G.p=2,U.T=null;try{for(var d=e.onRecoverableError,y=0;y<o.length;y++){var _=o[y];d(_.value,{componentStack:_.stack})}}finally{U.T=i,G.p=h}}(Gn&3)!==0&&el(),An(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===qu?cr++:(cr=0,qu=e):cr=0,ur(0)}}function kg(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,$a(i)))}function el(){return Cg(),Ng(),jg(),Dg()}function Dg(){if(dt!==5)return!1;var e=mi,i=Pu;Pu=0;var a=cc(Gn),o=U.T,h=G.p;try{G.p=32>a?32:a,U.T=null,a=Hu,Hu=null;var d=mi,y=Gn;if(dt=0,Gs=mi=null,Gn=0,(ke&6)!==0)throw Error(r(331));var _=ke;if(ke|=4,mg(d.current),hg(d,d.current,y,a),ke=_,ur(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Ra,d)}catch{}return!0}finally{G.p=h,U.T=o,kg(e,i)}}function Mg(e,i,a){i=sn(a,i),i=_u(e.stateNode,i,2),e=oi(e,i,2),e!==null&&(Na(e,2),An(e))}function ze(e,i,a){if(e.tag===3)Mg(e,e,a);else for(;i!==null;){if(i.tag===3){Mg(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(fi===null||!fi.has(o))){e=sn(a,e),a=Up(2),o=oi(i,a,2),o!==null&&(zp(a,o,i,e),Na(o,2),An(o));break}}i=i.return}}function Ku(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new px;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Bu=!0,h.add(a),e=wx.bind(null,e,i,a),i.then(e,e))}function wx(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(Te&a)===a&&(We===4||We===3&&(Te&62914560)===Te&&300>Pt()-Fo?(ke&2)===0&&Ks(e,0):Iu|=a,$s===Te&&($s=0)),An(e)}function Ug(e,i){i===0&&(i=Cf()),e=Pi(e,i),e!==null&&(Na(e,i),An(e))}function _x(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ug(e,a)}function Sx(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Ug(e,a)}function xx(e,i){return ac(e,i)}var tl=null,Fs=null,Yu=!1,nl=!1,Fu=!1,gi=0;function An(e){e!==Fs&&e.next===null&&(Fs===null?tl=Fs=e:Fs=Fs.next=e),nl=!0,Yu||(Yu=!0,Tx())}function ur(e,i){if(!Fu&&nl){Fu=!0;do for(var a=!1,o=tl;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,_=o.pingedLanes;d=(1<<31-qt(42|e)+1)-1,d&=h&~(y&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ig(o,d))}else d=Te,d=ao(o,o===He?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Ca(o,d)||(a=!0,Ig(o,d));o=o.next}while(a);Fu=!1}}function Ex(){zg()}function zg(){nl=Yu=!1;var e=0;gi!==0&&Ux()&&(e=gi);for(var i=Pt(),a=null,o=tl;o!==null;){var h=o.next,d=Lg(o,i);d===0?(o.next=null,a===null?tl=h:a.next=h,h===null&&(Fs=a)):(a=o,(e!==0||(d&3)!==0)&&(nl=!0)),o=h}dt!==0&&dt!==5||ur(e),gi!==0&&(gi=0)}function Lg(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-qt(d),_=1<<y,E=h[y];E===-1?((_&a)===0||(_&o)!==0)&&(h[y]=Q_(_,i)):E<=i&&(e.expiredLanes|=_),d&=~_}if(i=He,a=Te,a=ao(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rc(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ca(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&rc(o),cc(a)){case 2:case 8:a=Of;break;case 32:a=to;break;case 268435456:a=Rf;break;default:a=to}return o=Bg.bind(null,e),a=ac(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&rc(o),e.callbackPriority=2,e.callbackNode=null,2}function Bg(e,i){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(el()&&e.callbackNode!==a)return null;var o=Te;return o=ao(e,e===He?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(bg(e,o,i),Lg(e,Pt()),e.callbackNode!=null&&e.callbackNode===a?Bg.bind(null,e):null)}function Ig(e,i){if(el())return null;bg(e,i,!0)}function Tx(){Lx(function(){(ke&6)!==0?ac(Af,Ex):zg()})}function Xu(){if(gi===0){var e=Ds;e===0&&(e=no,no<<=1,(no&261888)===0&&(no=256)),gi=e}return gi}function Vg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:co(""+e)}function Pg(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Ax(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Vg((h[Dt]||null).action),y=o.submitter;y&&(i=(i=y[Dt]||null)?Vg(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var _=new mo("action","action",null,o,h);e.push({event:_,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(gi!==0){var E=y?Pg(h,y):new FormData(h);pu(a,{pending:!0,data:E,method:h.method,action:d},null,E)}}else typeof d=="function"&&(_.preventDefault(),E=y?Pg(h,y):new FormData(h),pu(a,{pending:!0,data:E,method:h.method,action:d},d,E))},currentTarget:h}]})}}for(var Ju=0;Ju<kc.length;Ju++){var Qu=kc[Ju],Ox=Qu.toLowerCase(),Rx=Qu[0].toUpperCase()+Qu.slice(1);pn(Ox,"on"+Rx)}pn(vm,"onAnimationEnd"),pn(bm,"onAnimationIteration"),pn(wm,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn($S,"onTransitionRun"),pn(GS,"onTransitionStart"),pn(KS,"onTransitionCancel"),pn(_m,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hr));function Hg(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var y=o.length-1;0<=y;y--){var _=o[y],E=_.instance,k=_.currentTarget;if(_=_.listener,E!==d&&h.isPropagationStopped())break e;d=_,h.currentTarget=k;try{d(h)}catch(I){yo(I)}h.currentTarget=null,d=E}else for(y=0;y<o.length;y++){if(_=o[y],E=_.instance,k=_.currentTarget,_=_.listener,E!==d&&h.isPropagationStopped())break e;d=_,h.currentTarget=k;try{d(h)}catch(I){yo(I)}h.currentTarget=null,d=E}}}}function Ee(e,i){var a=i[uc];a===void 0&&(a=i[uc]=new Set);var o=e+"__bubble";a.has(o)||(qg(i,e,2,!1),a.add(o))}function Zu(e,i,a){var o=0;i&&(o|=4),qg(a,e,o,i)}var il="_reactListening"+Math.random().toString(36).slice(2);function Wu(e){if(!e[il]){e[il]=!0,zf.forEach(function(a){a!=="selectionchange"&&(Cx.has(a)||Zu(a,!1,e),Zu(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[il]||(i[il]=!0,Zu("selectionchange",!1,i))}}function qg(e,i,a,o){switch(vy(i)){case 2:var h=iE;break;case 8:h=sE;break;default:h=mh}a=h.bind(null,i,a,e),h=void 0,!bc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function eh(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var _=o.stateNode.containerInfo;if(_===h)break;if(y===4)for(y=o.return;y!==null;){var E=y.tag;if((E===3||E===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;_!==null;){if(y=gs(_),y===null)return;if(E=y.tag,E===5||E===6||E===26||E===27){o=d=y;continue e}_=_.parentNode}}o=o.return}Ff(function(){var k=d,I=yc(a),H=[];e:{var M=Sm.get(e);if(M!==void 0){var z=mo,te=e;switch(e){case"keypress":if(ho(a)===0)break e;case"keydown":case"keyup":z=SS;break;case"focusin":te="focus",z=xc;break;case"focusout":te="blur",z=xc;break;case"beforeblur":case"afterblur":z=xc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=TS;break;case vm:case bm:case wm:z=fS;break;case _m:z=OS;break;case"scroll":case"scrollend":z=lS;break;case"wheel":z=CS;break;case"copy":case"cut":case"paste":z=pS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Wf;break;case"toggle":case"beforetoggle":z=jS}var le=(i&4)!==0,Ve=!le&&(e==="scroll"||e==="scrollend"),R=le?M!==null?M+"Capture":null:M;le=[];for(var T=k,j;T!==null;){var V=T;if(j=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||j===null||R===null||(V=Da(T,R),V!=null&&le.push(dr(T,V,j))),Ve)break;T=T.return}0<le.length&&(M=new z(M,te,null,a,I),H.push({event:M,listeners:le}))}}if((i&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",M&&a!==gc&&(te=a.relatedTarget||a.fromElement)&&(gs(te)||te[ps]))break e;if((z||M)&&(M=I.window===I?I:(M=I.ownerDocument)?M.defaultView||M.parentWindow:window,z?(te=a.relatedTarget||a.toElement,z=k,te=te?gs(te):null,te!==null&&(Ve=c(te),le=te.tag,te!==Ve||le!==5&&le!==27&&le!==6)&&(te=null)):(z=null,te=k),z!==te)){if(le=Qf,V="onMouseLeave",R="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(le=Wf,V="onPointerLeave",R="onPointerEnter",T="pointer"),Ve=z==null?M:ka(z),j=te==null?M:ka(te),M=new le(V,T+"leave",z,a,I),M.target=Ve,M.relatedTarget=j,V=null,gs(I)===k&&(le=new le(R,T+"enter",te,a,I),le.target=j,le.relatedTarget=Ve,V=le),Ve=V,z&&te)t:{for(le=Nx,R=z,T=te,j=0,V=R;V;V=le(V))j++;V=0;for(var re=T;re;re=le(re))V++;for(;0<j-V;)R=le(R),j--;for(;0<V-j;)T=le(T),V--;for(;j--;){if(R===T||T!==null&&R===T.alternate){le=R;break t}R=le(R),T=le(T)}le=null}else le=null;z!==null&&$g(H,M,z,le,!1),te!==null&&Ve!==null&&$g(H,Ve,te,le,!0)}}e:{if(M=k?ka(k):window,z=M.nodeName&&M.nodeName.toLowerCase(),z==="select"||z==="input"&&M.type==="file")var Ne=om;else if(am(M))if(lm)Ne=PS;else{Ne=IS;var se=BS}else z=M.nodeName,!z||z.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?k&&pc(k.elementType)&&(Ne=om):Ne=VS;if(Ne&&(Ne=Ne(e,k))){rm(H,Ne,a,I);break e}se&&se(e,M,k),e==="focusout"&&k&&M.type==="number"&&k.memoizedProps.value!=null&&mc(M,"number",M.value)}switch(se=k?ka(k):window,e){case"focusin":(am(se)||se.contentEditable==="true")&&(Ts=se,Cc=k,Pa=null);break;case"focusout":Pa=Cc=Ts=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,gm(H,a,I);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":gm(H,a,I)}var be;if(Tc)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Es?im(e,a)&&(Ae="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(em&&a.locale!=="ko"&&(Es||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Es&&(be=Xf()):(ei=I,wc="value"in ei?ei.value:ei.textContent,Es=!0)),se=sl(k,Ae),0<se.length&&(Ae=new Zf(Ae,e,null,a,I),H.push({event:Ae,listeners:se}),be?Ae.data=be:(be=sm(a),be!==null&&(Ae.data=be)))),(be=DS?MS(e,a):US(e,a))&&(Ae=sl(k,"onBeforeInput"),0<Ae.length&&(se=new Zf("onBeforeInput","beforeinput",null,a,I),H.push({event:se,listeners:Ae}),se.data=be)),Ax(H,e,k,a,I)}Hg(H,i)})}function dr(e,i,a){return{instance:e,listener:i,currentTarget:a}}function sl(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Da(e,a),h!=null&&o.unshift(dr(e,h,d)),h=Da(e,i),h!=null&&o.push(dr(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Nx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $g(e,i,a,o,h){for(var d=i._reactName,y=[];a!==null&&a!==o;){var _=a,E=_.alternate,k=_.stateNode;if(_=_.tag,E!==null&&E===o)break;_!==5&&_!==26&&_!==27||k===null||(E=k,h?(k=Da(a,d),k!=null&&y.unshift(dr(a,k,E))):h||(k=Da(a,d),k!=null&&y.push(dr(a,k,E)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var jx=/\r\n?/g,kx=/\u0000|\uFFFD/g;function Gg(e){return(typeof e=="string"?e:""+e).replace(jx,`
`).replace(kx,"")}function Kg(e,i){return i=Gg(i),Gg(e)===i}function Ie(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||_s(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&_s(e,""+o);break;case"className":oo(e,"class",o);break;case"tabIndex":oo(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":oo(e,a,o);break;case"style":Kf(e,o,d);break;case"data":if(i!=="object"){oo(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=co(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ie(e,i,"name",h.name,h,null),Ie(e,i,"formEncType",h.formEncType,h,null),Ie(e,i,"formMethod",h.formMethod,h,null),Ie(e,i,"formTarget",h.formTarget,h,null)):(Ie(e,i,"encType",h.encType,h,null),Ie(e,i,"method",h.method,h,null),Ie(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=co(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Nn);break;case"onScroll":o!=null&&Ee("scroll",e);break;case"onScrollEnd":o!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=co(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),ro(e,"popover",o);break;case"xlinkActuate":Cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ro(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rS.get(a)||a,ro(e,a,o))}}function th(e,i,a,o,h,d){switch(a){case"style":Kf(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?_s(e,o):(typeof o=="number"||typeof o=="bigint")&&_s(e,""+o);break;case"onScroll":o!=null&&Ee("scroll",e);break;case"onScrollEnd":o!=null&&Ee("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ro(e,a,o)}}}function xt(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ie(e,i,d,y,a,null)}}h&&Ie(e,i,"srcSet",a.srcSet,a,null),o&&Ie(e,i,"src",a.src,a,null);return;case"input":Ee("invalid",e);var _=d=y=h=null,E=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var I=a[o];if(I!=null)switch(o){case"name":h=I;break;case"type":y=I;break;case"checked":E=I;break;case"defaultChecked":k=I;break;case"value":d=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,i));break;default:Ie(e,i,o,I,a,null)}}Hf(e,d,_,E,k,y,h,!1);return;case"select":Ee("invalid",e),o=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(_=a[h],_!=null))switch(h){case"value":d=_;break;case"defaultValue":y=_;break;case"multiple":o=_;default:Ie(e,i,h,_,a,null)}i=d,a=y,e.multiple=!!o,i!=null?ws(e,!!o,i,!1):a!=null&&ws(e,!!o,a,!0);return;case"textarea":Ee("invalid",e),d=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(_=a[y],_!=null))switch(y){case"value":o=_;break;case"defaultValue":h=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ie(e,i,y,_,a,null)}$f(e,o,h,d);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(o=a[E],o!=null))switch(E){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ie(e,i,E,o,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(o=0;o<hr.length;o++)Ee(hr[o],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ie(e,i,k,o,a,null)}return;default:if(pc(i)){for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!==void 0&&th(e,i,I,o,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(o=a[_],o!=null&&Ie(e,i,_,o,a,null))}function Dx(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,_=null,E=null,k=null,I=null;for(z in a){var H=a[z];if(a.hasOwnProperty(z)&&H!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":E=H;default:o.hasOwnProperty(z)||Ie(e,i,z,null,o,H)}}for(var M in o){var z=o[M];if(H=a[M],o.hasOwnProperty(M)&&(z!=null||H!=null))switch(M){case"type":d=z;break;case"name":h=z;break;case"checked":k=z;break;case"defaultChecked":I=z;break;case"value":y=z;break;case"defaultValue":_=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:z!==H&&Ie(e,i,M,z,o,H)}}fc(e,y,_,E,k,I,d,h);return;case"select":z=y=_=M=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":z=E;default:o.hasOwnProperty(d)||Ie(e,i,d,null,o,E)}for(h in o)if(d=o[h],E=a[h],o.hasOwnProperty(h)&&(d!=null||E!=null))switch(h){case"value":M=d;break;case"defaultValue":_=d;break;case"multiple":y=d;default:d!==E&&Ie(e,i,h,d,o,E)}i=_,a=y,o=z,M!=null?ws(e,!!a,M,!1):!!o!=!!a&&(i!=null?ws(e,!!a,i,!0):ws(e,!!a,a?[]:"",!1));return;case"textarea":z=M=null;for(_ in a)if(h=a[_],a.hasOwnProperty(_)&&h!=null&&!o.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ie(e,i,_,null,o,h)}for(y in o)if(h=o[y],d=a[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":M=h;break;case"defaultValue":z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Ie(e,i,y,h,o,d)}qf(e,M,z);return;case"option":for(var te in a)if(M=a[te],a.hasOwnProperty(te)&&M!=null&&!o.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:Ie(e,i,te,null,o,M)}for(E in o)if(M=o[E],z=a[E],o.hasOwnProperty(E)&&M!==z&&(M!=null||z!=null))switch(E){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ie(e,i,E,M,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)M=a[le],a.hasOwnProperty(le)&&M!=null&&!o.hasOwnProperty(le)&&Ie(e,i,le,null,o,M);for(k in o)if(M=o[k],z=a[k],o.hasOwnProperty(k)&&M!==z&&(M!=null||z!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,i));break;default:Ie(e,i,k,M,o,z)}return;default:if(pc(i)){for(var Ve in a)M=a[Ve],a.hasOwnProperty(Ve)&&M!==void 0&&!o.hasOwnProperty(Ve)&&th(e,i,Ve,void 0,o,M);for(I in o)M=o[I],z=a[I],!o.hasOwnProperty(I)||M===z||M===void 0&&z===void 0||th(e,i,I,M,o,z);return}}for(var R in a)M=a[R],a.hasOwnProperty(R)&&M!=null&&!o.hasOwnProperty(R)&&Ie(e,i,R,null,o,M);for(H in o)M=o[H],z=a[H],!o.hasOwnProperty(H)||M===z||M==null&&z==null||Ie(e,i,H,M,o,z)}function Yg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,y=h.initiatorType,_=h.duration;if(d&&_&&Yg(y)){for(y=0,_=h.responseEnd,o+=1;o<a.length;o++){var E=a[o],k=E.startTime;if(k>_)break;var I=E.transferSize,H=E.initiatorType;I&&Yg(H)&&(E=E.responseEnd,y+=I*(E<_?1:(_-k)/(E-k)))}if(--o,i+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nh=null,ih=null;function al(e){return e.nodeType===9?e:e.ownerDocument}function Fg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xg(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function sh(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ah=null;function Ux(){var e=window.event;return e&&e.type==="popstate"?e===ah?!1:(ah=e,!0):(ah=null,!1)}var Jg=typeof setTimeout=="function"?setTimeout:void 0,zx=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,Lx=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(e){return Qg.resolve(null).then(e).catch(Bx)}:Jg;function Bx(e){setTimeout(function(){throw e})}function yi(e){return e==="head"}function Zg(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Zs(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")fr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fr(a);for(var d=a.firstChild;d;){var y=d.nextSibling,_=d.nodeName;d[ja]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&fr(e.ownerDocument.body);a=h}while(a);Zs(i)}function Wg(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function rh(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rh(a),hc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ix(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ja])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function Vx(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=cn(e.nextSibling),e===null))return null;return e}function ey(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=cn(e.nextSibling),e===null))return null;return e}function oh(e){return e.data==="$?"||e.data==="$~"}function lh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Px(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function cn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var ch=null;function ty(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return cn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function ny(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function iy(e,i,a){switch(i=al(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function fr(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);hc(e)}var un=new Map,sy=new Set;function rl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=G.d;G.d={f:Hx,r:qx,D:$x,C:Gx,L:Kx,m:Yx,X:Xx,S:Fx,M:Jx};function Hx(){var e=Kn.f(),i=Qo();return e||i}function qx(e){var i=ys(e);i!==null&&i.tag===5&&i.type==="form"?_p(i):Kn.r(e)}var Xs=typeof document>"u"?null:document;function ay(e,i,a){var o=Xs;if(o&&typeof i=="string"&&i){var h=tn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sy.has(h)||(sy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),xt(i,"link",e),gt(i),o.head.appendChild(i)))}}function $x(e){Kn.D(e),ay("dns-prefetch",e,null)}function Gx(e,i){Kn.C(e,i),ay("preconnect",e,i)}function Kx(e,i,a){Kn.L(e,i,a);var o=Xs;if(o&&e&&i){var h='link[rel="preload"][as="'+tn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(e)+'"]';var d=h;switch(i){case"style":d=Js(e);break;case"script":d=Qs(e)}un.has(d)||(e=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),un.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(mr(d))||i==="script"&&o.querySelector(pr(d))||(i=o.createElement("link"),xt(i,"link",e),gt(i),o.head.appendChild(i)))}}function Yx(e,i){Kn.m(e,i);var a=Xs;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qs(e)}if(!un.has(d)&&(e=v({rel:"modulepreload",href:e},i),un.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pr(d)))return}o=a.createElement("link"),xt(o,"link",e),gt(o),a.head.appendChild(o)}}}function Fx(e,i,a){Kn.S(e,i,a);var o=Xs;if(o&&e){var h=vs(o).hoistableStyles,d=Js(e);i=i||"default";var y=h.get(d);if(!y){var _={loading:0,preload:null};if(y=o.querySelector(mr(d)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},a),(a=un.get(d))&&uh(e,a);var E=y=o.createElement("link");gt(E),xt(E,"link",e),E._p=new Promise(function(k,I){E.onload=k,E.onerror=I}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ol(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:_},h.set(d,y)}}}function Xx(e,i){Kn.X(e,i);var a=Xs;if(a&&e){var o=vs(a).hoistableScripts,h=Qs(e),d=o.get(h);d||(d=a.querySelector(pr(h)),d||(e=v({src:e,async:!0},i),(i=un.get(h))&&hh(e,i),d=a.createElement("script"),gt(d),xt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Jx(e,i){Kn.M(e,i);var a=Xs;if(a&&e){var o=vs(a).hoistableScripts,h=Qs(e),d=o.get(h);d||(d=a.querySelector(pr(h)),d||(e=v({src:e,async:!0,type:"module"},i),(i=un.get(h))&&hh(e,i),d=a.createElement("script"),gt(d),xt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function ry(e,i,a,o){var h=(h=ge.current)?rl(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Js(a.href),a=vs(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Js(a.href);var d=vs(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(mr(e)))&&!d._p&&(y.instance=d,y.state.loading=5),un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},un.set(e,a),d||Qx(h,e,a,y.state))),i&&o===null)throw Error(r(528,""));return y}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qs(a),a=vs(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Js(e){return'href="'+tn(e)+'"'}function mr(e){return'link[rel="stylesheet"]['+e+"]"}function oy(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Qx(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),xt(i,"link",a),gt(i),e.head.appendChild(i))}function Qs(e){return'[src="'+tn(e)+'"]'}function pr(e){return"script[async]"+e}function ly(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+tn(a.href)+'"]');if(o)return i.instance=o,gt(o),o;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),gt(o),xt(o,"style",h),ol(o,a.precedence,e),i.instance=o;case"stylesheet":h=Js(a.href);var d=e.querySelector(mr(h));if(d)return i.state.loading|=4,i.instance=d,gt(d),d;o=oy(a),(h=un.get(h))&&uh(o,h),d=(e.ownerDocument||e).createElement("link"),gt(d);var y=d;return y._p=new Promise(function(_,E){y.onload=_,y.onerror=E}),xt(d,"link",o),i.state.loading|=4,ol(d,a.precedence,e),i.instance=d;case"script":return d=Qs(a.src),(h=e.querySelector(pr(d)))?(i.instance=h,gt(h),h):(o=a,(h=un.get(d))&&(o=v({},a),hh(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),gt(h),xt(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,ol(o,a.precedence,e));return i.instance}function ol(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var _=o[y];if(_.dataset.precedence===i)d=_;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function uh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function hh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ll=null;function cy(e,i,a){if(ll===null){var o=new Map,h=ll=new Map;h.set(a,o)}else h=ll,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ja]||d[bt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var _=o.get(y);_?_.push(d):o.set(y,[d])}}return o}function uy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Zx(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Wx(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Js(o.href),d=i.querySelector(mr(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=cl.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,gt(d);return}d=i.ownerDocument||i,o=oy(o),(h=un.get(h))&&uh(o,h),d=d.createElement("link"),gt(d);var y=d;y._p=new Promise(function(_,E){y.onload=_,y.onerror=E}),xt(d,"link",o),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=cl.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var dh=0;function eE(e,i){return e.stylesheets&&e.count===0&&hl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&hl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&dh===0&&(dh=62500*Mx());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>dh?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function cl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ul=null;function hl(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ul=new Map,i.forEach(tE,e),ul=null,cl.call(e))}function tE(e,i){if(!(i.state.loading&4)){var a=ul.get(e);if(a)var o=a.get(null);else{a=new Map,ul.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||o,d===o&&a.set(null,h),a.set(y,h),this.count++,o=cl.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var gr={$$typeof:N,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function nE(e,i,a,o,h,d,y,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function dy(e,i,a,o,h,d,y,_,E,k,I,H){return e=new nE(e,i,a,y,E,k,I,H,_),i=1,d===!0&&(i|=24),d=Gt(3,null,null,i),e.current=d,d.stateNode=e,i=Gc(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Xc(d),e}function fy(e){return e?(e=Rs,e):Rs}function my(e,i,a,o,h,d){h=fy(h),o.context===null?o.context=h:o.pendingContext=h,o=ri(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=oi(e,o,i),a!==null&&(It(a,e,i),Fa(a,e,i))}function py(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function fh(e,i){py(e,i),(e=e.alternate)&&py(e,i)}function gy(e){if(e.tag===13||e.tag===31){var i=Pi(e,67108864);i!==null&&It(i,e,67108864),fh(e,67108864)}}function yy(e){if(e.tag===13||e.tag===31){var i=Jt();i=lc(i);var a=Pi(e,i);a!==null&&It(a,e,i),fh(e,i)}}var dl=!0;function iE(e,i,a,o){var h=U.T;U.T=null;var d=G.p;try{G.p=2,mh(e,i,a,o)}finally{G.p=d,U.T=h}}function sE(e,i,a,o){var h=U.T;U.T=null;var d=G.p;try{G.p=8,mh(e,i,a,o)}finally{G.p=d,U.T=h}}function mh(e,i,a,o){if(dl){var h=ph(o);if(h===null)eh(e,i,o,fl,a),by(e,o);else if(rE(h,e,i,a,o))o.stopPropagation();else if(by(e,o),i&4&&-1<aE.indexOf(e)){for(;h!==null;){var d=ys(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=zi(d.pendingLanes);if(y!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var E=1<<31-qt(y);_.entanglements[1]|=E,y&=~E}An(d),(ke&6)===0&&(Xo=Pt()+500,ur(0))}}break;case 31:case 13:_=Pi(d,2),_!==null&&It(_,d,2),Qo(),fh(d,2)}if(d=ph(o),d===null&&eh(e,i,o,fl,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else eh(e,i,o,null,a)}}function ph(e){return e=yc(e),gh(e)}var fl=null;function gh(e){if(fl=null,e=gs(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=u(i),e!==null)return e;e=null}else if(a===31){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return fl=e,null}function vy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($_()){case Af:return 2;case Of:return 8;case to:case G_:return 32;case Rf:return 268435456;default:return 32}default:return 32}}var yh=!1,vi=null,bi=null,wi=null,yr=new Map,vr=new Map,_i=[],aE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function by(e,i){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":yr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(i.pointerId)}}function br(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ys(i),i!==null&&gy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function rE(e,i,a,o,h){switch(i){case"focusin":return vi=br(vi,e,i,a,o,h),!0;case"dragenter":return bi=br(bi,e,i,a,o,h),!0;case"mouseover":return wi=br(wi,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return yr.set(d,br(yr.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,vr.set(d,br(vr.get(d)||null,e,i,a,o,h)),!0}return!1}function wy(e){var i=gs(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){e.blockedOn=i,Mf(e.priority,function(){yy(a)});return}}else if(i===31){if(i=f(a),i!==null){e.blockedOn=i,Mf(e.priority,function(){yy(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ml(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ph(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);gc=o,a.target.dispatchEvent(o),gc=null}else return i=ys(a),i!==null&&gy(i),e.blockedOn=a,!1;i.shift()}return!0}function _y(e,i,a){ml(e)&&a.delete(i)}function oE(){yh=!1,vi!==null&&ml(vi)&&(vi=null),bi!==null&&ml(bi)&&(bi=null),wi!==null&&ml(wi)&&(wi=null),yr.forEach(_y),vr.forEach(_y)}function pl(e,i){e.blockedOn===i&&(e.blockedOn=null,yh||(yh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oE)))}var gl=null;function Sy(e){gl!==e&&(gl=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gl===e&&(gl=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(gh(o||a)===null)continue;break}var d=ys(a);d!==null&&(e.splice(i,3),i-=3,pu(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Zs(e){function i(E){return pl(E,e)}vi!==null&&pl(vi,e),bi!==null&&pl(bi,e),wi!==null&&pl(wi,e),yr.forEach(i),vr.forEach(i);for(var a=0;a<_i.length;a++){var o=_i[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<_i.length&&(a=_i[0],a.blockedOn===null);)wy(a),a.blockedOn===null&&_i.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],y=h[Dt]||null;if(typeof d=="function")y||Sy(a);else if(y){var _=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Dt]||null)_=y.formAction;else if(gh(h)!==null)continue}else _=y.action;typeof _=="function"?a[o+1]=_:(a.splice(o,3),o-=3),Sy(a)}}}function xy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function vh(e){this._internalRoot=e}yl.prototype.render=vh.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Jt();my(a,o,e,i,null,null)},yl.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;my(e.current,2,null,e,null,null),Qo(),i[ps]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var i=Df();e={blockedOn:null,target:e,priority:i};for(var a=0;a<_i.length&&i!==0&&i<_i[a].priority;a++);_i.splice(a,0,e),a===0&&wy(e)}};var Ey=t.version;if(Ey!=="19.2.3")throw Error(r(527,Ey,"19.2.3"));G.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var lE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Ra=vl.inject(lE),Ht=vl}catch{}}return _r.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=jp,d=kp,y=Dp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=dy(e,1,!1,null,null,a,o,null,h,d,y,xy),e[ps]=i.current,Wu(e),new vh(i)},_r.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",d=jp,y=kp,_=Dp,E=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),i=dy(e,1,!0,i,a??null,o,h,E,d,y,_,xy),i.context=fy(null),a=i.current,o=Jt(),o=lc(o),h=ri(o),h.callback=null,oi(a,h,o),a=o,i.current.lanes=a,Na(i,a),An(i),e[ps]=i.current,Wu(e),new yl(i)},_r.version="19.2.3",_r}var My;function bE(){if(My)return _h.exports;My=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),_h.exports=vE(),_h.exports}var wE=bE();const _E=bb(wE),Ud=F.createContext({});function zd(n){const t=F.useRef(null);return t.current===null&&(t.current=n()),t.current}const Ld=typeof window<"u",wb=Ld?F.useLayoutEffect:F.useEffect,Jl=F.createContext(null);function Bd(n,t){n.indexOf(t)===-1&&n.push(t)}function Id(n,t){const s=n.indexOf(t);s>-1&&n.splice(s,1)}const Xn=(n,t,s)=>s>t?t:s<n?n:s;let Vd=()=>{};const Jn={},_b=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Sb(n){return typeof n=="object"&&n!==null}const xb=n=>/^0[^.\s]+$/u.test(n);function Pd(n){let t;return()=>(t===void 0&&(t=n()),t)}const fn=n=>n,SE=(n,t)=>s=>t(n(s)),Fr=(...n)=>n.reduce(SE),Ur=(n,t,s)=>{const r=t-n;return r===0?1:(s-n)/r};class Hd{constructor(){this.subscriptions=[]}add(t){return Bd(this.subscriptions,t),()=>Id(this.subscriptions,t)}notify(t,s,r){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,r);else for(let c=0;c<l;c++){const u=this.subscriptions[c];u&&u(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const On=n=>n*1e3,dn=n=>n/1e3;function Eb(n,t){return t?n*(1e3/t):0}const Tb=(n,t,s)=>(((1-3*s+3*t)*n+(3*s-6*t))*n+3*t)*n,xE=1e-7,EE=12;function TE(n,t,s,r,l){let c,u,f=0;do u=t+(s-t)/2,c=Tb(u,r,l)-n,c>0?s=u:t=u;while(Math.abs(c)>xE&&++f<EE);return u}function Xr(n,t,s,r){if(n===t&&s===r)return fn;const l=c=>TE(c,0,1,n,s);return c=>c===0||c===1?c:Tb(l(c),t,r)}const Ab=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,Ob=n=>t=>1-n(1-t),Rb=Xr(.33,1.53,.69,.99),qd=Ob(Rb),Cb=Ab(qd),Nb=n=>(n*=2)<1?.5*qd(n):.5*(2-Math.pow(2,-10*(n-1))),$d=n=>1-Math.sin(Math.acos(n)),jb=Ob($d),kb=Ab($d),AE=Xr(.42,0,1,1),OE=Xr(0,0,.58,1),Db=Xr(.42,0,.58,1),RE=n=>Array.isArray(n)&&typeof n[0]!="number",Mb=n=>Array.isArray(n)&&typeof n[0]=="number",CE={linear:fn,easeIn:AE,easeInOut:Db,easeOut:OE,circIn:$d,circInOut:kb,circOut:jb,backIn:qd,backInOut:Cb,backOut:Rb,anticipate:Nb},NE=n=>typeof n=="string",Uy=n=>{if(Mb(n)){Vd(n.length===4);const[t,s,r,l]=n;return Xr(t,s,r,l)}else if(NE(n))return CE[n];return n},bl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jE(n,t){let s=new Set,r=new Set,l=!1,c=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),n()),g(f)}const p={schedule:(g,v=!1,b=!1)=>{const x=b&&l?s:r;return v&&u.add(g),x.has(g)||x.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(f=g,l){c=!0;return}l=!0,[s,r]=[r,s],s.forEach(m),s.clear(),l=!1,c&&(c=!1,p.process(g))}};return p}const kE=40;function Ub(n,t){let s=!1,r=!0;const l={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=bl.reduce((N,K)=>(N[K]=jE(c),N),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:g,update:v,preRender:b,render:S,postRender:x}=u,A=()=>{const N=Jn.useManualTiming?l.timestamp:performance.now();s=!1,Jn.useManualTiming||(l.delta=r?1e3/60:Math.max(Math.min(N-l.timestamp,kE),1)),l.timestamp=N,l.isProcessing=!0,f.process(l),m.process(l),p.process(l),g.process(l),v.process(l),b.process(l),S.process(l),x.process(l),l.isProcessing=!1,s&&t&&(r=!1,n(A))},C=()=>{s=!0,r=!0,l.isProcessing||n(A)};return{schedule:bl.reduce((N,K)=>{const X=u[K];return N[K]=(J,$=!1,B=!1)=>(s||C(),X.schedule(J,$,B)),N},{}),cancel:N=>{for(let K=0;K<bl.length;K++)u[bl[K]].cancel(N)},state:l,steps:u}}const{schedule:Xe,cancel:ki,state:At,steps:Th}=Ub(typeof requestAnimationFrame<"u"?requestAnimationFrame:fn,!0);let jl;function DE(){jl=void 0}const Vt={now:()=>(jl===void 0&&Vt.set(At.isProcessing||Jn.useManualTiming?At.timestamp:performance.now()),jl),set:n=>{jl=n,queueMicrotask(DE)}},zb=n=>t=>typeof t=="string"&&t.startsWith(n),Lb=zb("--"),ME=zb("var(--"),Gd=n=>ME(n)?UE.test(n.split("/*")[0].trim()):!1,UE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},zr={...xa,transform:n=>Xn(0,1,n)},wl={...xa,default:1},Or=n=>Math.round(n*1e5)/1e5,Kd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zE(n){return n==null}const LE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yd=(n,t)=>s=>!!(typeof s=="string"&&LE.test(s)&&s.startsWith(n)||t&&!zE(s)&&Object.prototype.hasOwnProperty.call(s,t)),Bb=(n,t,s)=>r=>{if(typeof r!="string")return r;const[l,c,u,f]=r.match(Kd);return{[n]:parseFloat(l),[t]:parseFloat(c),[s]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},BE=n=>Xn(0,255,n),Ah={...xa,transform:n=>Math.round(BE(n))},cs={test:Yd("rgb","red"),parse:Bb("red","green","blue"),transform:({red:n,green:t,blue:s,alpha:r=1})=>"rgba("+Ah.transform(n)+", "+Ah.transform(t)+", "+Ah.transform(s)+", "+Or(zr.transform(r))+")"};function IE(n){let t="",s="",r="",l="";return n.length>5?(t=n.substring(1,3),s=n.substring(3,5),r=n.substring(5,7),l=n.substring(7,9)):(t=n.substring(1,2),s=n.substring(2,3),r=n.substring(3,4),l=n.substring(4,5),t+=t,s+=s,r+=r,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:l?parseInt(l,16)/255:1}}const Qh={test:Yd("#"),parse:IE,transform:cs.transform},Jr=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ei=Jr("deg"),Rn=Jr("%"),de=Jr("px"),VE=Jr("vh"),PE=Jr("vw"),zy={...Rn,parse:n=>Rn.parse(n)/100,transform:n=>Rn.transform(n*100)},ua={test:Yd("hsl","hue"),parse:Bb("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(n)+", "+Rn.transform(Or(t))+", "+Rn.transform(Or(s))+", "+Or(zr.transform(r))+")"},ht={test:n=>cs.test(n)||Qh.test(n)||ua.test(n),parse:n=>cs.test(n)?cs.parse(n):ua.test(n)?ua.parse(n):Qh.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?cs.transform(n):ua.transform(n),getAnimatableNone:n=>{const t=ht.parse(n);return t.alpha=0,ht.transform(t)}},HE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qE(n){var t,s;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Kd))==null?void 0:t.length)||0)+(((s=n.match(HE))==null?void 0:s.length)||0)>0}const Ib="number",Vb="color",$E="var",GE="var(",Ly="${}",KE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lr(n){const t=n.toString(),s=[],r={color:[],number:[],var:[]},l=[];let c=0;const f=t.replace(KE,m=>(ht.test(m)?(r.color.push(c),l.push(Vb),s.push(ht.parse(m))):m.startsWith(GE)?(r.var.push(c),l.push($E),s.push(m)):(r.number.push(c),l.push(Ib),s.push(parseFloat(m))),++c,Ly)).split(Ly);return{values:s,split:f,indexes:r,types:l}}function Pb(n){return Lr(n).values}function Hb(n){const{split:t,types:s}=Lr(n),r=t.length;return l=>{let c="";for(let u=0;u<r;u++)if(c+=t[u],l[u]!==void 0){const f=s[u];f===Ib?c+=Or(l[u]):f===Vb?c+=ht.transform(l[u]):c+=l[u]}return c}}const YE=n=>typeof n=="number"?0:ht.test(n)?ht.getAnimatableNone(n):n;function FE(n){const t=Pb(n);return Hb(n)(t.map(YE))}const Di={test:qE,parse:Pb,createTransformer:Hb,getAnimatableNone:FE};function Oh(n,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(t-n)*6*s:s<1/2?t:s<2/3?n+(t-n)*(2/3-s)*6:n}function XE({hue:n,saturation:t,lightness:s,alpha:r}){n/=360,t/=100,s/=100;let l=0,c=0,u=0;if(!t)l=c=u=s;else{const f=s<.5?s*(1+t):s+t-s*t,m=2*s-f;l=Oh(m,f,n+1/3),c=Oh(m,f,n),u=Oh(m,f,n-1/3)}return{red:Math.round(l*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function Bl(n,t){return s=>s>0?t:n}const Qe=(n,t,s)=>n+(t-n)*s,Rh=(n,t,s)=>{const r=n*n,l=s*(t*t-r)+r;return l<0?0:Math.sqrt(l)},JE=[Qh,cs,ua],QE=n=>JE.find(t=>t.test(n));function By(n){const t=QE(n);if(!t)return!1;let s=t.parse(n);return t===ua&&(s=XE(s)),s}const Iy=(n,t)=>{const s=By(n),r=By(t);if(!s||!r)return Bl(n,t);const l={...s};return c=>(l.red=Rh(s.red,r.red,c),l.green=Rh(s.green,r.green,c),l.blue=Rh(s.blue,r.blue,c),l.alpha=Qe(s.alpha,r.alpha,c),cs.transform(l))},Zh=new Set(["none","hidden"]);function ZE(n,t){return Zh.has(n)?s=>s<=0?n:t:s=>s>=1?t:n}function WE(n,t){return s=>Qe(n,t,s)}function Fd(n){return typeof n=="number"?WE:typeof n=="string"?Gd(n)?Bl:ht.test(n)?Iy:nT:Array.isArray(n)?qb:typeof n=="object"?ht.test(n)?Iy:eT:Bl}function qb(n,t){const s=[...n],r=s.length,l=n.map((c,u)=>Fd(c)(c,t[u]));return c=>{for(let u=0;u<r;u++)s[u]=l[u](c);return s}}function eT(n,t){const s={...n,...t},r={};for(const l in s)n[l]!==void 0&&t[l]!==void 0&&(r[l]=Fd(n[l])(n[l],t[l]));return l=>{for(const c in r)s[c]=r[c](l);return s}}function tT(n,t){const s=[],r={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const c=t.types[l],u=n.indexes[c][r[c]],f=n.values[u]??0;s[l]=f,r[c]++}return s}const nT=(n,t)=>{const s=Di.createTransformer(t),r=Lr(n),l=Lr(t);return r.indexes.var.length===l.indexes.var.length&&r.indexes.color.length===l.indexes.color.length&&r.indexes.number.length>=l.indexes.number.length?Zh.has(n)&&!l.values.length||Zh.has(t)&&!r.values.length?ZE(n,t):Fr(qb(tT(r,l),l.values),s):Bl(n,t)};function $b(n,t,s){return typeof n=="number"&&typeof t=="number"&&typeof s=="number"?Qe(n,t,s):Fd(n)(n,t)}const iT=n=>{const t=({timestamp:s})=>n(s);return{start:(s=!0)=>Xe.update(t,s),stop:()=>ki(t),now:()=>At.isProcessing?At.timestamp:Vt.now()}},Gb=(n,t,s=10)=>{let r="";const l=Math.max(Math.round(t/s),2);for(let c=0;c<l;c++)r+=Math.round(n(c/(l-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Il=2e4;function Xd(n){let t=0;const s=50;let r=n.next(t);for(;!r.done&&t<Il;)t+=s,r=n.next(t);return t>=Il?1/0:t}function sT(n,t=100,s){const r=s({...n,keyframes:[0,t]}),l=Math.min(Xd(r),Il);return{type:"keyframes",ease:c=>r.next(l*c).value/t,duration:dn(l)}}const aT=5;function Kb(n,t,s){const r=Math.max(t-aT,0);return Eb(s-n(r),t-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ch=.001;function rT({duration:n=tt.duration,bounce:t=tt.bounce,velocity:s=tt.velocity,mass:r=tt.mass}){let l,c,u=1-t;u=Xn(tt.minDamping,tt.maxDamping,u),n=Xn(tt.minDuration,tt.maxDuration,dn(n)),u<1?(l=p=>{const g=p*u,v=g*n,b=g-s,S=Wh(p,u),x=Math.exp(-v);return Ch-b/S*x},c=p=>{const v=p*u*n,b=v*s+s,S=Math.pow(u,2)*Math.pow(p,2)*n,x=Math.exp(-v),A=Wh(Math.pow(p,2),u);return(-l(p)+Ch>0?-1:1)*((b-S)*x)/A}):(l=p=>{const g=Math.exp(-p*n),v=(p-s)*n+1;return-Ch+g*v},c=p=>{const g=Math.exp(-p*n),v=(s-p)*(n*n);return g*v});const f=5/n,m=lT(l,c,f);if(n=On(n),isNaN(m))return{stiffness:tt.stiffness,damping:tt.damping,duration:n};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const oT=12;function lT(n,t,s){let r=s;for(let l=1;l<oT;l++)r=r-n(r)/t(r);return r}function Wh(n,t){return n*Math.sqrt(1-t*t)}const cT=["duration","bounce"],uT=["stiffness","damping","mass"];function Vy(n,t){return t.some(s=>n[s]!==void 0)}function hT(n){let t={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...n};if(!Vy(n,uT)&&Vy(n,cT))if(n.visualDuration){const s=n.visualDuration,r=2*Math.PI/(s*1.2),l=r*r,c=2*Xn(.05,1,1-(n.bounce||0))*Math.sqrt(l);t={...t,mass:tt.mass,stiffness:l,damping:c}}else{const s=rT(n);t={...t,...s,mass:tt.mass},t.isResolvedFromDuration=!0}return t}function Vl(n=tt.visualDuration,t=tt.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:l}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],f={done:!1,value:c},{stiffness:m,damping:p,mass:g,duration:v,velocity:b,isResolvedFromDuration:S}=hT({...s,velocity:-dn(s.velocity||0)}),x=b||0,A=p/(2*Math.sqrt(m*g)),C=u-c,D=dn(Math.sqrt(m/g)),L=Math.abs(C)<5;r||(r=L?tt.restSpeed.granular:tt.restSpeed.default),l||(l=L?tt.restDelta.granular:tt.restDelta.default);let N;if(A<1){const X=Wh(D,A);N=J=>{const $=Math.exp(-A*D*J);return u-$*((x+A*D*C)/X*Math.sin(X*J)+C*Math.cos(X*J))}}else if(A===1)N=X=>u-Math.exp(-D*X)*(C+(x+D*C)*X);else{const X=D*Math.sqrt(A*A-1);N=J=>{const $=Math.exp(-A*D*J),B=Math.min(X*J,300);return u-$*((x+A*D*C)*Math.sinh(B)+X*C*Math.cosh(B))/X}}const K={calculatedDuration:S&&v||null,next:X=>{const J=N(X);if(S)f.done=X>=v;else{let $=X===0?x:0;A<1&&($=X===0?On(x):Kb(N,X,J));const B=Math.abs($)<=r,ee=Math.abs(u-J)<=l;f.done=B&&ee}return f.value=f.done?u:J,f},toString:()=>{const X=Math.min(Xd(K),Il),J=Gb($=>K.next(X*$).value,X,30);return X+"ms "+J},toTransition:()=>{}};return K}Vl.applyToOptions=n=>{const t=sT(n,100,Vl);return n.ease=t.ease,n.duration=On(t.duration),n.type="keyframes",n};function ed({keyframes:n,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:l=10,bounceStiffness:c=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},S=B=>f!==void 0&&B<f||m!==void 0&&B>m,x=B=>f===void 0?m:m===void 0||Math.abs(f-B)<Math.abs(m-B)?f:m;let A=s*t;const C=v+A,D=u===void 0?C:u(C);D!==C&&(A=D-v);const L=B=>-A*Math.exp(-B/r),N=B=>D+L(B),K=B=>{const ee=L(B),Se=N(B);b.done=Math.abs(ee)<=p,b.value=b.done?D:Se};let X,J;const $=B=>{S(b.value)&&(X=B,J=Vl({keyframes:[b.value,x(b.value)],velocity:Kb(N,B,b.value),damping:l,stiffness:c,restDelta:p,restSpeed:g}))};return $(0),{calculatedDuration:null,next:B=>{let ee=!1;return!J&&X===void 0&&(ee=!0,K(B),$(B)),X!==void 0&&B>=X?J.next(B-X):(!ee&&K(B),b)}}}function dT(n,t,s){const r=[],l=s||Jn.mix||$b,c=n.length-1;for(let u=0;u<c;u++){let f=l(n[u],n[u+1]);if(t){const m=Array.isArray(t)?t[u]||fn:t;f=Fr(m,f)}r.push(f)}return r}function fT(n,t,{clamp:s=!0,ease:r,mixer:l}={}){const c=n.length;if(Vd(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=dT(t,r,l),m=f.length,p=g=>{if(u&&g<n[0])return t[0];let v=0;if(m>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=Ur(n[v],n[v+1],g);return f[v](b)};return s?g=>p(Xn(n[0],n[c-1],g)):p}function mT(n,t){const s=n[n.length-1];for(let r=1;r<=t;r++){const l=Ur(0,t,r);n.push(Qe(s,1,l))}}function pT(n){const t=[0];return mT(t,n.length-1),t}function gT(n,t){return n.map(s=>s*t)}function yT(n,t){return n.map(()=>t||Db).splice(0,n.length-1)}function Rr({duration:n=300,keyframes:t,times:s,ease:r="easeInOut"}){const l=RE(r)?r.map(Uy):Uy(r),c={done:!1,value:t[0]},u=gT(s&&s.length===t.length?s:pT(t),n),f=fT(u,t,{ease:Array.isArray(l)?l:yT(t,l)});return{calculatedDuration:n,next:m=>(c.value=f(m),c.done=m>=n,c)}}const vT=n=>n!==null;function Jd(n,{repeat:t,repeatType:s="loop"},r,l=1){const c=n.filter(vT),f=l<0||t&&s!=="loop"&&t%2===1?0:c.length-1;return!f||r===void 0?c[f]:r}const bT={decay:ed,inertia:ed,tween:Rr,keyframes:Rr,spring:Vl};function Yb(n){typeof n.type=="string"&&(n.type=bT[n.type])}class Qd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const wT=n=>n/100;class Zd extends Qd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,l;const{motionValue:s}=this.options;s&&s.updatedAt!==Vt.now()&&this.tick(Vt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(r=this.options).onStop)==null||l.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Yb(t);const{type:s=Rr,repeat:r=0,repeatDelay:l=0,repeatType:c,velocity:u=0}=t;let{keyframes:f}=t;const m=s||Rr;m!==Rr&&typeof f[0]!="number"&&(this.mixKeyframes=Fr(wT,$b(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});c==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Xd(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(r+1)-l,this.generator=p}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:l,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:S,type:x,onUpdate:A,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?D<0:D>l;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let N=this.currentTime,K=r;if(v){const B=Math.min(this.currentTime,l)/f;let ee=Math.floor(B),Se=B%1;!Se&&B>=1&&(Se=1),Se===1&&ee--,ee=Math.min(ee,v+1),!!(ee%2)&&(b==="reverse"?(Se=1-Se,S&&(Se-=S/f)):b==="mirror"&&(K=u)),N=Xn(0,1,Se)*f}const X=L?{done:!1,value:g[0]}:K.next(N);c&&(X.value=c(X.value));let{done:J}=X;!L&&m!==null&&(J=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return $&&x!==ed&&(X.value=Jd(g,this.options,C,this.speed)),A&&A(X.value),$&&this.finish(),X}then(t,s){return this.finished.then(t,s)}get duration(){return dn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dn(t)}get time(){return dn(this.currentTime)}set time(t){var s;t=On(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Vt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=dn(this.currentTime))}play(){var l,c;if(this.isStopped)return;const{driver:t=iT,startTime:s}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(c=(l=this.options).onPlay)==null||c.call(l);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function _T(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const us=n=>n*180/Math.PI,td=n=>{const t=us(Math.atan2(n[1],n[0]));return nd(t)},ST={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:td,rotateZ:td,skewX:n=>us(Math.atan(n[1])),skewY:n=>us(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},nd=n=>(n=n%360,n<0&&(n+=360),n),Py=td,Hy=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),qy=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),xT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hy,scaleY:qy,scale:n=>(Hy(n)+qy(n))/2,rotateX:n=>nd(us(Math.atan2(n[6],n[5]))),rotateY:n=>nd(us(Math.atan2(-n[2],n[0]))),rotateZ:Py,rotate:Py,skewX:n=>us(Math.atan(n[4])),skewY:n=>us(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function id(n){return n.includes("scale")?1:0}function sd(n,t){if(!n||n==="none")return id(t);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,l;if(s)r=xT,l=s;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ST,l=f}if(!l)return id(t);const c=r[t],u=l[1].split(",").map(TT);return typeof c=="function"?c(u):u[c]}const ET=(n,t)=>{const{transform:s="none"}=getComputedStyle(n);return sd(s,t)};function TT(n){return parseFloat(n.trim())}const Ea=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=new Set(Ea),$y=n=>n===xa||n===de,AT=new Set(["x","y","z"]),OT=Ea.filter(n=>!AT.has(n));function RT(n){const t=[];return OT.forEach(s=>{const r=n.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const ds={width:({x:n},{paddingLeft:t="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(t)-parseFloat(s),height:({y:n},{paddingTop:t="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(t)-parseFloat(s),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>sd(t,"x"),y:(n,{transform:t})=>sd(t,"y")};ds.translateX=ds.x;ds.translateY=ds.y;const fs=new Set;let ad=!1,rd=!1,od=!1;function Fb(){if(rd){const n=Array.from(fs).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),s=new Map;t.forEach(r=>{const l=RT(r);l.length&&(s.set(r,l),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const l=s.get(r);l&&l.forEach(([c,u])=>{var f;(f=r.getValue(c))==null||f.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rd=!1,ad=!1,fs.forEach(n=>n.complete(od)),fs.clear()}function Xb(){fs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(rd=!0)})}function CT(){od=!0,Xb(),Fb(),od=!1}class Wd{constructor(t,s,r,l,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=l,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(fs.add(this),ad||(ad=!0,Xe.read(Xb),Xe.resolveKeyframes(Fb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:l}=this;if(t[0]===null){const c=l==null?void 0:l.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&s){const f=r.readValue(s,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),l&&c===void 0&&l.set(t[0])}_T(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fs.delete(this)}cancel(){this.state==="scheduled"&&(fs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NT=n=>n.startsWith("--");function jT(n,t,s){NT(t)?n.style.setProperty(t,s):n.style[t]=s}const kT=Pd(()=>window.ScrollTimeline!==void 0),DT={};function MT(n,t){const s=Pd(n);return()=>DT[t]??s()}const Jb=MT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Er=([n,t,s,r])=>`cubic-bezier(${n}, ${t}, ${s}, ${r})`,Gy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Er([0,.65,.55,1]),circOut:Er([.55,0,1,.45]),backIn:Er([.31,.01,.66,-.59]),backOut:Er([.33,1.53,.69,.99])};function Qb(n,t){if(n)return typeof n=="function"?Jb()?Gb(n,t):"ease-out":Mb(n)?Er(n):Array.isArray(n)?n.map(s=>Qb(s,t)||Gy.easeOut):Gy[n]}function UT(n,t,s,{delay:r=0,duration:l=300,repeat:c=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const g={[t]:s};m&&(g.offset=m);const v=Qb(f,l);Array.isArray(v)&&(g.easing=v);const b={delay:r,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),n.animate(g,b)}function Zb(n){return typeof n=="function"&&"applyToOptions"in n}function zT({type:n,...t}){return Zb(n)&&Jb()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class LT extends Qd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:l,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,Vd(typeof t.type!="string");const p=zT(t);this.animation=UT(s,r,l,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=Jd(l,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):jT(s,r,g),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return dn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dn(t)}get time(){return dn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=On(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&kT()?(this.animation.timeline=t,fn):s(this)}}const Wb={anticipate:Nb,backInOut:Cb,circInOut:kb};function BT(n){return n in Wb}function IT(n){typeof n.ease=="string"&&BT(n.ease)&&(n.ease=Wb[n.ease])}const Ky=10;class VT extends LT{constructor(t){IT(t),Yb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:l,element:c,...u}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const f=new Zd({...u,autoplay:!1}),m=On(this.finishedTime??this.time);s.setWithVelocity(f.sample(m-Ky).value,f.sample(m).value,Ky),f.stop()}}const Yy=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Di.test(n)||n==="0")&&!n.startsWith("url("));function PT(n){const t=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==t)return!0}function HT(n,t,s,r){const l=n[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const c=n[n.length-1],u=Yy(l,t),f=Yy(c,t);return!u||!f?!1:PT(n)||(s==="spring"||Zb(s))&&r}function ld(n){n.duration=0,n.type="keyframes"}const qT=new Set(["opacity","clipPath","filter","transform"]),$T=Pd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GT(n){var g;const{motionValue:t,name:s,repeatDelay:r,repeatType:l,damping:c,type:u}=n;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return $T()&&s&&qT.has(s)&&(s!=="transform"||!p)&&!m&&!r&&l!=="mirror"&&c!==0&&u!=="inertia"}const KT=40;class YT extends Qd{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:g,...v}){var x;super(),this.stop=()=>{var A,C;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Vt.now();const b={autoplay:t,delay:s,type:r,repeat:l,repeatDelay:c,repeatType:u,name:m,motionValue:p,element:g,...v},S=(g==null?void 0:g.KeyframeResolver)||Wd;this.keyframeResolver=new S(f,(A,C,D)=>this.onKeyframesResolved(A,C,b,!D),m,p,g),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,s,r,l){this.keyframeResolver=void 0;const{name:c,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Vt.now(),HT(t,c,u,f)||((Jn.instantAnimations||!m)&&(g==null||g(Jd(t,r,s))),t[0]=t[t.length-1],ld(r),r.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>KT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},S=!p&&GT(b)?new VT({...b,element:b.motionValue.owner.current}):new Zd(b);S.finished.then(()=>this.notifyFinished()).catch(fn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),CT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const FT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XT(n){const t=FT.exec(n);if(!t)return[,];const[,s,r,l]=t;return[`--${s??r}`,l]}function ew(n,t,s=1){const[r,l]=XT(n);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const u=c.trim();return _b(u)?parseFloat(u):u}return Gd(l)?ew(l,t,s+1):l}function ef(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const tw=new Set(["width","height","top","left","right","bottom",...Ea]),JT={test:n=>n==="auto",parse:n=>n},nw=n=>t=>t.test(n),iw=[xa,de,Rn,Ei,PE,VE,JT],Fy=n=>iw.find(nw(n));function QT(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||xb(n):!0}const ZT=new Set(["brightness","contrast","saturate","opacity"]);function WT(n){const[t,s]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=s.match(Kd)||[];if(!r)return n;const l=s.replace(r,"");let c=ZT.has(t)?1:0;return r!==s&&(c*=100),t+"("+c+l+")"}const e1=/\b([a-z-]*)\(.*?\)/gu,cd={...Di,getAnimatableNone:n=>{const t=n.match(e1);return t?t.map(WT).join(" "):n}},Xy={...xa,transform:Math.round},t1={rotate:Ei,rotateX:Ei,rotateY:Ei,rotateZ:Ei,scale:wl,scaleX:wl,scaleY:wl,scaleZ:wl,skew:Ei,skewX:Ei,skewY:Ei,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:zr,originX:zy,originY:zy,originZ:de},tf={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...t1,zIndex:Xy,fillOpacity:zr,strokeOpacity:zr,numOctaves:Xy},n1={...tf,color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:cd,WebkitFilter:cd},sw=n=>n1[n];function aw(n,t){let s=sw(n);return s!==cd&&(s=Di),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const i1=new Set(["auto","none","0"]);function s1(n,t,s){let r=0,l;for(;r<n.length&&!l;){const c=n[r];typeof c=="string"&&!i1.has(c)&&Lr(c).values.length&&(l=n[r]),r++}if(l&&s)for(const c of t)n[c]=aw(s,l)}class a1 extends Wd{constructor(t,s,r,l,c){super(t,s,r,l,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Gd(p))){const g=ew(p,s.current);g!==void 0&&(t[m]=g),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!tw.has(r)||t.length!==2)return;const[l,c]=t,u=Fy(l),f=Fy(c);if(u!==f)if($y(u)&&$y(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else ds[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let l=0;l<t.length;l++)(t[l]===null||QT(t[l]))&&r.push(l);r.length&&s1(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(r,l).jump(l,!1)}measureEndState(){var f;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=ds[s](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function r1(n,t,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const l=(s==null?void 0:s[n])??r.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}const rw=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function ow(n){return Sb(n)&&"offsetHeight"in n}const Jy=30,o1=n=>!isNaN(parseFloat(n));class l1{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var c;const l=Vt.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Vt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=o1(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Hd);const r=this.events[t].add(s);return t==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Jy)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Jy);return Eb(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wa(n,t){return new l1(n,t)}const{schedule:nf}=Ub(queueMicrotask,!1),wn={x:!1,y:!1};function lw(){return wn.x||wn.y}function c1(n){return n==="x"||n==="y"?wn[n]?null:(wn[n]=!0,()=>{wn[n]=!1}):wn.x||wn.y?null:(wn.x=wn.y=!0,()=>{wn.x=wn.y=!1})}function cw(n,t){const s=r1(n),r=new AbortController,l={passive:!0,...t,signal:r.signal};return[s,l,()=>r.abort()]}function Qy(n){return!(n.pointerType==="touch"||lw())}function u1(n,t,s={}){const[r,l,c]=cw(n,s),u=f=>{if(!Qy(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const g=v=>{Qy(v)&&(p(v),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,l)};return r.forEach(f=>{f.addEventListener("pointerenter",u,l)}),c}const uw=(n,t)=>t?n===t?!0:uw(n,t.parentElement):!1,sf=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,h1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function d1(n){return h1.has(n.tagName)||n.tabIndex!==-1}const kl=new WeakSet;function Zy(n){return t=>{t.key==="Enter"&&n(t)}}function Nh(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const f1=(n,t)=>{const s=n.currentTarget;if(!s)return;const r=Zy(()=>{if(kl.has(s))return;Nh(s,"down");const l=Zy(()=>{Nh(s,"up")}),c=()=>Nh(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",c,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function Wy(n){return sf(n)&&!lw()}function m1(n,t,s={}){const[r,l,c]=cw(n,s),u=f=>{const m=f.currentTarget;if(!Wy(f))return;kl.add(m);const p=t(m,f),g=(S,x)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),kl.has(m)&&kl.delete(m),Wy(S)&&typeof p=="function"&&p(S,{success:x})},v=S=>{g(S,m===window||m===document||s.useGlobalTarget||uw(m,S.target))},b=S=>{g(S,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",b,l)};return r.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",u,l),ow(f)&&(f.addEventListener("focus",p=>f1(p,l)),!d1(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function hw(n){return Sb(n)&&"ownerSVGElement"in n}function p1(n){return hw(n)&&n.tagName==="svg"}const Nt=n=>!!(n&&n.getVelocity),g1=[...iw,ht,Di],y1=n=>g1.find(nw(n)),af=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function e0(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function v1(...n){return t=>{let s=!1;const r=n.map(l=>{const c=e0(l,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let l=0;l<r.length;l++){const c=r[l];typeof c=="function"?c():e0(n[l],null)}}}}function b1(...n){return F.useCallback(v1(...n),n)}class w1 extends F.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,l=ow(r)&&r.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=l-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _1({children:n,isPresent:t,anchorX:s,root:r}){const l=F.useId(),c=F.useRef(null),u=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=F.useContext(af),m=b1(c,n==null?void 0:n.ref);return F.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:b,right:S}=u.current;if(t||!c.current||!p||!g)return;const x=s==="left"?`left: ${b}`:`right: ${S}`;c.current.dataset.motionPopId=l;const A=document.createElement("style");f&&(A.nonce=f);const C=r??document.head;return C.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${x}px !important;
            top: ${v}px !important;
          }
        `),()=>{C.contains(A)&&C.removeChild(A)}},[t]),w.jsx(w1,{isPresent:t,childRef:c,sizeRef:u,children:F.cloneElement(n,{ref:m})})}const S1=({children:n,initial:t,isPresent:s,onExitComplete:r,custom:l,presenceAffectsLayout:c,mode:u,anchorX:f,root:m})=>{const p=zd(x1),g=F.useId();let v=!0,b=F.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:s,custom:l,onExitComplete:S=>{p.set(S,!0);for(const x of p.values())if(!x)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[s,p,r]);return c&&v&&(b={...b}),F.useMemo(()=>{p.forEach((S,x)=>p.set(x,!1))},[s]),F.useEffect(()=>{!s&&!p.size&&r&&r()},[s]),u==="popLayout"&&(n=w.jsx(_1,{isPresent:s,anchorX:f,root:m,children:n})),w.jsx(Jl.Provider,{value:b,children:n})};function x1(){return new Map}function dw(n=!0){const t=F.useContext(Jl);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:l}=t,c=F.useId();F.useEffect(()=>{if(n)return l(c)},[n]);const u=F.useCallback(()=>n&&r&&r(c),[c,r,n]);return!s&&r?[!1,u]:[!0]}const _l=n=>n.key||"";function t0(n){const t=[];return F.Children.forEach(n,s=>{F.isValidElement(s)&&t.push(s)}),t}const Ti=({children:n,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:c="sync",propagate:u=!1,anchorX:f="left",root:m})=>{const[p,g]=dw(u),v=F.useMemo(()=>t0(n),[n]),b=u&&!p?[]:v.map(_l),S=F.useRef(!0),x=F.useRef(v),A=zd(()=>new Map),[C,D]=F.useState(v),[L,N]=F.useState(v);wb(()=>{S.current=!1,x.current=v;for(let J=0;J<L.length;J++){const $=_l(L[J]);b.includes($)?A.delete($):A.get($)!==!0&&A.set($,!1)}},[L,b.length,b.join("-")]);const K=[];if(v!==C){let J=[...v];for(let $=0;$<L.length;$++){const B=L[$],ee=_l(B);b.includes(ee)||(J.splice($,0,B),K.push(B))}return c==="wait"&&K.length&&(J=K),N(t0(J)),D(v),null}const{forceRender:X}=F.useContext(Ud);return w.jsx(w.Fragment,{children:L.map(J=>{const $=_l(J),B=u&&!p?!1:v===L||b.includes($),ee=()=>{if(A.has($))A.set($,!0);else return;let Se=!0;A.forEach(Oe=>{Oe||(Se=!1)}),Se&&(X==null||X(),N(x.current),u&&(g==null||g()),r&&r())};return w.jsx(S1,{isPresent:B,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:c,root:m,onExitComplete:B?void 0:ee,anchorX:f,children:J},$)})})},fw=F.createContext({strict:!1}),n0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_a={};for(const n in n0)_a[n]={isEnabled:t=>n0[n].some(s=>!!t[s])};function E1(n){for(const t in n)_a[t]={..._a[t],...n[t]}}const T1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pl(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||T1.has(n)}let mw=n=>!Pl(n);function A1(n){typeof n=="function"&&(mw=t=>t.startsWith("on")?!Pl(t):n(t))}try{A1(require("@emotion/is-prop-valid").default)}catch{}function O1(n,t,s){const r={};for(const l in n)l==="values"&&typeof n.values=="object"||(mw(l)||s===!0&&Pl(l)||!t&&!Pl(l)||n.draggable&&l.startsWith("onDrag"))&&(r[l]=n[l]);return r}const Ql=F.createContext({});function Zl(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Br(n){return typeof n=="string"||Array.isArray(n)}const rf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],of=["initial",...rf];function Wl(n){return Zl(n.animate)||of.some(t=>Br(n[t]))}function pw(n){return!!(Wl(n)||n.variants)}function R1(n,t){if(Wl(n)){const{initial:s,animate:r}=n;return{initial:s===!1||Br(s)?s:void 0,animate:Br(r)?r:void 0}}return n.inherit!==!1?t:{}}function C1(n){const{initial:t,animate:s}=R1(n,F.useContext(Ql));return F.useMemo(()=>({initial:t,animate:s}),[i0(t),i0(s)])}function i0(n){return Array.isArray(n)?n.join(" "):n}function s0(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Sr={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(de.test(n))n=parseFloat(n);else return n;const s=s0(n,t.target.x),r=s0(n,t.target.y);return`${s}% ${r}%`}},N1={correct:(n,{treeScale:t,projectionDelta:s})=>{const r=n,l=Di.parse(n);if(l.length>5)return r;const c=Di.createTransformer(n),u=typeof l[0]!="number"?1:0,f=s.x.scale*t.x,m=s.y.scale*t.y;l[0+u]/=f,l[1+u]/=m;const p=Qe(f,m,.5);return typeof l[2+u]=="number"&&(l[2+u]/=p),typeof l[3+u]=="number"&&(l[3+u]/=p),c(l)}},ud={borderRadius:{...Sr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sr,borderTopRightRadius:Sr,borderBottomLeftRadius:Sr,borderBottomRightRadius:Sr,boxShadow:N1};function gw(n,{layout:t,layoutId:s}){return Ta.has(n)||n.startsWith("origin")||(t||s!==void 0)&&(!!ud[n]||n==="opacity")}const j1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k1=Ea.length;function D1(n,t,s){let r="",l=!0;for(let c=0;c<k1;c++){const u=Ea[c],f=n[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||s){const p=rw(f,tf[u]);if(!m){l=!1;const g=j1[u]||u;r+=`${g}(${p}) `}s&&(t[u]=p)}}return r=r.trim(),s?r=s(t,l?"":r):l&&(r="none"),r}function lf(n,t,s){const{style:r,vars:l,transformOrigin:c}=n;let u=!1,f=!1;for(const m in t){const p=t[m];if(Ta.has(m)){u=!0;continue}else if(Lb(m)){l[m]=p;continue}else{const g=rw(p,tf[m]);m.startsWith("origin")?(f=!0,c[m]=g):r[m]=g}}if(t.transform||(u||s?r.transform=D1(t,n.transform,s):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:g=0}=c;r.transformOrigin=`${m} ${p} ${g}`}}const cf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yw(n,t,s){for(const r in t)!Nt(t[r])&&!gw(r,s)&&(n[r]=t[r])}function M1({transformTemplate:n},t){return F.useMemo(()=>{const s=cf();return lf(s,t,n),Object.assign({},s.vars,s.style)},[t])}function U1(n,t){const s=n.style||{},r={};return yw(r,s,n),Object.assign(r,M1(n,t)),r}function z1(n,t){const s={},r=U1(n,t);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=r,s}const L1={offset:"stroke-dashoffset",array:"stroke-dasharray"},B1={offset:"strokeDashoffset",array:"strokeDasharray"};function I1(n,t,s=1,r=0,l=!0){n.pathLength=1;const c=l?L1:B1;n[c.offset]=de.transform(-r);const u=de.transform(t),f=de.transform(s);n[c.array]=`${u} ${f}`}function vw(n,{attrX:t,attrY:s,attrScale:r,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...f},m,p,g){if(lf(n,f,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),s!==void 0&&(v.y=s),r!==void 0&&(v.scale=r),l!==void 0&&I1(v,l,c,u,!1)}const bw=()=>({...cf(),attrs:{}}),ww=n=>typeof n=="string"&&n.toLowerCase()==="svg";function V1(n,t,s,r){const l=F.useMemo(()=>{const c=bw();return vw(c,t,ww(r),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[t]);if(n.style){const c={};yw(c,n.style,n),l.style={...c,...l.style}}return l}const P1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uf(n){return typeof n!="string"||n.includes("-")?!1:!!(P1.indexOf(n)>-1||/[A-Z]/u.test(n))}function H1(n,t,s,{latestValues:r},l,c=!1){const f=(uf(n)?V1:z1)(t,r,l,n),m=O1(t,typeof n=="string",c),p=n!==F.Fragment?{...m,...f,ref:s}:{},{children:g}=t,v=F.useMemo(()=>Nt(g)?g.get():g,[g]);return F.createElement(n,{...p,children:v})}function a0(n){const t=[{},{}];return n==null||n.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function hf(n,t,s,r){if(typeof t=="function"){const[l,c]=a0(r);t=t(s!==void 0?s:n.custom,l,c)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[l,c]=a0(r);t=t(s!==void 0?s:n.custom,l,c)}return t}function Dl(n){return Nt(n)?n.get():n}function q1({scrapeMotionValuesFromProps:n,createRenderState:t},s,r,l){return{latestValues:$1(s,r,l,n),renderState:t()}}function $1(n,t,s,r){const l={},c=r(n,{});for(const b in c)l[b]=Dl(c[b]);let{initial:u,animate:f}=n;const m=Wl(n),p=pw(n);t&&p&&!m&&n.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let g=s?s.initial===!1:!1;g=g||u===!1;const v=g?f:u;if(v&&typeof v!="boolean"&&!Zl(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const x=hf(n,b[S]);if(x){const{transitionEnd:A,transition:C,...D}=x;for(const L in D){let N=D[L];if(Array.isArray(N)){const K=g?N.length-1:0;N=N[K]}N!==null&&(l[L]=N)}for(const L in A)l[L]=A[L]}}}return l}const _w=n=>(t,s)=>{const r=F.useContext(Ql),l=F.useContext(Jl),c=()=>q1(n,t,r,l);return s?c():zd(c)};function df(n,t,s){var c;const{style:r}=n,l={};for(const u in r)(Nt(r[u])||t.style&&Nt(t.style[u])||gw(u,n)||((c=s==null?void 0:s.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(l[u]=r[u]);return l}const G1=_w({scrapeMotionValuesFromProps:df,createRenderState:cf});function Sw(n,t,s){const r=df(n,t,s);for(const l in n)if(Nt(n[l])||Nt(t[l])){const c=Ea.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;r[c]=n[l]}return r}const K1=_w({scrapeMotionValuesFromProps:Sw,createRenderState:bw}),Y1=Symbol.for("motionComponentSymbol");function ha(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function F1(n,t,s){return F.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):ha(s)&&(s.current=r))},[t])}const ff=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),X1="framerAppearId",xw="data-"+ff(X1),Ew=F.createContext({});function J1(n,t,s,r,l){var A,C;const{visualElement:c}=F.useContext(Ql),u=F.useContext(fw),f=F.useContext(Jl),m=F.useContext(af).reducedMotion,p=F.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(n,{visualState:t,parent:c,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const g=p.current,v=F.useContext(Ew);g&&!g.projection&&l&&(g.type==="html"||g.type==="svg")&&Q1(p.current,s,l,v);const b=F.useRef(!1);F.useInsertionEffect(()=>{g&&b.current&&g.update(s,f)});const S=s[xw],x=F.useRef(!!S&&!((A=window.MotionHandoffIsComplete)!=null&&A.call(window,S))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,S)));return wb(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),x.current&&g.animationState&&g.animationState.animateChanges())}),F.useEffect(()=>{g&&(!x.current&&g.animationState&&g.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,S)}),x.current=!1),g.enteringChildren=void 0)}),g}function Q1(n,t,s,r){const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=t;n.projection=new s(n.latestValues,t["data-framer-portal-id"]?void 0:Tw(n.parent)),n.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&ha(f),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:p})}function Tw(n){if(n)return n.options.allowProjection!==!1?n.projection:Tw(n.parent)}function jh(n,{forwardMotionProps:t=!1}={},s,r){s&&E1(s);const l=uf(n)?K1:G1;function c(f,m){let p;const g={...F.useContext(af),...f,layoutId:Z1(f)},{isStatic:v}=g,b=C1(f),S=l(f,v);if(!v&&Ld){W1();const x=eA(g);p=x.MeasureLayout,b.visualElement=J1(n,S,g,r,x.ProjectionNode)}return w.jsxs(Ql.Provider,{value:b,children:[p&&b.visualElement?w.jsx(p,{visualElement:b.visualElement,...g}):null,H1(n,f,F1(S,b.visualElement,m),S,v,t)]})}c.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=F.forwardRef(c);return u[Y1]=n,u}function Z1({layoutId:n}){const t=F.useContext(Ud).id;return t&&n!==void 0?t+"-"+n:n}function W1(n,t){F.useContext(fw).strict}function eA(n){const{drag:t,layout:s}=_a;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(n)||s!=null&&s.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function tA(n,t){if(typeof Proxy>"u")return jh;const s=new Map,r=(c,u)=>jh(c,u,n,t),l=(c,u)=>r(c,u);return new Proxy(l,{get:(c,u)=>u==="create"?r:(s.has(u)||s.set(u,jh(u,void 0,n,t)),s.get(u))})}function Aw({top:n,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:n,max:r}}}function nA({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function iA(n,t){if(!t)return n;const s=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function kh(n){return n===void 0||n===1}function hd({scale:n,scaleX:t,scaleY:s}){return!kh(n)||!kh(t)||!kh(s)}function as(n){return hd(n)||Ow(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Ow(n){return r0(n.x)||r0(n.y)}function r0(n){return n&&n!=="0%"}function Hl(n,t,s){const r=n-s,l=t*r;return s+l}function o0(n,t,s,r,l){return l!==void 0&&(n=Hl(n,l,r)),Hl(n,s,r)+t}function dd(n,t=0,s=1,r,l){n.min=o0(n.min,t,s,r,l),n.max=o0(n.max,t,s,r,l)}function Rw(n,{x:t,y:s}){dd(n.x,t.translate,t.scale,t.originPoint),dd(n.y,s.translate,s.scale,s.originPoint)}const l0=.999999999999,c0=1.0000000000001;function sA(n,t,s,r=!1){const l=s.length;if(!l)return;t.x=t.y=1;let c,u;for(let f=0;f<l;f++){c=s[f],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&fa(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Rw(n,u)),r&&as(c.latestValues)&&fa(n,c.latestValues))}t.x<c0&&t.x>l0&&(t.x=1),t.y<c0&&t.y>l0&&(t.y=1)}function da(n,t){n.min=n.min+t,n.max=n.max+t}function u0(n,t,s,r,l=.5){const c=Qe(n.min,n.max,l);dd(n,t,s,c,r)}function fa(n,t){u0(n.x,t.x,t.scaleX,t.scale,t.originX),u0(n.y,t.y,t.scaleY,t.scale,t.originY)}function Cw(n,t){return Aw(iA(n.getBoundingClientRect(),t))}function aA(n,t,s){const r=Cw(n,s),{scroll:l}=t;return l&&(da(r.x,l.offset.x),da(r.y,l.offset.y)),r}const h0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ma=()=>({x:h0(),y:h0()}),d0=()=>({min:0,max:0}),pt=()=>({x:d0(),y:d0()}),fd={current:null},Nw={current:!1};function rA(){if(Nw.current=!0,!!Ld)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>fd.current=n.matches;n.addEventListener("change",t),t()}else fd.current=!1}const oA=new WeakMap;function lA(n,t,s){for(const r in t){const l=t[r],c=s[r];if(Nt(l))n.addValue(r,l);else if(Nt(c))n.addValue(r,wa(l,{owner:n}));else if(c!==l)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(l):u.hasAnimated||u.set(l)}else{const u=n.getStaticValue(r);n.addValue(r,wa(u!==void 0?u:l,{owner:n}))}}for(const r in s)t[r]===void 0&&n.removeValue(r);return t}const f0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cA{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:l,blockInitialAnimation:c,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Vt.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Xe.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Wl(s),this.isVariantNode=pw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in v){const S=v[b];m[b]!==void 0&&Nt(S)&&S.set(m[b])}}mount(t){var s;this.current=t,oA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,l)=>this.bindToMotionValue(l,r)),Nw.current||rA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fd.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ta.has(t);r&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),c&&c(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _a){const s=_a[t];if(!s)continue;const{isEnabled:r,Feature:l}=s;if(!this.features[t]&&l&&r(this.props)&&(this.features[t]=new l(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<f0.length;r++){const l=f0[r];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const c="on"+l,u=t[c];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=lA(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=wa(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(_b(r)||xb(r))?r=parseFloat(r):!y1(r)&&Di.test(s)&&(r=aw(t,s)),this.setBaseTarget(t,Nt(r)?r.get():r)),Nt(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var c;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const u=hf(this.props,s,(c=this.presenceContext)==null?void 0:c.custom);u&&(r=u[t])}if(s&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Nt(l)?l:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Hd),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){nf.render(this.render)}}class jw extends cA{constructor(){super(...arguments),this.KeyframeResolver=a1}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function kw(n,{style:t,vars:s},r,l){const c=n.style;let u;for(u in t)c[u]=t[u];l==null||l.applyProjectionStyles(c,r);for(u in s)c.setProperty(u,s[u])}function uA(n){return window.getComputedStyle(n)}class hA extends jw{constructor(){super(...arguments),this.type="html",this.renderInstance=kw}readValueFromInstance(t,s){var r;if(Ta.has(s))return(r=this.projection)!=null&&r.isProjecting?id(s):ET(t,s);{const l=uA(t),c=(Lb(s)?l.getPropertyValue(s):l[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Cw(t,s)}build(t,s,r){lf(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return df(t,s,r)}}const Dw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dA(n,t,s,r){kw(n,t,void 0,r);for(const l in t.attrs)n.setAttribute(Dw.has(l)?l:ff(l),t.attrs[l])}class fA extends jw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Ta.has(s)){const r=sw(s);return r&&r.default||0}return s=Dw.has(s)?s:ff(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return Sw(t,s,r)}build(t,s,r){vw(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,l){dA(t,s,r,l)}mount(t){this.isSVGTag=ww(t.tagName),super.mount(t)}}const mA=(n,t)=>uf(n)?new fA(t):new hA(t,{allowProjection:n!==F.Fragment});function ga(n,t,s){const r=n.getProps();return hf(r,t,s!==void 0?s:r.custom,n)}const md=n=>Array.isArray(n);function pA(n,t,s){n.hasValue(t)?n.getValue(t).set(s):n.addValue(t,wa(s))}function gA(n){return md(n)?n[n.length-1]||0:n}function yA(n,t){const s=ga(n,t);let{transitionEnd:r={},transition:l={},...c}=s||{};c={...c,...r};for(const u in c){const f=gA(c[u]);pA(n,u,f)}}function vA(n){return!!(Nt(n)&&n.add)}function pd(n,t){const s=n.getValue("willChange");if(vA(s))return s.add(t);if(!s&&Jn.WillChange){const r=new Jn.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function Mw(n){return n.props[xw]}const bA=n=>n!==null;function wA(n,{repeat:t,repeatType:s="loop"},r){const l=n.filter(bA),c=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[c]}const _A={type:"spring",stiffness:500,damping:25,restSpeed:10},SA=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),xA={type:"keyframes",duration:.8},EA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TA=(n,{keyframes:t})=>t.length>2?xA:Ta.has(n)?n.startsWith("scale")?SA(t[1]):_A:EA;function AA({when:n,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:l,repeat:c,repeatType:u,repeatDelay:f,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const mf=(n,t,s,r={},l,c)=>u=>{const f=ef(r,n)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-On(m);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:c?void 0:l};AA(f)||Object.assign(g,TA(n,g)),g.duration&&(g.duration=On(g.duration)),g.repeatDelay&&(g.repeatDelay=On(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(ld(g),g.delay===0&&(v=!0)),(Jn.instantAnimations||Jn.skipAnimations)&&(v=!0,ld(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!c&&t.get()!==void 0){const b=wA(g.keyframes,f);if(b!==void 0){Xe.update(()=>{g.onUpdate(b),g.onComplete()});return}}return f.isSync?new Zd(g):new YT(g)};function OA({protectedKeys:n,needsAnimating:t},s){const r=n.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function Uw(n,t,{delay:s=0,transitionOverride:r,type:l}={}){let{transition:c=n.getDefaultTransition(),transitionEnd:u,...f}=t;r&&(c=r);const m=[],p=l&&n.animationState&&n.animationState.getState()[l];for(const g in f){const v=n.getValue(g,n.latestValues[g]??null),b=f[g];if(b===void 0||p&&OA(p,g))continue;const S={delay:s,...ef(c||{},g)},x=v.get();if(x!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===x&&!S.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const D=Mw(n);if(D){const L=window.MotionHandoffAnimation(D,g,Xe);L!==null&&(S.startTime=L,A=!0)}}pd(n,g),v.start(mf(g,v,b,n.shouldReduceMotion&&tw.has(g)?{type:!1}:S,n,A));const C=v.animation;C&&m.push(C)}return u&&Promise.all(m).then(()=>{Xe.update(()=>{u&&yA(n,u)})}),m}function zw(n,t,s,r=0,l=1){const c=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(t),u=n.size,f=(u-1)*r;return typeof s=="function"?s(c,u):l===1?c*r:f-c*r}function gd(n,t,s={}){var m;const r=ga(n,t,s.type==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(l=s.transitionOverride);const c=r?()=>Promise.all(Uw(n,r,s)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=l;return RA(n,t,p,g,v,b,s)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,g]=f==="beforeChildren"?[c,u]:[u,c];return p().then(()=>g())}else return Promise.all([c(),u(s.delay)])}function RA(n,t,s=0,r=0,l=0,c=1,u){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),f.push(gd(m,t,{...u,delay:s+(typeof r=="function"?0:r)+zw(n.variantChildren,m,r,l,c)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function CA(n,t,s={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const l=t.map(c=>gd(n,c,s));r=Promise.all(l)}else if(typeof t=="string")r=gd(n,t,s);else{const l=typeof t=="function"?ga(n,t,s.custom):t;r=Promise.all(Uw(n,l,s))}return r.then(()=>{n.notify("AnimationComplete",t)})}function Lw(n,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==n.length)return!1;for(let r=0;r<s;r++)if(t[r]!==n[r])return!1;return!0}const NA=of.length;function Bw(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?Bw(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const t={};for(let s=0;s<NA;s++){const r=of[s],l=n.props[r];(Br(l)||l===!1)&&(t[r]=l)}return t}const jA=[...rf].reverse(),kA=rf.length;function DA(n){return t=>Promise.all(t.map(({animation:s,options:r})=>CA(n,s,r)))}function MA(n){let t=DA(n),s=m0(),r=!0;const l=m=>(p,g)=>{var b;const v=ga(n,g,m==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:S,transitionEnd:x,...A}=v;p={...p,...A,...x}}return p};function c(m){t=m(n)}function u(m){const{props:p}=n,g=Bw(n.parent)||{},v=[],b=new Set;let S={},x=1/0;for(let C=0;C<kA;C++){const D=jA[C],L=s[D],N=p[D]!==void 0?p[D]:g[D],K=Br(N),X=D===m?L.isActive:null;X===!1&&(x=C);let J=N===g[D]&&N!==p[D]&&K;if(J&&r&&n.manuallyAnimateOnMount&&(J=!1),L.protectedKeys={...S},!L.isActive&&X===null||!N&&!L.prevProp||Zl(N)||typeof N=="boolean")continue;const $=UA(L.prevProp,N);let B=$||D===m&&L.isActive&&!J&&K||C>x&&K,ee=!1;const Se=Array.isArray(N)?N:[N];let Oe=Se.reduce(l(D),{});X===!1&&(Oe={});const{prevResolvedValues:Ce={}}=L,Le={...Ce,...Oe},Ye=G=>{B=!0,b.has(G)&&(ee=!0,b.delete(G)),L.needsAnimating[G]=!0;const q=n.getValue(G);q&&(q.liveStyle=!1)};for(const G in Le){const q=Oe[G],ve=Ce[G];if(S.hasOwnProperty(G))continue;let we=!1;md(q)&&md(ve)?we=!Lw(q,ve):we=q!==ve,we?q!=null?Ye(G):b.add(G):q!==void 0&&b.has(G)?Ye(G):L.protectedKeys[G]=!0}L.prevProp=N,L.prevResolvedValues=Oe,L.isActive&&(S={...S,...Oe}),r&&n.blockInitialAnimation&&(B=!1);const De=J&&$;B&&(!De||ee)&&v.push(...Se.map(G=>{const q={type:D};if(typeof G=="string"&&r&&!De&&n.manuallyAnimateOnMount&&n.parent){const{parent:ve}=n,we=ga(ve,G);if(ve.enteringChildren&&we){const{delayChildren:O}=we.transition||{};q.delay=zw(ve.enteringChildren,n,O)}}return{animation:G,options:q}}))}if(b.size){const C={};if(typeof p.initial!="boolean"){const D=ga(n,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(C.transition=D.transition)}b.forEach(D=>{const L=n.getBaseTarget(D),N=n.getValue(D);N&&(N.liveStyle=!0),C[D]=L??null}),v.push({animation:C})}let A=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(v):Promise.resolve()}function f(m,p){var v;if(s[m].isActive===p)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(b=>{var S;return(S=b.animationState)==null?void 0:S.setActive(m,p)}),s[m].isActive=p;const g=u(m);for(const b in s)s[b].protectedKeys={};return g}return{animateChanges:u,setActive:f,setAnimateFunction:c,getState:()=>s,reset:()=>{s=m0()}}}function UA(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Lw(t,n):!1}function es(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function m0(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}class Mi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zA extends Mi{constructor(t){super(t),t.animationState||(t.animationState=MA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let LA=0;class BA extends Mi{constructor(){super(...arguments),this.id=LA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const IA={animation:{Feature:zA},exit:{Feature:BA}};function Ir(n,t,s,r={passive:!0}){return n.addEventListener(t,s,r),()=>n.removeEventListener(t,s)}function Qr(n){return{point:{x:n.pageX,y:n.pageY}}}const VA=n=>t=>sf(t)&&n(t,Qr(t));function Cr(n,t,s,r){return Ir(n,t,VA(s),r)}const Iw=1e-4,PA=1-Iw,HA=1+Iw,Vw=.01,qA=0-Vw,$A=0+Vw;function kt(n){return n.max-n.min}function GA(n,t,s){return Math.abs(n-t)<=s}function p0(n,t,s,r=.5){n.origin=r,n.originPoint=Qe(t.min,t.max,n.origin),n.scale=kt(s)/kt(t),n.translate=Qe(s.min,s.max,n.origin)-n.originPoint,(n.scale>=PA&&n.scale<=HA||isNaN(n.scale))&&(n.scale=1),(n.translate>=qA&&n.translate<=$A||isNaN(n.translate))&&(n.translate=0)}function Nr(n,t,s,r){p0(n.x,t.x,s.x,r?r.originX:void 0),p0(n.y,t.y,s.y,r?r.originY:void 0)}function g0(n,t,s){n.min=s.min+t.min,n.max=n.min+kt(t)}function KA(n,t,s){g0(n.x,t.x,s.x),g0(n.y,t.y,s.y)}function y0(n,t,s){n.min=t.min-s.min,n.max=n.min+kt(t)}function ql(n,t,s){y0(n.x,t.x,s.x),y0(n.y,t.y,s.y)}function hn(n){return[n("x"),n("y")]}const Pw=({current:n})=>n?n.ownerDocument.defaultView:null,v0=(n,t)=>Math.abs(n-t);function YA(n,t){const s=v0(n.x,t.x),r=v0(n.y,t.y);return Math.sqrt(s**2+r**2)}class Hw{constructor(t,s,{transformPagePoint:r,contextWindow:l=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Mh(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,x=YA(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!x)return;const{point:A}=b,{timestamp:C}=At;this.history.push({...A,timestamp:C});const{onStart:D,onMove:L}=this.handlers;S||(D&&D(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Dh(S,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:x,onSessionEnd:A,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Mh(b.type==="pointercancel"?this.lastMoveEventInfo:Dh(S,this.transformPagePoint),this.history);this.startEvent&&x&&x(b,D),A&&A(b,D)},!sf(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=l||window;const f=Qr(t),m=Dh(f,this.transformPagePoint),{point:p}=m,{timestamp:g}=At;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=s;v&&v(t,Mh(m,this.history)),this.removeListeners=Fr(Cr(this.contextWindow,"pointermove",this.handlePointerMove),Cr(this.contextWindow,"pointerup",this.handlePointerUp),Cr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function Dh(n,t){return t?{point:t(n.point)}:n}function b0(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Mh({point:n},t){return{point:n,delta:b0(n,qw(t)),offset:b0(n,FA(t)),velocity:XA(t,.1)}}function FA(n){return n[0]}function qw(n){return n[n.length-1]}function XA(n,t){if(n.length<2)return{x:0,y:0};let s=n.length-1,r=null;const l=qw(n);for(;s>=0&&(r=n[s],!(l.timestamp-r.timestamp>On(t)));)s--;if(!r)return{x:0,y:0};const c=dn(l.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(l.x-r.x)/c,y:(l.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function JA(n,{min:t,max:s},r){return t!==void 0&&n<t?n=r?Qe(t,n,r.min):Math.max(n,t):s!==void 0&&n>s&&(n=r?Qe(s,n,r.max):Math.min(n,s)),n}function w0(n,t,s){return{min:t!==void 0?n.min+t:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function QA(n,{top:t,left:s,bottom:r,right:l}){return{x:w0(n.x,s,l),y:w0(n.y,t,r)}}function _0(n,t){let s=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([s,r]=[r,s]),{min:s,max:r}}function ZA(n,t){return{x:_0(n.x,t.x),y:_0(n.y,t.y)}}function WA(n,t){let s=.5;const r=kt(n),l=kt(t);return l>r?s=Ur(t.min,t.max-r,n.min):r>l&&(s=Ur(n.min,n.max-l,t.min)),Xn(0,1,s)}function eO(n,t){const s={};return t.min!==void 0&&(s.min=t.min-n.min),t.max!==void 0&&(s.max=t.max-n.min),s}const yd=.35;function tO(n=yd){return n===!1?n=0:n===!0&&(n=yd),{x:S0(n,"left","right"),y:S0(n,"top","bottom")}}function S0(n,t,s){return{min:x0(n,t),max:x0(n,s)}}function x0(n,t){return typeof n=="number"?n:n[t]||0}const nO=new WeakMap;class iO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const c=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Qr(v).point)},u=(v,b)=>{const{drag:S,dragPropagation:x,onDragStart:A}=this.getProps();if(S&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c1(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(D=>{let L=this.getAxisMotionValue(D).get()||0;if(Rn.test(L)){const{projection:N}=this.visualElement;if(N&&N.layout){const K=N.layout.layoutBox[D];K&&(L=kt(K)*(parseFloat(L)/100))}}this.originPoint[D]=L}),A&&Xe.postRender(()=>A(v,b)),pd(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:x,onDirectionLock:A,onDrag:C}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:D}=b;if(x&&this.currentDirection===null){this.currentDirection=sO(D),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,D),this.updateAxis("y",b.point,D),this.visualElement.render(),C&&C(v,b)},m=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>hn(v=>{var b;return this.getAnimationState(v)==="paused"&&((b=this.getAxisMotionValue(v).animation)==null?void 0:b.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Hw(t,{onSessionStart:c,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:Pw(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,l=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!l||!r)return;const{velocity:u}=l;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Xe.postRender(()=>f(r,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:l}=this.getProps();if(!r||!Sl(t,l,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=JA(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,l=this.constraints;t&&ha(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=QA(r.layoutBox,t):this.constraints=!1,this.elastic=tO(s),l!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=eO(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ha(t))return!1;const r=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const c=aA(r,l.root,this.visualElement.getTransformPagePoint());let u=ZA(l.layout.layoutBox,c);if(s){const f=s(nA(u));this.hasMutatedConstraints=!!f,f&&(u=Aw(f))}return u}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:l,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=hn(g=>{if(!Sl(g,s,this.currentDirection))return;let v=m&&m[g]||{};u&&(v={min:0,max:0});const b=l?200:1e6,S=l?40:1e7,x={type:"inertia",velocity:r?t[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...v};return this.startAxisValueAnimation(g,x)});return Promise.all(p).then(f)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return pd(this.visualElement,t),r.start(mf(t,r,0,s,this.visualElement,!1))}stopAnimation(){hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){hn(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),l=r[s];return l||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){hn(s=>{const{drag:r}=this.getProps();if(!Sl(s,r,this.currentDirection))return;const{projection:l}=this.visualElement,c=this.getAxisMotionValue(s);if(l&&l.layout){const{min:u,max:f}=l.layout.layoutBox[s];c.set(t[s]-Qe(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!ha(s)||!r||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};hn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();l[u]=WA({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hn(u=>{if(!Sl(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(Qe(m,p,l[u]))})}addListeners(){if(!this.visualElement.current)return;nO.set(this.visualElement,this);const t=this.visualElement.current,s=Cr(t,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();ha(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,c=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Xe.read(r);const u=Ir(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(hn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=m[g].translate,v.set(v.get()+m[g].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:l=!1,dragConstraints:c=!1,dragElastic:u=yd,dragMomentum:f=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:l,dragConstraints:c,dragElastic:u,dragMomentum:f}}}function Sl(n,t,s){return(t===!0||t===n)&&(s===null||s===n)}function sO(n,t=10){let s=null;return Math.abs(n.y)>t?s="y":Math.abs(n.x)>t&&(s="x"),s}class aO extends Mi{constructor(t){super(t),this.removeGroupControls=fn,this.removeListeners=fn,this.controls=new iO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const E0=n=>(t,s)=>{n&&Xe.postRender(()=>n(t,s))};class rO extends Mi{constructor(){super(...arguments),this.removePointerDownListener=fn}onPointerDown(t){this.session=new Hw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Pw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:l}=this.node.getProps();return{onSessionStart:E0(t),onStart:E0(s),onMove:r,onEnd:(c,u)=>{delete this.session,l&&Xe.postRender(()=>l(c,u))}}}mount(){this.removePointerDownListener=Cr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ml={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Uh=!1;class oO extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:l}=this.props,{projection:c}=t;c&&(s.group&&s.group.add(c),r&&r.register&&l&&r.register(c),Uh&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Ml.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:l,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,Uh=!0,l||t.layoutDependency!==s||s===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||Xe.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),nf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:l}=t;Uh=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),r&&r.deregister&&r.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $w(n){const[t,s]=dw(),r=F.useContext(Ud);return w.jsx(oO,{...n,layoutGroup:r,switchLayoutGroup:F.useContext(Ew),isPresent:t,safeToRemove:s})}function lO(n,t,s){const r=Nt(n)?n:wa(n);return r.start(mf("",r,t,s)),r.animation}const cO=(n,t)=>n.depth-t.depth;class uO{constructor(){this.children=[],this.isDirty=!1}add(t){Bd(this.children,t),this.isDirty=!0}remove(t){Id(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cO),this.isDirty=!1,this.children.forEach(t)}}function hO(n,t){const s=Vt.now(),r=({timestamp:l})=>{const c=l-s;c>=t&&(ki(r),n(c-t))};return Xe.setup(r,!0),()=>ki(r)}const Gw=["TopLeft","TopRight","BottomLeft","BottomRight"],dO=Gw.length,T0=n=>typeof n=="string"?parseFloat(n):n,A0=n=>typeof n=="number"||de.test(n);function fO(n,t,s,r,l,c){l?(n.opacity=Qe(0,s.opacity??1,mO(r)),n.opacityExit=Qe(t.opacity??1,0,pO(r))):c&&(n.opacity=Qe(t.opacity??1,s.opacity??1,r));for(let u=0;u<dO;u++){const f=`border${Gw[u]}Radius`;let m=O0(t,f),p=O0(s,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||A0(m)===A0(p)?(n[f]=Math.max(Qe(T0(m),T0(p),r),0),(Rn.test(p)||Rn.test(m))&&(n[f]+="%")):n[f]=p}(t.rotate||s.rotate)&&(n.rotate=Qe(t.rotate||0,s.rotate||0,r))}function O0(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const mO=Kw(0,.5,jb),pO=Kw(.5,.95,fn);function Kw(n,t,s){return r=>r<n?0:r>t?1:s(Ur(n,t,r))}function R0(n,t){n.min=t.min,n.max=t.max}function vn(n,t){R0(n.x,t.x),R0(n.y,t.y)}function C0(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function N0(n,t,s,r,l){return n-=t,n=Hl(n,1/s,r),l!==void 0&&(n=Hl(n,1/l,r)),n}function gO(n,t=0,s=1,r=.5,l,c=n,u=n){if(Rn.test(t)&&(t=parseFloat(t),t=Qe(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=Qe(c.min,c.max,r);n===c&&(f-=t),n.min=N0(n.min,t,s,f,l),n.max=N0(n.max,t,s,f,l)}function j0(n,t,[s,r,l],c,u){gO(n,t[s],t[r],t[l],t.scale,c,u)}const yO=["x","scaleX","originX"],vO=["y","scaleY","originY"];function k0(n,t,s,r){j0(n.x,t,yO,s?s.x:void 0,r?r.x:void 0),j0(n.y,t,vO,s?s.y:void 0,r?r.y:void 0)}function D0(n){return n.translate===0&&n.scale===1}function Yw(n){return D0(n.x)&&D0(n.y)}function M0(n,t){return n.min===t.min&&n.max===t.max}function bO(n,t){return M0(n.x,t.x)&&M0(n.y,t.y)}function U0(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function Fw(n,t){return U0(n.x,t.x)&&U0(n.y,t.y)}function z0(n){return kt(n.x)/kt(n.y)}function L0(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class wO{constructor(){this.members=[]}add(t){Bd(this.members,t),t.scheduleRender()}remove(t){if(Id(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let r;for(let l=s;l>=0;l--){const c=this.members[l];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _O(n,t,s){let r="";const l=n.x.translate/t.x,c=n.y.translate/t.y,u=(s==null?void 0:s.z)||0;if((l||c||u)&&(r=`translate3d(${l}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:b,skewX:S,skewY:x}=s;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),S&&(r+=`skewX(${S}deg) `),x&&(r+=`skewY(${x}deg) `)}const f=n.x.scale*t.x,m=n.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const zh=["","X","Y","Z"],SO=1e3;let xO=0;function Lh(n,t,s,r){const{latestValues:l}=t;l[n]&&(s[n]=l[n],t.setStaticValue(n,0),r&&(r[n]=0))}function Xw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const s=Mw(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",Xe,!(l||c))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Xw(r)}function Jw({attachResizeListener:n,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:l}){return class{constructor(u={},f=t==null?void 0:t()){this.id=xO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AO),this.nodes.forEach(NO),this.nodes.forEach(jO),this.nodes.forEach(OO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new uO)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Hd),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=hw(u)&&!p1(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;Xe.read(()=>{v=window.innerWidth}),n(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=hO(b,250),Ml.hasAnimatedSinceResize&&(Ml.hasAnimatedSinceResize=!1,this.nodes.forEach(V0)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||p.getDefaultTransition()||zO,{onLayoutAnimationStart:A,onLayoutAnimationComplete:C}=p.getProps(),D=!this.targetLayout||!Fw(this.targetLayout,S),L=!v&&b;if(this.options.layoutRoot||this.resumeFrom||L||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...ef(x,"layout"),onPlay:A,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(g,L)}else v||V0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Xw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(B0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(I0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CO),this.nodes.forEach(EO),this.nodes.forEach(TO)):this.nodes.forEach(I0),this.clearAllSnapshots();const f=Vt.now();At.delta=Xn(0,1e3/60,f-At.timestamp),At.timestamp=f,At.isProcessing=!0,Th.update.process(At),Th.preRender.process(At),Th.render.process(At),At.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RO),this.sharedNodes.forEach(DO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kt(this.snapshot.measuredBox.x)&&!kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Yw(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||as(this.latestValues)||g)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),LO(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return pt();const f=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(BO))){const{scroll:g}=this.root;g&&(da(f.x,g.offset.x),da(f.y,g.offset.y))}return f}removeElementScroll(u){var m;const f=pt();if(vn(f,u),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&vn(f,u),da(f.x,v.offset.x),da(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const m=pt();vn(m,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&fa(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),as(g.latestValues)&&fa(m,g.latestValues)}return as(this.latestValues)&&fa(m,this.latestValues),m}removeTransform(u){const f=pt();vn(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!as(p.latestValues))continue;hd(p.latestValues)&&p.updateSnapshot();const g=pt(),v=p.measurePageBox();vn(g,v),k0(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return as(this.latestValues)&&k0(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==At.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var S;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=At.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),Rw(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||hd(this.parent.latestValues)||Ow(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),ql(this.relativeTargetOrigin,f,m),vn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===At.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;vn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;sA(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=pt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(C0(this.prevProjectionDelta.x,this.projectionDelta.x),C0(this.prevProjectionDelta.y,this.projectionDelta.y)),Nr(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!L0(this.projectionDelta.x,this.prevProjectionDelta.x)||!L0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ma(),this.projectionDelta=ma(),this.projectionDeltaWithTransform=ma()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},v=ma();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=pt(),S=m?m.source:void 0,x=this.layout?this.layout.source:void 0,A=S!==x,C=this.getStack(),D=!C||C.members.length<=1,L=!!(A&&!D&&this.options.crossfade===!0&&!this.path.some(UO));this.animationProgress=0;let N;this.mixTargetDelta=K=>{const X=K/1e3;P0(v.x,u.x,X),P0(v.y,u.y,X),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ql(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MO(this.relativeTarget,this.relativeTargetOrigin,b,X),N&&bO(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=pt()),vn(N,this.relativeTarget)),A&&(this.animationValues=g,fO(g,p,this.latestValues,X,L,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{Ml.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wa(0)),this.currentAnimation=lO(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:g}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&Qw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||pt();const v=kt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const b=kt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}vn(f,m),fa(f,g),Nr(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new wO),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Lh("z",u,p,this.animationValues);for(let g=0;g<zh.length;g++)Lh(`rotate${zh[g]}`,u,p,this.animationValues),Lh(`skew${zh[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Dl(f==null?void 0:f.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Dl(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!as(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=_O(this.projectionDeltaWithTransform,this.treeScale,g);m&&(v=m(g,v)),u.transform=v;const{x:b,y:S}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in ud){if(g[x]===void 0)continue;const{correct:A,applyTo:C,isCSSVariable:D}=ud[x],L=v==="none"?g[x]:A(g[x],p);if(C){const N=C.length;for(let K=0;K<N;K++)u[C[K]]=L}else D?this.options.visualElement.renderState.vars[x]=L:u[x]=L}this.options.layoutId&&(u.pointerEvents=p===this?Dl(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(B0),this.root.sharedNodes.clear()}}}function EO(n){n.updateLayout()}function TO(n){var s;const t=((s=n.resumeFrom)==null?void 0:s.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:l}=n.layout,{animationType:c}=n.options,u=t.source!==n.layout.source;c==="size"?hn(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=kt(b);b.min=r[v].min,b.max=b.min+S}):Qw(c,t.layoutBox,r)&&hn(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=kt(r[v]);b.max=b.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const f=ma();Nr(f,r,t.layoutBox);const m=ma();u?Nr(m,n.applyTransform(l,!0),t.measuredBox):Nr(m,r,t.layoutBox);const p=!Yw(f);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:S}=v;if(b&&S){const x=pt();ql(x,t.layoutBox,b.layoutBox);const A=pt();ql(A,r,S.layoutBox),Fw(x,A)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=x,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function AO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function OO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function RO(n){n.clearSnapshot()}function B0(n){n.clearMeasurements()}function I0(n){n.isLayoutDirty=!1}function CO(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function V0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function NO(n){n.resolveTargetDelta()}function jO(n){n.calcProjection()}function kO(n){n.resetSkewAndRotation()}function DO(n){n.removeLeadSnapshot()}function P0(n,t,s){n.translate=Qe(t.translate,0,s),n.scale=Qe(t.scale,1,s),n.origin=t.origin,n.originPoint=t.originPoint}function H0(n,t,s,r){n.min=Qe(t.min,s.min,r),n.max=Qe(t.max,s.max,r)}function MO(n,t,s,r){H0(n.x,t.x,s.x,r),H0(n.y,t.y,s.y,r)}function UO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const zO={duration:.45,ease:[.4,0,.1,1]},q0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),$0=q0("applewebkit/")&&!q0("chrome/")?Math.round:fn;function G0(n){n.min=$0(n.min),n.max=$0(n.max)}function LO(n){G0(n.x),G0(n.y)}function Qw(n,t,s){return n==="position"||n==="preserve-aspect"&&!GA(z0(t),z0(s),.2)}function BO(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const IO=Jw({attachResizeListener:(n,t)=>Ir(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bh={current:void 0},Zw=Jw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Bh.current){const n=new IO({});n.mount(window),n.setOptions({layoutScroll:!0}),Bh.current=n}return Bh.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),VO={pan:{Feature:rO},drag:{Feature:aO,ProjectionNode:Zw,MeasureLayout:$w}};function K0(n,t,s){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,c=r[l];c&&Xe.postRender(()=>c(t,Qr(t)))}class PO extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=u1(t,(s,r)=>(K0(this.node,r,"Start"),l=>K0(this.node,l,"End"))))}unmount(){}}class HO extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fr(Ir(this.node.current,"focus",()=>this.onFocus()),Ir(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Y0(n,t,s){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),c=r[l];c&&Xe.postRender(()=>c(t,Qr(t)))}class qO extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=m1(t,(s,r)=>(Y0(this.node,r,"Start"),(l,{success:c})=>Y0(this.node,l,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vd=new WeakMap,Ih=new WeakMap,$O=n=>{const t=vd.get(n.target);t&&t(n)},GO=n=>{n.forEach($O)};function KO({root:n,...t}){const s=n||document;Ih.has(s)||Ih.set(s,{});const r=Ih.get(s),l=JSON.stringify(t);return r[l]||(r[l]=new IntersectionObserver(GO,{root:n,...t})),r[l]}function YO(n,t,s){const r=KO(t);return vd.set(n,s),r.observe(n),()=>{vd.delete(n),r.unobserve(n)}}const FO={some:0,all:1};class XO extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:l="some",once:c}=t,u={root:s?s.current:void 0,rootMargin:r,threshold:typeof l=="number"?l:FO[l]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=p?g:v;b&&b(m)};return YO(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(JO(t,s))&&this.startObserver()}unmount(){}}function JO({viewport:n={}},{viewport:t={}}={}){return s=>n[s]!==t[s]}const QO={inView:{Feature:XO},tap:{Feature:qO},focus:{Feature:HO},hover:{Feature:PO}},ZO={layout:{ProjectionNode:Zw,MeasureLayout:$w}},WO={...IA,...QO,...VO,...ZO},st=tA(WO,mA);var F0;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(F0||(F0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X0;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(X0||(X0={}));var J0;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(J0||(J0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=["user","model","function","system"];var Z0;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Z0||(Z0={}));var W0;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(W0||(W0={}));var ev;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ev||(ev={}));var tv;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(tv||(tv={}));var jr;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(jr||(jr={}));var nv;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(nv||(nv={}));var iv;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(iv||(iv={}));var sv;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(sv||(sv={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Ws extends Ct{constructor(t,s){super(t),this.response=s}}class Ww extends Ct{constructor(t,s,r,l){super(t),this.status=s,this.statusText=r,this.errorDetails=l}}class ji extends Ct{}class e_ extends Ct{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="https://generativelanguage.googleapis.com",tR="v1beta",nR="0.24.1",iR="genai-js";var ms;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ms||(ms={}));class sR{constructor(t,s,r,l,c){this.model=t,this.task=s,this.apiKey=r,this.stream=l,this.requestOptions=c}toString(){var t,s;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||tR;let c=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||eR}/${r}/${this.model}:${this.task}`;return this.stream&&(c+="?alt=sse"),c}}function aR(n){const t=[];return n!=null&&n.apiClient&&t.push(n.apiClient),t.push(`${iR}/${nR}`),t.join(" ")}async function rR(n){var t;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",aR(n.requestOptions)),s.append("x-goog-api-key",n.apiKey);let r=(t=n.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(l){throw new ji(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${l.message}`)}for(const[l,c]of r.entries()){if(l==="x-goog-api-key")throw new ji(`Cannot set reserved header name ${l}`);if(l==="x-goog-api-client")throw new ji(`Header name ${l} can only be set using the apiClient field`);s.append(l,c)}}return s}async function oR(n,t,s,r,l,c){const u=new sR(n,t,s,r,c);return{url:u.toString(),fetchOptions:Object.assign(Object.assign({},hR(c)),{method:"POST",headers:await rR(u),body:l})}}async function Zr(n,t,s,r,l,c={},u=fetch){const{url:f,fetchOptions:m}=await oR(n,t,s,r,l,c);return lR(f,m,u)}async function lR(n,t,s=fetch){let r;try{r=await s(n,t)}catch(l){cR(l,n)}return r.ok||await uR(r,n),r}function cR(n,t){let s=n;throw s.name==="AbortError"?(s=new e_(`Request aborted when fetching ${t.toString()}: ${n.message}`),s.stack=n.stack):n instanceof Ww||n instanceof ji||(s=new Ct(`Error fetching from ${t.toString()}: ${n.message}`),s.stack=n.stack),s}async function uR(n,t){let s="",r;try{const l=await n.json();s=l.error.message,l.error.details&&(s+=` ${JSON.stringify(l.error.details)}`,r=l.error.details)}catch{}throw new Ww(`Error fetching from ${t.toString()}: [${n.status} ${n.statusText}] ${s}`,n.status,n.statusText,r)}function hR(n){const t={};if((n==null?void 0:n.signal)!==void 0||(n==null?void 0:n.timeout)>=0){const s=new AbortController;(n==null?void 0:n.timeout)>=0&&setTimeout(()=>s.abort(),n.timeout),n!=null&&n.signal&&n.signal.addEventListener("abort",()=>{s.abort()}),t.signal=s.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ul(n.candidates[0]))throw new Ws(`${Ai(n)}`,n);return dR(n)}else if(n.promptFeedback)throw new Ws(`Text not available. ${Ai(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ul(n.candidates[0]))throw new Ws(`${Ai(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),av(n)[0]}else if(n.promptFeedback)throw new Ws(`Function call not available. ${Ai(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ul(n.candidates[0]))throw new Ws(`${Ai(n)}`,n);return av(n)}else if(n.promptFeedback)throw new Ws(`Function call not available. ${Ai(n)}`,n)},n}function dR(n){var t,s,r,l;const c=[];if(!((s=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const u of(l=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||l===void 0?void 0:l.parts)u.text&&c.push(u.text),u.executableCode&&c.push("\n```"+u.executableCode.language+`
`+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&c.push("\n```\n"+u.codeExecutionResult.output+"\n```\n");return c.length>0?c.join(""):""}function av(n){var t,s,r,l;const c=[];if(!((s=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const u of(l=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||l===void 0?void 0:l.parts)u.functionCall&&c.push(u.functionCall);if(c.length>0)return c}const fR=[jr.RECITATION,jr.SAFETY,jr.LANGUAGE];function Ul(n){return!!n.finishReason&&fR.includes(n.finishReason)}function Ai(n){var t,s,r;let l="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)l+="Response was blocked",!((t=n.promptFeedback)===null||t===void 0)&&t.blockReason&&(l+=` due to ${n.promptFeedback.blockReason}`),!((s=n.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(l+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((r=n.candidates)===null||r===void 0)&&r[0]){const c=n.candidates[0];Ul(c)&&(l+=`Candidate was blocked due to ${c.finishReason}`,c.finishMessage&&(l+=`: ${c.finishMessage}`))}return l}function Vr(n){return this instanceof Vr?(this.v=n,this):new Vr(n)}function mR(n,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(n,t||[]),l,c=[];return l={},u("next"),u("throw"),u("return"),l[Symbol.asyncIterator]=function(){return this},l;function u(b){r[b]&&(l[b]=function(S){return new Promise(function(x,A){c.push([b,S,x,A])>1||f(b,S)})})}function f(b,S){try{m(r[b](S))}catch(x){v(c[0][3],x)}}function m(b){b.value instanceof Vr?Promise.resolve(b.value.v).then(p,g):v(c[0][2],b)}function p(b){f("next",b)}function g(b){f("throw",b)}function v(b,S){b(S),c.shift(),c.length&&f(c[0][0],c[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function pR(n){const t=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=vR(t),[r,l]=s.tee();return{stream:yR(r),response:gR(l)}}async function gR(n){const t=[],s=n.getReader();for(;;){const{done:r,value:l}=await s.read();if(r)return pf(bR(t));t.push(l)}}function yR(n){return mR(this,arguments,function*(){const s=n.getReader();for(;;){const{value:r,done:l}=yield Vr(s.read());if(l)break;yield yield Vr(pf(r))}})}function vR(n){const t=n.getReader();return new ReadableStream({start(r){let l="";return c();function c(){return t.read().then(({value:u,done:f})=>{if(f){if(l.trim()){r.error(new Ct("Failed to parse stream"));return}r.close();return}l+=u;let m=l.match(rv),p;for(;m;){try{p=JSON.parse(m[1])}catch{r.error(new Ct(`Error parsing JSON response: "${m[1]}"`));return}r.enqueue(p),l=l.substring(m[0].length),m=l.match(rv)}return c()}).catch(u=>{let f=u;throw f.stack=u.stack,f.name==="AbortError"?f=new e_("Request aborted when reading from the stream"):f=new Ct("Error reading from the stream"),f})}}})}function bR(n){const t=n[n.length-1],s={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of n){if(r.candidates){let l=0;for(const c of r.candidates)if(s.candidates||(s.candidates=[]),s.candidates[l]||(s.candidates[l]={index:l}),s.candidates[l].citationMetadata=c.citationMetadata,s.candidates[l].groundingMetadata=c.groundingMetadata,s.candidates[l].finishReason=c.finishReason,s.candidates[l].finishMessage=c.finishMessage,s.candidates[l].safetyRatings=c.safetyRatings,c.content&&c.content.parts){s.candidates[l].content||(s.candidates[l].content={role:c.content.role||"user",parts:[]});const u={};for(const f of c.content.parts)f.text&&(u.text=f.text),f.functionCall&&(u.functionCall=f.functionCall),f.executableCode&&(u.executableCode=f.executableCode),f.codeExecutionResult&&(u.codeExecutionResult=f.codeExecutionResult),Object.keys(u).length===0&&(u.text=""),s.candidates[l].content.parts.push(u)}l++}r.usageMetadata&&(s.usageMetadata=r.usageMetadata)}return s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t_(n,t,s,r){const l=await Zr(t,ms.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(s),r);return pR(l)}async function n_(n,t,s,r){const c=await(await Zr(t,ms.GENERATE_CONTENT,n,!1,JSON.stringify(s),r)).json();return{response:pf(c)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function Pr(n){let t=[];if(typeof n=="string")t=[{text:n}];else for(const s of n)typeof s=="string"?t.push({text:s}):t.push(s);return wR(t)}function wR(n){const t={role:"user",parts:[]},s={role:"function",parts:[]};let r=!1,l=!1;for(const c of n)"functionResponse"in c?(s.parts.push(c),l=!0):(t.parts.push(c),r=!0);if(r&&l)throw new Ct("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!l)throw new Ct("No content is provided for sending chat message.");return r?t:s}function _R(n,t){var s;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(s=t==null?void 0:t.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const l=n.generateContentRequest!=null;if(n.contents){if(l)throw new ji("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=n.contents}else if(l)r=Object.assign(Object.assign({},r),n.generateContentRequest);else{const c=Pr(n);r.contents=[c]}return{generateContentRequest:r}}function ov(n){let t;return n.contents?t=n:t={contents:[Pr(n)]},n.systemInstruction&&(t.systemInstruction=i_(n.systemInstruction)),t}function SR(n){return typeof n=="string"||Array.isArray(n)?{content:Pr(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],xR={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function ER(n){let t=!1;for(const s of n){const{role:r,parts:l}=s;if(!t&&r!=="user")throw new Ct(`First content should be with role 'user', got ${r}`);if(!Q0.includes(r))throw new Ct(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Q0)}`);if(!Array.isArray(l))throw new Ct("Content should have 'parts' property with an array of Parts");if(l.length===0)throw new Ct("Each Content should have at least one part");const c={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const f of l)for(const m of lv)m in f&&(c[m]+=1);const u=xR[r];for(const f of lv)if(!u.includes(f)&&c[f]>0)throw new Ct(`Content with role '${r}' can't contain '${f}' part`);t=!0}}function cv(n){var t;if(n.candidates===void 0||n.candidates.length===0)return!1;const s=(t=n.candidates[0])===null||t===void 0?void 0:t.content;if(s===void 0||s.parts===void 0||s.parts.length===0)return!1;for(const r of s.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="SILENT_ERROR";class TR{constructor(t,s,r,l={}){this.model=s,this.params=r,this._requestOptions=l,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(ER(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,s={}){var r,l,c,u,f,m;await this._sendPromise;const p=Pr(t),g={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),s);let b;return this._sendPromise=this._sendPromise.then(()=>n_(this._apiKey,this.model,g,v)).then(S=>{var x;if(cv(S.response)){this._history.push(p);const A=Object.assign({parts:[],role:"model"},(x=S.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(A)}else{const A=Ai(S.response);A&&console.warn(`sendMessage() was unsuccessful. ${A}. Inspect response object for details.`)}b=S}).catch(S=>{throw this._sendPromise=Promise.resolve(),S}),await this._sendPromise,b}async sendMessageStream(t,s={}){var r,l,c,u,f,m;await this._sendPromise;const p=Pr(t),g={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),s),b=t_(this._apiKey,this.model,g,v);return this._sendPromise=this._sendPromise.then(()=>b).catch(S=>{throw new Error(uv)}).then(S=>S.response).then(S=>{if(cv(S)){this._history.push(p);const x=Object.assign({},S.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Ai(S);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(S=>{S.message!==uv&&console.error(S)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,t,s,r){return(await Zr(t,ms.COUNT_TOKENS,n,!1,JSON.stringify(s),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(n,t,s,r){return(await Zr(t,ms.EMBED_CONTENT,n,!1,JSON.stringify(s),r)).json()}async function RR(n,t,s,r){const l=s.requests.map(u=>Object.assign(Object.assign({},u),{model:t}));return(await Zr(t,ms.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:l}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(t,s,r={}){this.apiKey=t,this._requestOptions=r,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=i_(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(t,s={}){var r;const l=ov(t),c=Object.assign(Object.assign({},this._requestOptions),s);return n_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},l),c)}async generateContentStream(t,s={}){var r;const l=ov(t),c=Object.assign(Object.assign({},this._requestOptions),s);return t_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},l),c)}startChat(t){var s;return new TR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},t),this._requestOptions)}async countTokens(t,s={}){const r=_R(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),l=Object.assign(Object.assign({},this._requestOptions),s);return AR(this.apiKey,this.model,r,l)}async embedContent(t,s={}){const r=SR(t),l=Object.assign(Object.assign({},this._requestOptions),s);return OR(this.apiKey,this.model,r,l)}async batchEmbedContents(t,s={}){const r=Object.assign(Object.assign({},this._requestOptions),s);return RR(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.apiKey=t}getGenerativeModel(t,s){if(!t.model)throw new Ct("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new hv(this.apiKey,t,s)}getGenerativeModelFromCachedContent(t,s,r){if(!t.name)throw new ji("Cached content must contain a `name` field.");if(!t.model)throw new ji("Cached content must contain a `model` field.");const l=["model","systemInstruction"];for(const u of l)if(s!=null&&s[u]&&t[u]&&(s==null?void 0:s[u])!==t[u]){if(u==="model"){const f=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,m=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(f===m)continue}throw new ji(`Different value for "${u}" specified in modelParams (${s[u]}) and cachedContent (${t[u]})`)}const c=Object.assign(Object.assign({},s),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new hv(this.apiKey,c,r)}}const NR=()=>"AIzaSyAtUrBmTdfo-ZCFyDSvq5xz2rKRJk64Ng0".trim().replace(/^["']|["']$/g,"").replace(/\s/g,"");let xl=null;const s_=()=>{if(xl)return xl;const n=NR();return!n||n.length<10?(console.warn("SplitSmart AI: Missing or invalid API Key."),null):(xl=new CR(n),xl)},jR=async n=>{const t=s_();if(!t)throw new Error("AI not initialized. Check your API Key.");const s=t.getGenerativeModel({model:"gemini-2.5-flash"});try{console.log("SplitSmart AI: Processing receipt with gemini-2.5-flash...");let u=(await(await s.generateContent([{inlineData:{mimeType:"image/jpeg",data:n}},{text:`Extract all items, quantities, and prices from this receipt. Return ONLY strict JSON in this format: 
    { 
      "items": [{ "id": "string", "name": "string", "price": number, "quantity": number }], 
      "tax": number, 
      "tip": number, 
      "total": number, 
      "currency": "string" 
    }
    No markdown blocks, no extra text. Ensure all IDs are unique strings.`}])).response).text().trim();u=u.replace(/```json|```/g,"").trim(),console.log("SplitSmart AI: Response received, parsing JSON...");const f=JSON.parse(u);return f.items&&(f.items=f.items.map((m,p)=>({...m,id:m.id||`item-${p}`}))),f}catch(r){throw console.error("SplitSmart AI: Gemini Error",r),r.status===404?new Error("Model not found (404). Tried gemini-2.5-flash. Please verify that your API key project has access to this model in Google AI Studio."):r}},kR=async(n,t,s)=>{const r=s_();if(!r)throw new Error("AI not initialized.");const l=r.getGenerativeModel({model:"gemini-2.5-flash"});try{const c=`
      Context: Split bill.
      Items: ${JSON.stringify(t)}
      Assignments: ${JSON.stringify(s)}
      Command: ${n}
      
      Return JSON: [{"personName": "string", "addItemIds": ["string"], "removeItemIds": ["string"]}]
    `;let m=(await(await l.generateContent(c)).response).text().trim();return m=m.replace(/```json|```/g,"").trim(),JSON.parse(m)}catch(c){throw console.error("SplitSmart AI: Chat error",c),c}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,r)=>r?r.toUpperCase():s.toLowerCase()),dv=n=>{const t=MR(n);return t.charAt(0).toUpperCase()+t.slice(1)},a_=(...n)=>n.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim(),UR=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=F.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:u,...f},m)=>F.createElement("svg",{ref:m,...zR,width:t,height:t,stroke:n,strokeWidth:r?Number(s)*24/Number(t):s,className:a_("lucide",l),...!c&&!UR(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,g])=>F.createElement(p,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(n,t)=>{const s=F.forwardRef(({className:r,...l},c)=>F.createElement(LR,{ref:c,iconNode:t,className:a_(`lucide-${DR(dv(n))}`,`lucide-${n}`,r),...l}));return s.displayName=dv(n),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],IR=Ke("bot",BR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fv=Ke("calendar",VR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],HR=Ke("chart-column",PR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],$R=Ke("chart-pie",qR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gf=Ke("chevron-right",GR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YR=Ke("circle-check",KR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],bd=Ke("history",FR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],JR=Ke("info",XR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ZR=Ke("loader-circle",QR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zl=Ke("lock",WR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],tC=Ke("message-square",eC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iC=Ke("pen-line",nC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],r_=Ke("plus",sC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],$l=Ke("receipt",aC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],oC=Ke("save",rC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],cC=Ke("scan",lC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hC=Ke("send",uC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fC=Ke("settings",dC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],pC=Ke("share-2",mC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ll=Ke("sparkles",gC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],vC=Ke("trending-up",yC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],o_=Ke("user",bC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_C=Ke("users",wC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tr=Ke("x",SC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mv=Ke("zap",xC),EC="modulepreload",TC=function(n){return"/"+n},pv={},yf=function(t,s,r){let l=Promise.resolve();if(s&&s.length>0){let u=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=u(s.map(p=>{if(p=TC(p),p in pv)return;pv[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":EC,g||(b.as="script"),b.crossOrigin="",b.href=p,m&&b.setAttribute("nonce",m),document.head.appendChild(b),g)return new Promise((S,x)=>{b.addEventListener("load",S),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return l.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return t().catch(c)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Sa;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Sa||(Sa={}));class ya extends Error{constructor(t,s,r){super(t),this.message=t,this.code=s,this.data=r}}const AC=n=>{var t,s;return n!=null&&n.androidBridge?"android":!((s=(t=n==null?void 0:n.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},OC=n=>{const t=n.CapacitorCustomPlatform||null,s=n.Capacitor||{},r=s.Plugins=s.Plugins||{},l=()=>t!==null?t.name:AC(n),c=()=>l()!=="web",u=v=>{const b=p.get(v);return!!(b!=null&&b.platforms.has(l())||f(v))},f=v=>{var b;return(b=s.PluginHeaders)===null||b===void 0?void 0:b.find(S=>S.name===v)},m=v=>n.console.error(v),p=new Map,g=(v,b={})=>{const S=p.get(v);if(S)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),S.proxy;const x=l(),A=f(v);let C;const D=async()=>(!C&&x in b?C=typeof b[x]=="function"?C=await b[x]():C=b[x]:t!==null&&!C&&"web"in b&&(C=typeof b.web=="function"?C=await b.web():C=b.web),C),L=(B,ee)=>{var Se,Oe;if(A){const Ce=A==null?void 0:A.methods.find(Le=>ee===Le.name);if(Ce)return Ce.rtype==="promise"?Le=>s.nativePromise(v,ee.toString(),Le):(Le,Ye)=>s.nativeCallback(v,ee.toString(),Le,Ye);if(B)return(Se=B[ee])===null||Se===void 0?void 0:Se.bind(B)}else{if(B)return(Oe=B[ee])===null||Oe===void 0?void 0:Oe.bind(B);throw new ya(`"${v}" plugin is not implemented on ${x}`,Sa.Unimplemented)}},N=B=>{let ee;const Se=(...Oe)=>{const Ce=D().then(Le=>{const Ye=L(Le,B);if(Ye){const De=Ye(...Oe);return ee=De==null?void 0:De.remove,De}else throw new ya(`"${v}.${B}()" is not implemented on ${x}`,Sa.Unimplemented)});return B==="addListener"&&(Ce.remove=async()=>ee()),Ce};return Se.toString=()=>`${B.toString()}() { [capacitor code] }`,Object.defineProperty(Se,"name",{value:B,writable:!1,configurable:!1}),Se},K=N("addListener"),X=N("removeListener"),J=(B,ee)=>{const Se=K({eventName:B},ee),Oe=async()=>{const Le=await Se;X({eventName:B,callbackId:Le},ee)},Ce=new Promise(Le=>Se.then(()=>Le({remove:Oe})));return Ce.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Oe()},Ce},$=new Proxy({},{get(B,ee){switch(ee){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?J:K;case"removeListener":return X;default:return N(ee)}}});return r[v]=$,p.set(v,{name:v,proxy:$,platforms:new Set([...Object.keys(b),...A?[x]:[]])}),$};return s.convertFileSrc||(s.convertFileSrc=v=>v),s.getPlatform=l,s.handleError=m,s.isNativePlatform=c,s.isPluginAvailable=u,s.registerPlugin=g,s.Exception=ya,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},RC=n=>n.Capacitor=OC(n),Ri=RC(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ui=Ri.registerPlugin;class ec{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,s){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(s);const c=this.windowListeners[t];c&&!c.registered&&this.addWindowListener(c),r&&this.sendRetainedArgumentsForEvent(t);const u=async()=>this.removeListener(t,s);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,s,r){const l=this.listeners[t];if(!l){if(r){let c=this.retainedEventArguments[t];c||(c=[]),c.push(s),this.retainedEventArguments[t]=c}return}l.forEach(c=>c(s))}hasListeners(t){var s;return!!(!((s=this.listeners[t])===null||s===void 0)&&s.length)}registerWindowListener(t,s){this.windowListeners[s]={registered:!1,windowEventName:t,pluginEventName:s,handler:r=>{this.notifyListeners(s,r)}}}unimplemented(t="not implemented"){return new Ri.Exception(t,Sa.Unimplemented)}unavailable(t="not available"){return new Ri.Exception(t,Sa.Unavailable)}async removeListener(t,s){const r=this.listeners[t];if(!r)return;const l=r.indexOf(s);this.listeners[t].splice(l,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const s=this.retainedEventArguments[t];s&&(delete this.retainedEventArguments[t],s.forEach(r=>{this.notifyListeners(t,r)}))}}const gv=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),yv=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class CC extends ec{async getCookies(){const t=document.cookie,s={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[l,c]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=yv(l).trim(),c=yv(c).trim(),s[l]=c}),s}async setCookie(t){try{const s=gv(t.key),r=gv(t.value),l=`; expires=${(t.expires||"").replace("expires=","")}`,c=(t.path||"/").replace("path=",""),u=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${s}=${r||""}${l}; path=${c}; ${u};`}catch(s){return Promise.reject(s)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const s of t)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Ui("CapacitorCookies",{web:()=>new CC});const NC=async n=>new Promise((t,s)=>{const r=new FileReader;r.onload=()=>{const l=r.result;t(l.indexOf(",")>=0?l.split(",")[1]:l)},r.onerror=l=>s(l),r.readAsDataURL(n)}),jC=(n={})=>{const t=Object.keys(n);return Object.keys(n).map(l=>l.toLocaleLowerCase()).reduce((l,c,u)=>(l[c]=n[t[u]],l),{})},kC=(n,t=!0)=>n?Object.entries(n).reduce((r,l)=>{const[c,u]=l;let f,m;return Array.isArray(u)?(m="",u.forEach(p=>{f=t?encodeURIComponent(p):p,m+=`${c}=${f}&`}),m.slice(0,-1)):(f=t?encodeURIComponent(u):u,m=`${c}=${f}`),`${r}&${m}`},"").substr(1):null,DC=(n,t={})=>{const s=Object.assign({method:n.method||"GET",headers:n.headers},t),l=jC(n.headers)["content-type"]||"";if(typeof n.data=="string")s.body=n.data;else if(l.includes("application/x-www-form-urlencoded")){const c=new URLSearchParams;for(const[u,f]of Object.entries(n.data||{}))c.set(u,f);s.body=c.toString()}else if(l.includes("multipart/form-data")||n.data instanceof FormData){const c=new FormData;if(n.data instanceof FormData)n.data.forEach((f,m)=>{c.append(m,f)});else for(const f of Object.keys(n.data))c.append(f,n.data[f]);s.body=c;const u=new Headers(s.headers);u.delete("content-type"),s.headers=u}else(l.includes("application/json")||typeof n.data=="object")&&(s.body=JSON.stringify(n.data));return s};class MC extends ec{async request(t){const s=DC(t,t.webFetchExtra),r=kC(t.params,t.shouldEncodeUrlParams),l=r?`${t.url}?${r}`:t.url,c=await fetch(l,s),u=c.headers.get("content-type")||"";let{responseType:f="text"}=c.ok?t:{};u.includes("application/json")&&(f="json");let m,p;switch(f){case"arraybuffer":case"blob":p=await c.blob(),m=await NC(p);break;case"json":m=await c.json();break;case"document":case"text":default:m=await c.text()}const g={};return c.headers.forEach((v,b)=>{g[b]=v}),{data:m,headers:g,status:c.status,url:c.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Ui("CapacitorHttp",{web:()=>new MC});var vv;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(vv||(vv={}));var bv;(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(bv||(bv={}));class UC extends ec{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Ui("SystemBars",{web:()=>new UC});var vt;(function(n){n.Heavy="HEAVY",n.Medium="MEDIUM",n.Light="LIGHT"})(vt||(vt={}));var wv;(function(n){n.Success="SUCCESS",n.Warning="WARNING",n.Error="ERROR"})(wv||(wv={}));const vf=Ui("Haptics",{web:()=>yf(()=>import("./web-DTHmqYHx.js"),[]).then(n=>new n.HapticsWeb)}),zC=({receipt:n,assignments:t,onAssign:s,onUnassign:r})=>{const[l,c]=F.useState(null),[u,f]=F.useState(""),m=async(g=vt.Light)=>{try{await vf.impact({style:g})}catch{}},p=g=>{u.trim()&&(m(vt.Medium),s(g,u.trim()),f(""))};return w.jsxs("div",{className:"flex flex-col h-full bg-zinc-50/50",children:[w.jsxs("div",{className:"px-5 py-6",children:[w.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[w.jsx("h2",{className:"text-2xl font-black text-zinc-900 tracking-tight",children:"Receipt Items"}),w.jsxs("span",{className:"text-sm font-bold text-zinc-400 uppercase tracking-widest",children:[n.items.length," Items"]})]}),w.jsx("p",{className:"text-zinc-500 text-sm font-medium",children:"Tap items to assign people manually or use AI Chat."})]}),w.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-64 space-y-3",children:n.items.map((g,v)=>{const b=t.filter(x=>x.itemIds.includes(g.id)).map(x=>x.personName),S=l===g.id;return w.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:v*.05},className:`bg-white rounded-3xl p-4 shadow-sm border transition-all ${S?"border-indigo-500 ring-4 ring-indigo-50":"border-zinc-100 hover:border-zinc-300"}`,onClick:()=>{S||(m(vt.Light),c(g.id),f(""))},children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-zinc-50 rounded-2xl flex items-center justify-center text-zinc-400",children:w.jsx("span",{className:"font-bold text-lg",children:g.quantity})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h3",{className:"font-bold text-zinc-900 truncate pr-2",children:g.name}),w.jsxs("span",{className:"font-black text-zinc-900",children:[n.currency,g.price.toFixed(2)]})]}),w.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:b.length>0?b.map((x,A)=>w.jsxs("div",{className:"flex items-center gap-1 bg-indigo-50 text-indigo-700 px-2.5 py-1 rounded-xl group",children:[w.jsx("span",{className:"text-[11px] font-bold uppercase tracking-tight",children:x}),S&&w.jsx("button",{onClick:C=>{C.stopPropagation(),m(vt.Light),r(g.id,x)},className:"p-0.5 hover:bg-indigo-200 rounded-full",children:w.jsx(Tr,{size:10})})]},A)):w.jsxs("div",{className:"flex items-center gap-1 text-orange-500 bg-orange-50 px-2 py-0.5 rounded-full",children:[w.jsx(JR,{size:10}),w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight",children:"Unassigned"})]})})]}),!S&&w.jsx(gf,{size:18,className:"text-zinc-300"})]}),w.jsx(Ti,{children:S&&w.jsx(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",onClick:x=>x.stopPropagation(),children:w.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-100 flex flex-col gap-3",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx(o_,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400"}),w.jsx("input",{autoFocus:!0,type:"text",placeholder:"Type a name (e.g. John)",value:u,onChange:x=>f(x.target.value),onKeyDown:x=>x.key==="Enter"&&p(g.id),className:"w-full bg-zinc-50 border-none rounded-2xl py-2.5 pl-9 pr-4 text-sm font-bold placeholder:text-zinc-400 focus:ring-2 focus:ring-indigo-500/20"})]}),w.jsx("button",{onClick:()=>p(g.id),disabled:!u.trim(),className:"bg-indigo-600 text-white p-2.5 rounded-2xl active:scale-95 disabled:opacity-50 transition-all font-bold",children:w.jsx(r_,{size:20})})]}),w.jsx("button",{onClick:()=>c(null),className:"text-center text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-zinc-600 py-1",children:"Done Editing"})]})})})]},g.id)})}),w.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-zinc-900 text-white rounded-3xl p-5 shadow-2xl flex items-center justify-between z-10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:w.jsx($l,{size:20,className:"text-indigo-300"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest leading-none",children:"Subtotal"}),w.jsxs("p",{className:"text-xl font-black",children:[n.currency,n.total.toFixed(2)]})]})]}),w.jsx("div",{className:"h-8 w-px bg-white/10"}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest leading-none",children:"Tax & Tip"}),w.jsxs("p",{className:"text-lg font-bold text-indigo-300",children:["+",n.currency,(n.tax+(n.tip||0)).toFixed(2)]})]})]})]})},LC=({messages:n,onSendMessage:t,receipt:s})=>{const[r,l]=F.useState(""),c=F.useRef(null);F.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[n]);const u=f=>{f.preventDefault(),r.trim()&&(t(r),l(""))};return w.jsxs("div",{className:"flex flex-col h-full bg-white",children:[w.jsx("div",{className:"px-5 py-4 border-b border-zinc-100 bg-zinc-50/50",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white",children:w.jsx(Ll,{size:16})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-sm font-bold text-zinc-900 leading-tight",children:"AI Split Assistant"}),w.jsx("p",{className:"text-[11px] text-zinc-500 font-medium",children:'Try: "Sarah and I shared the Nachos"'})]})]})}),w.jsx("div",{ref:c,className:"flex-1 overflow-y-auto p-5 pb-32 space-y-6 scroll-smooth",children:w.jsx(Ti,{initial:!1,children:n.map(f=>w.jsx(st.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:w.jsxs("div",{className:`flex gap-3 max-w-[85%] ${f.role==="user"?"flex-row-reverse":""}`,children:[w.jsx("div",{className:`w-8 h-8 rounded-xl flex-shrink-0 flex items-center justify-center ${f.role==="user"?"bg-zinc-200 text-zinc-600":"bg-indigo-100 text-indigo-600"}`,children:f.role==="user"?w.jsx(o_,{size:16}):w.jsx(IR,{size:16})}),w.jsx("div",{className:`p-4 rounded-2xl shadow-sm ${f.role==="user"?"bg-zinc-900 text-white rounded-tr-none":"bg-zinc-50 text-zinc-800 border border-zinc-100 rounded-tl-none"}`,children:w.jsx("p",{className:"text-sm font-medium leading-relaxed",children:f.content})})]})},f.id))})}),w.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white/80 backdrop-blur-xl border-t border-zinc-100",children:[w.jsx("form",{onSubmit:u,className:"relative max-w-2xl mx-auto flex items-end gap-2",children:w.jsxs("div",{className:"relative flex-1",children:[w.jsx("textarea",{value:r,onChange:f=>l(f.target.value),placeholder:"Who paid for what?",rows:1,className:"w-full bg-zinc-100 text-zinc-900 rounded-2xl px-5 py-4 pr-12 text-sm font-medium placeholder:text-zinc-400 focus:bg-zinc-50 focus:ring-2 focus:ring-indigo-600/20 transition-all resize-none max-h-32",onKeyDown:f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u(f))}}),w.jsx("button",{type:"submit",disabled:!r.trim(),className:`absolute right-2 bottom-2 w-10 h-10 rounded-xl flex items-center justify-center transition-all ${r.trim()?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 translate-y-0 opacity-100":"bg-zinc-200 text-zinc-400 translate-y-1 opacity-0 pointer-events-none"}`,children:w.jsx(hC,{size:18})})]})}),w.jsx("p",{className:"text-center text-[10px] text-zinc-400 font-bold uppercase tracking-widest mt-3 mb-2",children:"Powered by Gemini 1.5"})]})]})},BC=({totals:n,currency:t,onSave:s,isSaving:r,onTipChange:l})=>{const c=Object.keys(n),u=()=>{const f=c[0],m=f?n[f].tip:0,p=prompt(`Enter tip amount (current: ${t}${m.toFixed(2)}):`,m.toString());if(p!==null){const g=parseFloat(p);!isNaN(g)&&g>=0&&l&&l(g)}};return w.jsx("div",{className:"flex flex-col h-full bg-zinc-50 overflow-y-auto",children:w.jsxs("div",{className:"px-5 py-8",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx("h2",{className:"text-2xl font-black text-zinc-900 tracking-tight",children:"Summary"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{className:"w-10 h-10 rounded-xl bg-white shadow-sm border border-zinc-100 flex items-center justify-center text-zinc-600 active:scale-90 transition-all",children:w.jsx(pC,{size:18})}),w.jsxs("button",{onClick:s,disabled:r||c.length===0,className:"px-4 py-2 rounded-xl bg-indigo-600 shadow-lg shadow-indigo-100 flex items-center gap-2 text-white active:scale-95 transition-all disabled:opacity-50 disabled:pointer-events-none",children:[r?w.jsx(ZR,{size:18,className:"animate-spin"}):w.jsx(oC,{size:18}),w.jsx("span",{className:"text-sm font-bold",children:"Save Split"})]})]})]}),c.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-8 text-center bg-white rounded-3xl border border-dashed border-zinc-200",children:[w.jsx("div",{className:"w-16 h-16 bg-zinc-50 rounded-2xl flex items-center justify-center text-zinc-300 mb-4",children:w.jsx(_C,{size:32})}),w.jsx("h3",{className:"font-bold text-zinc-900 mb-1",children:"No assignments yet"}),w.jsx("p",{className:"text-sm text-zinc-500 font-medium",children:"Chat with Gemini to start splitting items between friends."})]}):w.jsx("div",{className:"space-y-4 pb-48",children:c.map((f,m)=>w.jsxs(st.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:m*.1},className:"bg-white rounded-3xl p-6 shadow-sm border border-zinc-100 relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(vC,{size:64,className:"text-indigo-600"})}),w.jsxs("div",{className:"flex justify-between items-start mb-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600 font-black text-lg",children:f.charAt(0).toUpperCase()}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-zinc-900 text-lg leading-none",children:f}),w.jsxs("p",{className:"text-[11px] text-zinc-400 font-bold uppercase tracking-widest mt-1.5",children:[n[f].items.length," items"]})]})]}),w.jsx("div",{className:"text-right",children:w.jsxs("p",{className:"text-2xl font-black text-zinc-900",children:[t,n[f].total.toFixed(2)]})})]}),w.jsx("div",{className:"space-y-2.5",children:n[f].items.map((p,g)=>w.jsxs("div",{className:"flex justify-between items-center text-sm",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-zinc-200"}),w.jsx("span",{className:"text-zinc-600 font-medium truncate max-w-[150px]",children:p.itemName}),p.sharedWithCount>1&&w.jsx("span",{className:"text-[10px] bg-zinc-100 text-zinc-400 px-1.5 py-0.5 rounded font-bold uppercase",children:"Shared"})]}),w.jsxs("span",{className:"text-zinc-400 font-bold tracking-tight",children:[t,p.individualCost.toFixed(2)]})]},g))}),w.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 flex justify-between items-center",children:[w.jsxs("div",{className:"flex gap-4 text-[10px] font-bold text-zinc-400 uppercase tracking-widest",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{children:"Tax"}),w.jsxs("span",{className:"text-zinc-800",children:[t,n[f].tax.toFixed(2)]})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{children:"Tip"}),w.jsxs("span",{className:"text-zinc-800",children:[t,n[f].tip.toFixed(2)]})]})]}),w.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-indigo-600 font-bold text-xs hover:gap-2 transition-all",children:[w.jsx(iC,{size:12})," Edit Tip"]})]})]},f))})]})})};var l_=(function(){var n=function(t,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])},n(t,s)};return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}})(),_v;(function(n){n.UNKNOWN_ERROR="0",n.PURCHASE_CANCELLED_ERROR="1",n.STORE_PROBLEM_ERROR="2",n.PURCHASE_NOT_ALLOWED_ERROR="3",n.PURCHASE_INVALID_ERROR="4",n.PRODUCT_NOT_AVAILABLE_FOR_PURCHASE_ERROR="5",n.PRODUCT_ALREADY_PURCHASED_ERROR="6",n.RECEIPT_ALREADY_IN_USE_ERROR="7",n.INVALID_RECEIPT_ERROR="8",n.MISSING_RECEIPT_FILE_ERROR="9",n.NETWORK_ERROR="10",n.INVALID_CREDENTIALS_ERROR="11",n.UNEXPECTED_BACKEND_RESPONSE_ERROR="12",n.RECEIPT_IN_USE_BY_OTHER_SUBSCRIBER_ERROR="13",n.INVALID_APP_USER_ID_ERROR="14",n.OPERATION_ALREADY_IN_PROGRESS_ERROR="15",n.UNKNOWN_BACKEND_ERROR="16",n.INVALID_APPLE_SUBSCRIPTION_KEY_ERROR="17",n.INELIGIBLE_ERROR="18",n.INSUFFICIENT_PERMISSIONS_ERROR="19",n.PAYMENT_PENDING_ERROR="20",n.INVALID_SUBSCRIBER_ATTRIBUTES_ERROR="21",n.LOG_OUT_ANONYMOUS_USER_ERROR="22",n.CONFIGURATION_ERROR="23",n.UNSUPPORTED_ERROR="24",n.EMPTY_SUBSCRIBER_ATTRIBUTES_ERROR="25",n.PRODUCT_DISCOUNT_MISSING_IDENTIFIER_ERROR="26",n.PRODUCT_DISCOUNT_MISSING_SUBSCRIPTION_GROUP_IDENTIFIER_ERROR="28",n.CUSTOMER_INFO_ERROR="29",n.SYSTEM_INFO_ERROR="30",n.BEGIN_REFUND_REQUEST_ERROR="31",n.PRODUCT_REQUEST_TIMED_OUT_ERROR="32",n.API_ENDPOINT_BLOCKED="33",n.INVALID_PROMOTIONAL_OFFER_ERROR="34",n.OFFLINE_CONNECTION_ERROR="35",n.TEST_STORE_SIMULATED_PURCHASE_ERROR="42"})(_v||(_v={}));(function(n){l_(t,n);function t(){var s=n.call(this,"There is no singleton instance. Make sure you configure Purchases before trying to get the default instance. More info here: https://errors.rev.cat/configuring-sdk")||this;return Object.setPrototypeOf(s,t.prototype),s}return t})(Error);(function(n){l_(t,n);function t(){var s=n.call(this,"This method is not available in the current platform.")||this;return Object.setPrototypeOf(s,t.prototype),s}return t})(Error);var Sv;(function(n){n.UNKNOWN="UNKNOWN",n.CUSTOM="CUSTOM",n.LIFETIME="LIFETIME",n.ANNUAL="ANNUAL",n.SIX_MONTH="SIX_MONTH",n.THREE_MONTH="THREE_MONTH",n.TWO_MONTH="TWO_MONTH",n.MONTHLY="MONTHLY",n.WEEKLY="WEEKLY"})(Sv||(Sv={}));var xv;(function(n){n[n.INTRO_ELIGIBILITY_STATUS_UNKNOWN=0]="INTRO_ELIGIBILITY_STATUS_UNKNOWN",n[n.INTRO_ELIGIBILITY_STATUS_INELIGIBLE=1]="INTRO_ELIGIBILITY_STATUS_INELIGIBLE",n[n.INTRO_ELIGIBILITY_STATUS_ELIGIBLE=2]="INTRO_ELIGIBILITY_STATUS_ELIGIBLE",n[n.INTRO_ELIGIBILITY_STATUS_NO_INTRO_OFFER_EXISTS=3]="INTRO_ELIGIBILITY_STATUS_NO_INTRO_OFFER_EXISTS"})(xv||(xv={}));var Ev;(function(n){n.NON_SUBSCRIPTION="NON_SUBSCRIPTION",n.SUBSCRIPTION="SUBSCRIPTION",n.UNKNOWN="UNKNOWN"})(Ev||(Ev={}));var Tv;(function(n){n.CONSUMABLE="CONSUMABLE",n.NON_CONSUMABLE="NON_CONSUMABLE",n.NON_RENEWABLE_SUBSCRIPTION="NON_RENEWABLE_SUBSCRIPTION",n.AUTO_RENEWABLE_SUBSCRIPTION="AUTO_RENEWABLE_SUBSCRIPTION",n.PREPAID_SUBSCRIPTION="PREPAID_SUBSCRIPTION",n.UNKNOWN="UNKNOWN"})(Tv||(Tv={}));var Av;(function(n){n[n.UNKNOWN_SUBSCRIPTION_UPGRADE_DOWNGRADE_POLICY=0]="UNKNOWN_SUBSCRIPTION_UPGRADE_DOWNGRADE_POLICY",n[n.IMMEDIATE_WITH_TIME_PRORATION=1]="IMMEDIATE_WITH_TIME_PRORATION",n[n.IMMEDIATE_AND_CHARGE_PRORATED_PRICE=2]="IMMEDIATE_AND_CHARGE_PRORATED_PRICE",n[n.IMMEDIATE_WITHOUT_PRORATION=3]="IMMEDIATE_WITHOUT_PRORATION",n[n.DEFERRED=6]="DEFERRED",n[n.IMMEDIATE_AND_CHARGE_FULL_PRICE=5]="IMMEDIATE_AND_CHARGE_FULL_PRICE"})(Av||(Av={}));var Ov;(function(n){n[n.INFINITE_RECURRING=1]="INFINITE_RECURRING",n[n.FINITE_RECURRING=2]="FINITE_RECURRING",n[n.NON_RECURRING=3]="NON_RECURRING"})(Ov||(Ov={}));var Rv;(function(n){n.FREE_TRIAL="FREE_TRIAL",n.SINGLE_PAYMENT="SINGLE_PAYMENT",n.DISCOUNTED_RECURRING_PAYMENT="DISCOUNTED_RECURRING_PAYMENT"})(Rv||(Rv={}));var Cv;(function(n){n.DAY="DAY",n.WEEK="WEEK",n.MONTH="MONTH",n.YEAR="YEAR",n.UNKNOWN="UNKNOWN"})(Cv||(Cv={}));var Nv;(function(n){n.INAPP="inapp",n.SUBS="subs"})(Nv||(Nv={}));var jv;(function(n){n[n.SUBSCRIPTIONS=0]="SUBSCRIPTIONS",n[n.SUBSCRIPTIONS_UPDATE=1]="SUBSCRIPTIONS_UPDATE",n[n.IN_APP_ITEMS_ON_VR=2]="IN_APP_ITEMS_ON_VR",n[n.SUBSCRIPTIONS_ON_VR=3]="SUBSCRIPTIONS_ON_VR",n[n.PRICE_CHANGE_CONFIRMATION=4]="PRICE_CHANGE_CONFIRMATION"})(jv||(jv={}));var kv;(function(n){n[n.SUCCESS=0]="SUCCESS",n[n.USER_CANCELLED=1]="USER_CANCELLED",n[n.ERROR=2]="ERROR"})(kv||(kv={}));var wd;(function(n){n.VERBOSE="VERBOSE",n.DEBUG="DEBUG",n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR"})(wd||(wd={}));var Dv;(function(n){n[n.BILLING_ISSUE=0]="BILLING_ISSUE",n[n.PRICE_INCREASE_CONSENT=1]="PRICE_INCREASE_CONSENT",n[n.GENERIC=2]="GENERIC",n[n.WIN_BACK_OFFER=3]="WIN_BACK_OFFER"})(Dv||(Dv={}));var Mv;(function(n){n.DISABLED="DISABLED",n.INFORMATIONAL="INFORMATIONAL"})(Mv||(Mv={}));var Uv;(function(n){n.NOT_REQUESTED="NOT_REQUESTED",n.VERIFIED="VERIFIED",n.FAILED="FAILED",n.VERIFIED_ON_DEVICE="VERIFIED_ON_DEVICE"})(Uv||(Uv={}));var zv;(function(n){n.NOT_PRESENTED="NOT_PRESENTED",n.ERROR="ERROR",n.CANCELLED="CANCELLED",n.PURCHASED="PURCHASED",n.RESTORED="RESTORED"})(zv||(zv={}));var Lv;(function(n){n.STOREKIT_1="STOREKIT_1",n.STOREKIT_2="STOREKIT_2",n.DEFAULT="DEFAULT"})(Lv||(Lv={}));var Bv;(function(n){n.MY_APP="MY_APP",n.REVENUECAT="REVENUECAT"})(Bv||(Bv={}));var Iv;(function(n){n.SUCCESS="SUCCESS",n.ERROR="ERROR",n.PURCHASE_BELONGS_TO_OTHER_USER="PURCHASE_BELONGS_TO_OTHER_USER",n.INVALID_TOKEN="INVALID_TOKEN",n.EXPIRED="EXPIRED"})(Iv||(Iv={}));const ts=Ui("Purchases",{web:()=>yf(()=>import("./web-B9QhLiA4.js"),[]).then(n=>new n.PurchasesWeb)}),IC="appl_voSnSCxLyWsXuqaGqeIuvgNMRZAVITE_GEMINI_API_KEY=AIzaSyBeC7QFc51Dq22QF2RxGqUZejvRC5IONIs",va={async initialize(){if(Ri.getPlatform()==="web"){console.log("[RevenueCat] Web mode: Automatic Pro unlock active.");return}try{await ts.setLogLevel({level:wd.DEBUG}),await ts.configure({apiKey:IC,appUserID:null}),console.log("[RevenueCat] Initialized successfully.")}catch(n){console.error("[RevenueCat] Initialization Error:",n)}},async checkSubscriptionStatus(){var n,t;if(Ri.getPlatform()==="web")return!0;try{const{customerInfo:s}=await ts.getCustomerInfo();return((t=(n=s.entitlements)==null?void 0:n.active)==null?void 0:t.splitsmart_pro)!==void 0}catch(s){return console.error("[RevenueCat] Status Check Error:",s),!1}},async getPrice(){if(Ri.getPlatform()==="web")return"$4.99/yr";try{const n=await ts.getOfferings();return n.current&&n.current.availablePackages.length>0?n.current.availablePackages[0].product.priceString:null}catch{return null}},async purchasePro(){var n,t;if(Ri.getPlatform()==="web")return!1;try{const s=await ts.getOfferings();if(s.current&&s.current.availablePackages.length>0){const{customerInfo:r}=await ts.purchasePackage({aPackage:s.current.availablePackages[0]});return((t=(n=r.entitlements)==null?void 0:n.active)==null?void 0:t.splitsmart_pro)!==void 0}return!1}catch(s){return console.error("[RevenueCat] Purchase Error:",s),!1}},async restore(){var n,t;if(Ri.getPlatform()==="web")return!0;try{const{customerInfo:s}=await ts.restorePurchases();return((t=(n=s.entitlements)==null?void 0:n.active)==null?void 0:t.splitsmart_pro)!==void 0}catch(s){return console.error("[RevenueCat] Restore Error:",s),!1}}},Vv=Ui("Browser",{web:()=>yf(()=>import("./web-NFke1N1l.js"),[]).then(n=>new n.BrowserWeb)}),VC=({onClose:n,onSuccess:t})=>{const[s,r]=F.useState(null),[l,c]=F.useState(!1);F.useEffect(()=>{va.getPrice().then(r)},[]);const u=async()=>{c(!0);const g=await va.purchasePro();c(!1),g&&(t(),n())},f=async()=>{c(!0);const g=await va.restore();c(!1),g&&(t(),n())},m=async()=>{await Vv.open({url:"https://www.apple.com/legal/internet-services/itunes/dev/stdeula/"})},p=async()=>{await Vv.open({url:"https://prodigiousent.github.io/APP-Factory/docs/splitsmart/privacy-policy.html"})};return w.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[150] bg-zinc-900/60 backdrop-blur-sm flex items-center justify-center p-4",onClick:n,children:w.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},className:"bg-gradient-to-br from-blue-600 via-blue-500 to-blue-700 rounded-[2.5rem] max-w-sm w-full relative overflow-hidden",style:{maxHeight:"90vh",overflowY:"auto"},onClick:g=>g.stopPropagation(),children:[w.jsx("button",{onClick:n,className:"absolute top-6 right-6 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors z-10",children:w.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[w.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),w.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),w.jsxs("div",{className:"p-8 pb-6 text-center",children:[w.jsx("div",{className:"inline-block bg-white/30 backdrop-blur-sm px-4 py-1.5 rounded-full mb-4",children:w.jsx("span",{className:"text-white text-xs font-bold tracking-wider",children:"PREMIUM ACCESS"})}),w.jsx("h2",{className:"text-4xl font-black text-white tracking-tight mb-3",children:"Go SplitSmart Pro"}),w.jsx("p",{className:"text-white/90 text-base",children:"Unlock the full power of your AI receipt scanner."})]}),w.jsxs("div",{className:"mx-6 mb-6 bg-white rounded-2xl p-6 shadow-sm border border-slate-100",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-zinc-900",children:"SplitSmart Pro"}),w.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:"Annual Subscription"})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-2xl font-bold text-zinc-900",children:s||"$9.99"}),w.jsx("p",{className:"text-sm text-slate-500",children:"per year"})]})]}),w.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-slate-200",children:[w.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"12 months of premium access"})]}),w.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Just $0.83 per month"})]})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-3",children:"What's included:"}),w.jsxs("ul",{className:"space-y-2.5 text-sm text-slate-600",children:[w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-green-600 font-bold",children:""}),w.jsx("span",{children:"Unlimited Scans - No daily limits on receipt scanning"})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-green-600 font-bold",children:""}),w.jsx("span",{children:"2026 Annual Report - See your yearly spending breakdown"})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-green-600 font-bold",children:""}),w.jsx("span",{children:"Priority AI Processing - Faster and more accurate results"})]})]})]})]}),w.jsx("p",{className:"text-[10px] text-center text-white/60 mb-4 px-6 leading-tight",children:"Subscription automatically renews annually. Cancel anytime in App Store settings. Payment charged to Apple ID at confirmation of purchase."}),w.jsx("div",{className:"px-6 pb-4",children:w.jsx("button",{onClick:u,disabled:l,className:"w-full bg-white text-blue-600 py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform disabled:opacity-50",children:l?"Processing...":`Subscribe Now - ${s||"$9.99"}/year`})}),w.jsx("div",{className:"px-6 pb-4",children:w.jsx("button",{onClick:f,disabled:l,className:"w-full text-white/80 font-semibold py-3 hover:text-white transition-colors disabled:opacity-50",children:"Restore Purchases"})}),w.jsxs("div",{className:"flex justify-center items-center gap-3 px-6 py-6 text-sm font-medium",children:[w.jsx("button",{onClick:m,className:"text-white/80 hover:text-white hover:underline",children:"Terms of Use"}),w.jsx("span",{className:"text-white/40",children:""}),w.jsx("button",{onClick:p,className:"text-white/80 hover:text-white hover:underline",children:"Privacy Policy"})]})]})})};function tc(n,t){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(n);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(n,r[l])&&(s[r[l]]=n[r[l]]);return s}function PC(n,t,s,r){function l(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function f(g){try{p(r.next(g))}catch(v){u(v)}}function m(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):l(g.value).then(f,m)}p((r=r.apply(n,t||[])).next())})}const HC=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class bf extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class qC extends bf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pv extends bf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hv extends bf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _d;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(_d||(_d={}));class $C{constructor(t,{headers:s={},customFetch:r,region:l=_d.Any}={}){this.url=t,this.headers=s,this.region=l,this.fetch=HC(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return PC(this,arguments,void 0,function*(s,r={}){var l;let c,u;try{const{headers:f,method:m,body:p,signal:g,timeout:v}=r;let b={},{region:S}=r;S||(S=this.region);const x=new URL(`${this.url}/${s}`);S&&S!=="any"&&(b["x-region"]=S,x.searchParams.set("forceFunctionRegion",S));let A;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",A=p):typeof p=="string"?(b["Content-Type"]="text/plain",A=p):typeof FormData<"u"&&p instanceof FormData?A=p:(b["Content-Type"]="application/json",A=JSON.stringify(p)):A=p;let C=g;v&&(u=new AbortController,c=setTimeout(()=>u.abort(),v),g?(C=u.signal,g.addEventListener("abort",()=>u.abort())):C=u.signal);const D=yield this.fetch(x.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),f),body:A,signal:C}).catch(X=>{throw new qC(X)}),L=D.headers.get("x-relay-error");if(L&&L==="true")throw new Pv(D);if(!D.ok)throw new Hv(D);let N=((l=D.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),K;return N==="application/json"?K=yield D.json():N==="application/octet-stream"||N==="application/pdf"?K=yield D.blob():N==="text/event-stream"?K=D:N==="multipart/form-data"?K=yield D.formData():K=yield D.text(),{data:K,error:null,response:D}}catch(f){return{data:null,error:f,response:f instanceof Hv||f instanceof Pv?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var GC=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},KC=class{constructor(n){var t,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let l=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let u=null,f=null,m=null,p=c.status,g=c.statusText;if(c.ok){var v,b;if(s.method!=="HEAD"){var S;const D=await c.text();D===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((S=s.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?f=D:f=JSON.parse(D))}const A=(v=s.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(b=c.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&C&&C.length>1&&(m=parseInt(C[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var x;const A=await c.text();try{u=JSON.parse(A),Array.isArray(u)&&c.status===404&&(f=[],u=null,p=200,g="OK")}catch{c.status===404&&A===""?(p=204,g="No Content"):u={message:A}}if(u&&s.isMaybeSingle&&(!(u==null||(x=u.details)===null||x===void 0)&&x.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&s.shouldThrowOnError)throw new GC(u)}return{error:u,data:f,count:m,status:p,statusText:g}});return this.shouldThrowOnError||(l=l.catch(c=>{var u;let f="";const m=c==null?void 0:c.cause;if(m){var p,g,v,b;const x=(p=m==null?void 0:m.message)!==null&&p!==void 0?p:"",A=(g=m==null?void 0:m.code)!==null&&g!==void 0?g:"";f=`${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"FetchError"}: ${c==null?void 0:c.message}`,f+=`

Caused by: ${(b=m==null?void 0:m.name)!==null&&b!==void 0?b:"Error"}: ${x}`,A&&(f+=` (${A})`),m!=null&&m.stack&&(f+=`
${m.stack}`)}else{var S;f=(S=c==null?void 0:c.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(n,t)}returns(){return this}overrideTypes(){return this}},YC=class extends KC{select(n){let t=!1;const s=(n??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:l=r}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:s=t}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,t,{foreignTable:s,referencedTable:r=s}={}){const l=typeof r>"u"?"offset":`${r}.offset`,c=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:l=!1,format:c="text"}={}){var u;const f=[n?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const qv=new RegExp("[,()]");var oa=class extends YC{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&qv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&qv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:s,type:r}={}){let l="";r==="plain"?l="pl":r==="phrase"?l="ph":r==="websearch"&&(l="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${l}fts${c}.${t}`),this}match(n){return Object.entries(n).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(n,t,s){return this.url.searchParams.append(n,`not.${t}.${s}`),this}or(n,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,t,s){return this.url.searchParams.append(n,`${t}.${s}`),this}},FC=class{constructor(n,{headers:t={},schema:s,fetch:r}){this.url=n,this.headers=new Headers(t),this.schema=s,this.fetch=r}select(n,t){const{head:s=!1,count:r}=t??{},l=s?"HEAD":"GET";let c=!1;const u=(n??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),r&&this.headers.append("Prefer",`count=${r}`),new oa({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:s=!0}={}){var r;const l="POST";if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new oa({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new oa({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:t}={}){var s;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new oa({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var t;const s="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new oa({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},XC=class c_{constructor(t,{headers:s={},schema:r,fetch:l}={}){this.url=t,this.headers=new Headers(s),this.schemaName=r,this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new FC(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new c_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:r=!1,get:l=!1,count:c}={}){var u;let f;const m=new URL(`${this.url}/rpc/${t}`);let p;r||l?(f=r?"HEAD":"GET",Object.entries(s).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{m.searchParams.append(v,b)})):(f="POST",p=s);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new oa({method:f,url:m,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class JC{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,l=parseInt(r.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const QC="2.89.0",ZC=`realtime-js/${QC}`,u_="1.0.0",WC="2.0.0",$v=u_,Sd=1e4,eN=1e3,tN=100;var Oi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Oi||(Oi={}));var mt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(mt||(mt={}));var Sn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Sn||(Sn={}));var xd;(function(n){n.websocket="websocket"})(xd||(xd={}));var os;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(os||(os={}));class nN{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,r;const l=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var s,r;const l=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,s,r){var l,c;const u=t.topic,f=(l=t.ref)!==null&&l!==void 0?l:"",m=(c=t.join_ref)!==null&&c!==void 0?c:"",p=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+u.length+p.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let x=new DataView(S),A=0;x.setUint8(A++,this.KINDS.userBroadcastPush),x.setUint8(A++,m.length),x.setUint8(A++,f.length),x.setUint8(A++,u.length),x.setUint8(A++,p.length),x.setUint8(A++,v.length),x.setUint8(A++,s),Array.from(m,D=>x.setUint8(A++,D.charCodeAt(0))),Array.from(f,D=>x.setUint8(A++,D.charCodeAt(0))),Array.from(u,D=>x.setUint8(A++,D.charCodeAt(0))),Array.from(p,D=>x.setUint8(A++,D.charCodeAt(0))),Array.from(v,D=>x.setUint8(A++,D.charCodeAt(0)));var C=new Uint8Array(S.byteLength+r.byteLength);return C.set(new Uint8Array(S),0),C.set(new Uint8Array(r),S.byteLength),C.buffer}decode(t,s){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return s(r)}if(typeof t=="string"){const r=JSON.parse(t),[l,c,u,f,m]=r;return s({join_ref:l,ref:c,topic:u,event:f,payload:m})}return s({})}_binaryDecode(t){const s=new DataView(t),r=s.getUint8(0),l=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,l)}}_decodeUserBroadcast(t,s,r){const l=s.getUint8(1),c=s.getUint8(2),u=s.getUint8(3),f=s.getUint8(4);let m=this.HEADER_LENGTH+4;const p=r.decode(t.slice(m,m+l));m=m+l;const g=r.decode(t.slice(m,m+c));m=m+c;const v=r.decode(t.slice(m,m+u));m=m+u;const b=t.slice(m,t.byteLength),S=f===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,x={type:this.BROADCAST_EVENT,event:g,payload:S};return u>0&&(x.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>s.includes(r)))}}class h_{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(qe||(qe={}));const Gv=(n,t,s={})=>{var r;const l=(r=s.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((c,u)=>(c[u]=iN(u,n,t,l),c),{}):{}},iN=(n,t,s,r)=>{const l=t.find(f=>f.name===n),c=l==null?void 0:l.type,u=s[n];return c&&!r.includes(c)?d_(c,u):Ed(u)},d_=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return oN(t,s)}switch(n){case qe.bool:return sN(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return aN(t);case qe.json:case qe.jsonb:return rN(t);case qe.timestamp:return lN(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Ed(t);default:return Ed(t)}},Ed=n=>n,sN=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},aN=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},rN=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},oN=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,r=n[s];if(n[0]==="{"&&r==="}"){let c;const u=n.slice(1,s);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(f=>d_(t,f))}return n},lN=n=>typeof n=="string"?n.replace(" ","T"):n,f_=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vh{constructor(t,s,r={},l=Sd){this.channel=t,this.event=s,this.payload=r,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Kv||(Kv={}));class kr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},l=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kr.syncState(this.state,l,c,u),this.pendingDiffs.forEach(m=>{this.state=kr.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},l=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=kr.syncDiff(this.state,l,c,u),f())}),this.onJoin((l,c,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:u})}),this.onLeave((l,c,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,l){const c=this.cloneDeep(t),u=this.transformState(s),f={},m={};return this.map(c,(p,g)=>{u[p]||(m[p]=g)}),this.map(u,(p,g)=>{const v=c[p];if(v){const b=g.map(C=>C.presence_ref),S=v.map(C=>C.presence_ref),x=g.filter(C=>S.indexOf(C.presence_ref)<0),A=v.filter(C=>b.indexOf(C.presence_ref)<0);x.length>0&&(f[p]=x),A.length>0&&(m[p]=A)}else f[p]=g}),this.syncDiff(c,{joins:f,leaves:m},r,l)}static syncDiff(t,s,r,l){const{joins:c,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),l||(l=()=>{}),this.map(c,(f,m)=>{var p;const g=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(m),g.length>0){const v=t[f].map(S=>S.presence_ref),b=g.filter(S=>v.indexOf(S.presence_ref)<0);t[f].unshift(...b)}r(f,g,m)}),this.map(u,(f,m)=>{let p=t[f];if(!p)return;const g=m.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),t[f]=p,l(f,p,m),p.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const l=t[r];return"metas"in l?s[r]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[r]=l,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Yv||(Yv={}));var Dr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Dr||(Dr={}));var Fn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Fn||(Fn={}));class pa{constructor(t,s={config:{}},r){var l,c;if(this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Vh(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new h_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new kr(this),this.broadcastEndpointURL=f_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var r,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:u,presence:f,private:m}}=this.params,p=(l=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[Dr.PRESENCE]&&this.bindings[Dr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},b={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>t==null?void 0:t(Fn.CHANNEL_ERROR,S)),this._onClose(()=>t==null?void 0:t(Fn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t==null||t(Fn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,C=(x=A==null?void 0:A.length)!==null&&x!==void 0?x:0,D=[];for(let L=0;L<C;L++){const N=A[L],{filter:{event:K,schema:X,table:J,filter:$}}=N,B=S&&S[L];if(B&&B.event===K&&pa.isFilterValueEqual(B.schema,X)&&pa.isFilterValueEqual(B.table,J)&&pa.isFilterValueEqual(B.filter,$))D.push(Object.assign(Object.assign({},N),{id:B.id}));else{this.unsubscribe(),this.state=mt.errored,t==null||t(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,t&&t(Fn.SUBSCRIBED);return}}).receive("error",S=>{this.state=mt.errored,t==null||t(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===mt.joined&&t===Dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,r)}async httpSend(t,s,r={}){var l;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const p=await f.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(t,s={}){var r,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,f,m;const p=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(l=>{r=new Vh(this,Sn.leave,{},t),r.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const l=new AbortController,c=setTimeout(()=>l.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),u}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Vh(this,t,s,r);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>tN){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var l,c;const u=t.toLocaleLowerCase(),{close:f,error:m,leave:p,join:g}=Sn;if(r&&[f,m,p,g].indexOf(u)>=0&&r!==this._joinRef())return;let b=this._onMessage(u,s,r);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var x,A,C;return((x=S.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(A=S.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===u}).map(S=>S.callback(b,r)):(c=this.bindings[u])===null||c===void 0||c.filter(S=>{var x,A,C,D,L,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const K=S.id,X=(x=S.filter)===null||x===void 0?void 0:x.event;return K&&((A=s.ids)===null||A===void 0?void 0:A.includes(K))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const K=(L=(D=S==null?void 0:S.filter)===null||D===void 0?void 0:D.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return K==="*"||K===((N=s==null?void 0:s.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof b=="object"&&"ids"in b){const x=b.data,{schema:A,table:C,commit_timestamp:D,type:L,errors:N}=x;b=Object.assign(Object.assign({},{schema:A,table:C,commit_timestamp:D,eventType:L,new:{},old:{},errors:N}),this._getPayloadRecords(x))}S.callback(b,r)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const l=t.toLocaleLowerCase(),c={type:l,filter:s,callback:r};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&pa.isEqual(l.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sn.close,{},t)}_onError(t){this._on(Sn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Gv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Gv(t.columns,t.old_record)),s}}const Ph=()=>{},El={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cN=[1e3,2e3,5e3,1e4],uN=1e4,hN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dN{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sd,this.transport=null,this.heartbeatIntervalMs=El.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ph,this.ref=0,this.reconnectTimer=null,this.vsn=$v,this.logger=Ph,this.conn=null,this.sendBuffer=[],this.serializer=new nN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${xd.websocket}`,this.httpEndpoint=f_(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JC.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Oi.connecting:return os.Connecting;case Oi.open:return os.Open;case Oi.closing:return os.Closing;default:return os.Closed}}isConnected(){return this.connectionState()===os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,l=this.getChannels().find(c=>c.topic===r);if(l)return l;{const c=new pa(`realtime:${t}`,s,this);return this.channels.push(c),c}}push(t){const{topic:s,event:r,payload:l,ref:c}=t,u=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${r} (${c})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(eN,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},El.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:l,payload:c,ref:u}=s,f=u?`(${u})`:"",m=c.status||"";this.log("receive",`${m} ${r} ${l} ${f}`.trim(),c),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(l,c,u)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Oi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oi.open||this.conn.readyState===Oi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${t}${r}${l}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([hN],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,r=!1;if(t)s=t,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const c={access_token:s,version:ZC};s&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Sn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new h_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},El.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,l,c,u,f,m,p,g,v,b,S;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Sd,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:El.HEARTBEAT_INTERVAL,this.worker=(c=t==null?void 0:t.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:Ph,this.vsn=(m=t==null?void 0:t.vsn)!==null&&m!==void 0?m:$v,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t==null?void 0:t.reconnectAfterMs)!==null&&p!==void 0?p:(x=>cN[x-1]||uN),this.vsn){case u_:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:((x,A)=>A(JSON.stringify(x))),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:((x,A)=>A(JSON.parse(x)));break;case WC:this.encode=(b=t==null?void 0:t.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Hr=class extends Error{constructor(n,t){var s;super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fN(n,t,s){const r=new URL(t,n);if(s)for(const[l,c]of Object.entries(s))c!==void 0&&r.searchParams.set(l,c);return r.toString()}async function mN(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function pN(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:l,body:c,headers:u}){const f=fN(n.baseUrl,r,l),m=await mN(n.auth),p=await t(f,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...m,...u},body:c?JSON.stringify(c):void 0}),g=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),b=v&&g?JSON.parse(g):g;if(!p.ok){const S=v?b:void 0,x=S==null?void 0:S.error;throw new Hr((x==null?void 0:x.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:S})}return{status:p.status,headers:p.headers,data:b}}}}function Tl(n){return n.join("")}var gN=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Tl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,t){const s={namespace:n.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tl(n.namespace)}`}),!0}catch(t){if(t instanceof Hr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(s){if(s instanceof Hr&&s.status===409)return;throw s}}};function ea(n){return n.join("")}var yN=class{constructor(n,t="",s){this.client=n,this.prefix=t,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ea(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ea(n.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(n,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ea(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ea(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ea(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ea(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(s){if(s instanceof Hr&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(s){if(s instanceof Hr&&s.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw s}}},vN=class{constructor(n){var r;let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=pN({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new gN(this.client,t),this.tableOps=new yN(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},nc=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Je(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var bN=class extends nc{constructor(n,t,s){super(n),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Td=class extends nc{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const wf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),wN=()=>Response,Ad=n=>{if(Array.isArray(n))return n.map(s=>Ad(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,r])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=Ad(r)}),t},_N=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},SN=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function qr(n){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(n)}function xN(n,t){if(qr(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,t);if(qr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function EN(n){var t=xN(n,"string");return qr(t)=="symbol"?t:t+""}function TN(n,t,s){return(t=EN(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Fv(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,r)}return s}function ue(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Fv(Object(s),!0).forEach(function(r){TN(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Fv(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}const Hh=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},AN=async(n,t,s)=>{n instanceof await wN()&&!(s!=null&&s.noResolveJson)?n.json().then(r=>{const l=n.status||500,c=(r==null?void 0:r.statusCode)||l+"";t(new bN(Hh(r),l,c))}).catch(r=>{t(new Td(Hh(r),r))}):t(new Td(Hh(n),n))},ON=(n,t,s,r)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||!r?l:(_N(r)?(l.headers=ue({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(r)):l.body=r,t!=null&&t.duplex&&(l.duplex=t.duplex),ue(ue({},l),s))};async function Wr(n,t,s,r,l,c){return new Promise((u,f)=>{n(s,ON(t,r,l,c)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>AN(m,f,r))})}async function $r(n,t,s,r){return Wr(n,"GET",t,s,r)}async function _n(n,t,s,r,l){return Wr(n,"POST",t,r,l,s)}async function Od(n,t,s,r,l){return Wr(n,"PUT",t,r,l,s)}async function RN(n,t,s,r){return Wr(n,"HEAD",t,ue(ue({},s),{},{noResolveJson:!0}),r)}async function _f(n,t,s,r,l){return Wr(n,"DELETE",t,r,l,s)}var CN=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};let m_;m_=Symbol.toStringTag;var NN=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[m_]="BlobDownloadBuilder",this.promise=null}asStream(){return new CN(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};const jN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kN=class{constructor(n,t={},s,r){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=s,this.fetch=wf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,s,r){var l=this;try{let c;const u=ue(ue({},Xv),r);let f=ue(ue({},l.headers),n==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",l.encodeMetadata(m)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),m&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(m))):(c=s,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,m&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),r!=null&&r.headers&&(f=ue(ue({},f),r.headers));const p=l._removeEmptyFolders(t),g=l._getFinalPath(p),v=await(n=="PUT"?Od:_n)(l.fetch,`${l.url}/object/${g}`,c,ue({headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async upload(n,t,s){return this.uploadOrUpdate("POST",n,t,s)}async uploadToSignedUrl(n,t,s,r){var l=this;const c=l._removeEmptyFolders(n),u=l._getFinalPath(c),f=new URL(l.url+`/object/upload/sign/${u}`);f.searchParams.set("token",t);try{let m;const p=ue({upsert:Xv.upsert},r),g=ue(ue({},l.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",p.cacheControl)):(m=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{data:{path:c,fullPath:(await Od(l.fetch,f.toString(),m,{headers:g})).Key},error:null}}catch(m){if(l.shouldThrowOnError)throw m;if(Je(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(n,t){var s=this;try{let r=s._getFinalPath(n);const l=ue({},s.headers);t!=null&&t.upsert&&(l["x-upsert"]="true");const c=await _n(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:l}),u=new URL(s.url+c.url),f=u.searchParams.get("token");if(!f)throw new nc("No token returned by API");return{data:{signedUrl:u.toString(),path:n,token:f},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async update(n,t,s){return this.uploadOrUpdate("PUT",n,t,s)}async move(n,t,s){var r=this;try{return{data:await _n(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async copy(n,t,s){var r=this;try{return{data:{path:(await _n(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async createSignedUrl(n,t,s){var r=this;try{let l=r._getFinalPath(n),c=await _n(r.fetch,`${r.url}/object/sign/${l}`,ue({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${r.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async createSignedUrls(n,t,s){var r=this;try{const l=await _n(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:n},{headers:r.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(u=>ue(ue({},u),{},{signedUrl:u.signedURL?encodeURI(`${r.url}${u.signedURL}${c}`):null})),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}download(n,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=r?`?${r}`:"",c=this._getFinalPath(n),u=()=>$r(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new NN(u,this.shouldThrowOnError)}async info(n){var t=this;const s=t._getFinalPath(n);try{return{data:Ad(await $r(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async exists(n){var t=this;const s=t._getFinalPath(n);try{return await RN(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r)&&r instanceof Td){const l=r.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,t){const s=this._getFinalPath(n),r=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&r.push(l);const c=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&r.push(u);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${f}`)}}}async remove(n){var t=this;try{return{data:await _f(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async list(n,t,s){var r=this;try{const l=ue(ue(ue({},jN),t),{},{prefix:n||""});return{data:await _n(r.fetch,`${r.url}/object/list/${r.bucketId}`,l,{headers:r.headers},s),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async listV2(n,t){var s=this;try{const r=ue({},n);return{data:await _n(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},t),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const p_="2.89.0",g_={"X-Client-Info":`storage-js/${p_}`};var DN=class{constructor(n,t={},s,r){this.shouldThrowOnError=!1;const l=new URL(n);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=ue(ue({},g_),t),this.fetch=wf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const s=t.listBucketOptionsToQueryString(n);return{data:await $r(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await $r(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async createBucket(n,t={public:!1}){var s=this;try{return{data:await _n(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async updateBucket(n,t){var s=this;try{return{data:await Od(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async emptyBucket(n){var t=this;try{return{data:await _n(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await _f(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},MN=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ue(ue({},g_),t),this.fetch=wf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await _n(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async listBuckets(n){var t=this;try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const r=s.toString(),l=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await $r(t.fetch,l,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await _f(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}from(n){var t=this;if(!SN(n))throw new nc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new vN({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(l,c){const u=l[c];return typeof u!="function"?u:async(...f)=>{try{return{data:await u.apply(l,f),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}}}})}};const Sf={"X-Client-Info":`storage-js/${p_}`,"Content-Type":"application/json"};var y_=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Zt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var qh=class extends y_{constructor(n,t,s){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},UN=class extends y_{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const xf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),zN=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Jv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),LN=async(n,t,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const r=n.status||500,l=n;if(typeof l.json=="function")l.json().then(c=>{const u=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||r+"";t(new qh(Jv(c),r,u))}).catch(()=>{const c=r+"";t(new qh(l.statusText||`HTTP ${r} error`,r,c))});else{const c=r+"";t(new qh(l.statusText||`HTTP ${r} error`,r,c))}}else t(new UN(Jv(n),n))},BN=(n,t,s,r)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return r?(zN(r)?(l.headers=ue({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(r)):l.body=r,ue(ue({},l),s)):l};async function IN(n,t,s,r,l,c){return new Promise((u,f)=>{n(s,BN(t,r,l,c)).then(m=>{if(!m.ok)throw m;if(r!=null&&r.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>u(m)).catch(m=>LN(m,f,r))})}async function Wt(n,t,s,r,l){return IN(n,"POST",t,r,l,s)}var VN=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ue(ue({},Sf),t),this.fetch=xf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async getIndex(n,t){var s=this;try{return{data:await Wt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async listIndexes(n){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async deleteIndex(n,t){var s=this;try{return{data:await Wt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers})||{},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}},PN=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ue(ue({},Sf),t),this.fetch=xf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Wt(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async getVectors(n){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Wt(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async queryVectors(n){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Wt(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}},HN=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ue(ue({},Sf),t),this.fetch=xf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}},qN=class extends HN{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new $N(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,s=this;return t().call(s,n)}async getBucket(n){var t=()=>super.getBucket,s=this;return t().call(s,n)}async listBuckets(n={}){var t=()=>super.listBuckets,s=this;return t().call(s,n)}async deleteBucket(n){var t=()=>super.deleteBucket,s=this;return t().call(s,n)}},$N=class extends VN{constructor(n,t,s,r){super(n,t,r),this.vectorBucketName=s}async createIndex(n){var t=()=>super.createIndex,s=this;return t().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,s=this;return t().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,n)}index(n){return new GN(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},GN=class extends PN{constructor(n,t,s,r,l){super(n,t,l),this.vectorBucketName=s,this.indexName=r}async putVectors(n){var t=()=>super.putVectors,s=this;return t().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var t=()=>super.getVectors,s=this;return t().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,s=this;return t().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,s=this;return t().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,s=this;return t().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},KN=class extends DN{constructor(n,t={},s,r){super(n,t,s,r)}from(n){return new kN(this.url,this.headers,n,this.fetch)}get vectors(){return new qN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new MN(this.url+"/iceberg",this.headers,this.fetch)}};const v_="2.89.0",la=30*1e3,Rd=3,$h=Rd*la,YN="http://localhost:9999",FN="supabase.auth.token",XN={"X-Client-Info":`gotrue-js/${v_}`},Cd="X-Supabase-Api-Version",b_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QN=600*1e3;class Gr extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function ae(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ZN extends Gr{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function WN(n){return ae(n)&&n.name==="AuthApiError"}class ls extends Gr{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Qn extends Gr{constructor(t,s,r,l){super(t,r,l),this.name=s,this.status=r}}class Qt extends Qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function e2(n){return ae(n)&&n.name==="AuthSessionMissingError"}class ta extends Qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Al extends Qn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ol extends Qn{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t2(n){return ae(n)&&n.name==="AuthImplicitGrantRedirectError"}class Qv extends Qn{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class n2 extends Qn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nd extends Qn{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Gh(n){return ae(n)&&n.name==="AuthRetryableFetchError"}class Zv extends Qn{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class jd extends Qn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wv=` 	
\r=`.split(""),i2=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Wv.length;t+=1)n[Wv[t].charCodeAt(0)]=-2;for(let t=0;t<Gl.length;t+=1)n[Gl[t].charCodeAt(0)]=t;return n})();function eb(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(Gl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(Gl[r]),t.queuedBits-=6}}function w_(n,t,s){const r=i2[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function tb(n){const t=[],s=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=u=>{r2(u,r,s)};for(let u=0;u<n.length;u+=1)w_(n.charCodeAt(u),l,c);return t.join("")}function s2(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function a2(n,t){for(let s=0;s<n.length;s+=1){let r=n.charCodeAt(s);if(r>55295&&r<=56319){const l=(r-55296)*1024&65535;r=(n.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}s2(r,t)}}function r2(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function ba(n){const t=[],s={queue:0,queuedBits:0},r=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)w_(n.charCodeAt(l),s,r);return new Uint8Array(t)}function o2(n){const t=[];return a2(n,s=>t.push(s)),new Uint8Array(t)}function hs(n){const t=[],s={queue:0,queuedBits:0},r=l=>{t.push(l)};return n.forEach(l=>eb(l,s,r)),eb(null,s,r),t.join("")}function l2(n){return Math.round(Date.now()/1e3)+n}function c2(){return Symbol("auth-callback")}const Tt=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},__=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function u2(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return s.searchParams.forEach((r,l)=>{t[l]=r}),t}const S_=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),h2=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ca=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},is=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Et=async(n,t)=>{await n.removeItem(t)};class ic{constructor(){this.promise=new ic.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}ic.promiseConstructor=Promise;function Kh(n){const t=n.split(".");if(t.length!==3)throw new jd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!JN.test(t[r]))throw new jd("JWT not in base64url format");return{header:JSON.parse(tb(t[0])),payload:JSON.parse(tb(t[1])),signature:ba(t[2]),raw:{header:t[0],payload:t[1]}}}async function d2(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function f2(n,t){return new Promise((r,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!t(c,null,u)){r(u);return}}catch(u){if(!t(c,u)){l(u);return}}})()})}function m2(n){return("0"+n.toString(16)).substr(-2)}function p2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*r));return l}return crypto.getRandomValues(t),Array.from(t,m2).join("")}async function g2(n){const s=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(r);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function y2(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await g2(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function na(n,t,s=!1){const r=p2();let l=r;s&&(l+="/PASSWORD_RECOVERY"),await ca(n,`${t}-code-verifier`,l);const c=await y2(r);return[c,r===c?"plain":"s256"]}const v2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function b2(n){const t=n.headers.get(Cd);if(!t||!t.match(v2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function w2(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function _2(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const S2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ia(n){if(!S2.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x2(n,t){return new Proxy(n,{get:(s,r,l)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const c=r.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,l)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,r,l)}})}function nb(n){return JSON.parse(JSON.stringify(n))}const rs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),E2=[502,503,504];async function ib(n){var t;if(!h2(n))throw new Nd(rs(n),0);if(E2.includes(n.status))throw new Nd(rs(n),n.status);let s;try{s=await n.json()}catch(c){throw new ls(rs(c),c)}let r;const l=b2(n);if(l&&l.getTime()>=b_["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Zv(rs(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new Zv(rs(s),n.status,s.weak_password.reasons);throw new ZN(rs(s),n.status||500,r)}const T2=(n,t,s,r)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(r),Object.assign(Object.assign({},l),s))};async function ce(n,t,s,r){var l;const c=Object.assign({},r==null?void 0:r.headers);c[Cd]||(c[Cd]=b_["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const u=(l=r==null?void 0:r.query)!==null&&l!==void 0?l:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await A2(n,t,s+f,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function A2(n,t,s,r,l,c){const u=T2(t,r,l,c);let f;try{f=await n(s,Object.assign({},u))}catch(m){throw console.error(m),new Nd(rs(m),0)}if(f.ok||await ib(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(m){await ib(m)}}function bn(n){var t;let s=null;C2(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=l2(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:r},error:null}}function sb(n){const t=bn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Ci(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function O2(n){return{data:n,error:null}}function R2(n){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:l,verification_type:c}=n,u=tc(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:r,redirect_to:l,verification_type:c},m=Object.assign({},u);return{data:{properties:f,user:m},error:null}}function ab(n){return n}function C2(n){return n.access_token&&n.refresh_token&&n.expires_in}const Fh=["global","local","others"];class N2{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=S_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Fh[0]){if(Fh.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fh.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ci})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=tc(t,["options"]),l=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(l.new_email=r==null?void 0:r.newEmail,delete l.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:R2,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ci})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,l,c,u,f,m;try{const p={nextPage:null,lastPage:0,total:0},g=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:ab});if(g.error)throw g.error;const v=await g.json(),b=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(m=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(x=>{const A=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);p[`${C}Page`]=A}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ia(t);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ci})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){ia(t);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ci})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){ia(t);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ci})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ia(t.userId);try{const{data:s,error:r}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:r}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteFactor(t){ia(t.userId),ia(t.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,r,l,c,u,f,m;try{const p={nextPage:null,lastPage:0,total:0},g=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:ab});if(g.error)throw g.error;const v=await g.json(),b=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(m=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(x=>{const A=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);p[`${C}Page`]=A}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}}function rb(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const sa={debug:!!(globalThis&&__()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class x_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class j2 extends x_{}async function k2(n,t,s){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async l=>{if(l){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await s()}finally{sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new j2(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(sa.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function D2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function E_(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function M2(n){return parseInt(n,16)}function U2(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function z2(n){var t;const{chainId:s,domain:r,expirationTime:l,issuedAt:c=new Date,nonce:u,notBefore:f,requestId:m,resources:p,scheme:g,uri:v,version:b}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const S=E_(n.address),x=g?`${g}://${r}`:r,A=n.statement?`${n.statement}
`:"",C=`${x} wants you to sign in with your Ethereum account:
${S}

${A}`;let D=`URI: ${v}
Version: ${b}
Chain ID: ${s}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(l&&(D+=`
Expiration Time: ${l.toISOString()}`),f&&(D+=`
Not Before: ${f.toISOString()}`),m&&(D+=`
Request ID: ${m}`),p){let L=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);L+=`
- ${N}`}D+=L}return`${C}
${D}`}class ut extends Error{constructor({message:t,code:s,cause:r,name:l}){var c;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=l??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Kl extends ut{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function L2({error:n,options:t}){var s,r,l;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(T_(u)){if(c.rp.id!==u)return new ut({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function B2({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(T_(r)){if(s.rpId!==r)return new ut({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class I2{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const V2=new I2;function P2(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:r}=n,l=tc(n,["challenge","user","excludeCredentials"]),c=ba(t).buffer,u=Object.assign(Object.assign({},s),{id:ba(s.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:c,user:u});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const p=r[m];f.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:ba(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function H2(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,r=tc(n,["challenge","allowCredentials"]),l=ba(t).buffer,c=Object.assign(Object.assign({},r),{challenge:l});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const f=s[u];c.allowCredentials[u]=Object.assign(Object.assign({},f),{id:ba(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function q2(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:hs(new Uint8Array(n.response.attestationObject)),clientDataJSON:hs(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $2(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,r=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:hs(new Uint8Array(l.authenticatorData)),clientDataJSON:hs(new Uint8Array(l.clientDataJSON)),signature:hs(new Uint8Array(l.signature)),userHandle:l.userHandle?hs(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function T_(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function ob(){var n,t;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function G2(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kl("Browser returned unexpected credential type",t)}:{data:null,error:new Kl("Empty credential response",t)}}catch(t){return{data:null,error:L2({error:t,options:n})}}}async function K2(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kl("Browser returned unexpected credential type",t)}:{data:null,error:new Kl("Empty credential response",t)}}catch(t){return{data:null,error:B2({error:t,options:n})}}}const Y2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},F2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yl(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),r={};for(const l of n)if(l)for(const c in l){const u=l[c];if(u!==void 0)if(Array.isArray(u))r[c]=u;else if(s(u))r[c]=u;else if(t(u)){const f=r[c];t(f)?r[c]=Yl(f,u):r[c]=Yl(u)}else r[c]=u}return r}function X2(n,t){return Yl(Y2,n,t||{})}function J2(n,t){return Yl(F2,n,t||{})}class Q2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:r,signal:l},c){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!u)return{data:null,error:f};const m=l??V2.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=X2(u.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:g,error:v}=await G2({publicKey:p,signal:m});return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=J2(u.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:g,error:v}=await K2(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:m}));return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new ls("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new Gr("rpId is required for WebAuthn authentication")};try{if(!ob())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:r},signal:l},{request:c});if(!u)return{data:null,error:f};const{webauthn:m}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:r,credential_response:m.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new ls("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new Gr("rpId is required for WebAuthn registration")};try{if(!ob())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:f};const{data:m,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:l},{create:c});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new ls("Unexpected error in register",u)}}}}D2();const Z2={url:YN,storageKey:FN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function lb(n,t,s){return await s()}const aa={};class Kr{get jwks(){var t,s;return(s=(t=aa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){aa[this.storageKey]=Object.assign(Object.assign({},aa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=aa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){aa[this.storageKey]=Object.assign(Object.assign({},aa[this.storageKey]),{cachedAt:t})}constructor(t){var s,r,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Z2),t);if(this.storageKey=c.storageKey,this.instanceID=(s=Kr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Kr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Tt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new N2({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=S_(c.fetch),this.lock=c.lock||lb,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=k2:this.lock=lb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Q2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:__()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rb(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=rb(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${v_}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},r="none";if(Tt()&&(s=u2(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),Tt()&&this.detectSessionInUrl&&r!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),t2(c)){const m=(t=c.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ae(s)?this._returnResult({error:s}):this._returnResult({error:new ls("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,l;try{const c=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:bn}),{data:u,error:f}=c;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var s,r,l;try{let c;if("email"in t){const{email:g,password:v,options:b}=t;let S=null,x=null;this.flowType==="pkce"&&([S,x]=await na(this.storage,this.storageKey)),c=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:g,password:v,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:S,code_challenge_method:x},xform:bn})}else if("phone"in t){const{phone:g,password:v,options:b}=t;c=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(l=b==null?void 0:b.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:bn})}else throw new Al("You must provide either an email or phone number and a password");const{data:u,error:f}=c;if(f||!u)return await Et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(await Et(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let s;if("email"in t){const{email:c,password:u,options:f}=t;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sb})}else if("phone"in t){const{phone:c,password:u,options:f}=t;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sb})}else throw new Al("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!r||!r.session||!r.user){const c=new ta;return this._returnResult({data:{user:null,session:null},error:c})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:l})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,r,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,r,l,c,u,f,m,p,g,v,b;let S,x;if("message"in t)S=t.message,x=t.signature;else{const{chain:A,wallet:C,statement:D,options:L}=t;let N;if(Tt())if(typeof C=="object")N=C;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")N=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=C}const K=new URL((s=L==null?void 0:L.url)!==null&&s!==void 0?s:window.location.href),X=await N.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=E_(X[0]);let $=(r=L==null?void 0:L.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const ee=await N.request({method:"eth_chainId"});$=M2(ee)}const B={domain:K.host,address:J,statement:D,uri:K.href,version:"1",chainId:$,nonce:(l=L==null?void 0:L.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(c=L==null?void 0:L.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=L==null?void 0:L.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=L==null?void 0:L.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=L==null?void 0:L.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=z2(B),x=await N.request({method:"personal_sign",params:[U2(S),J]})}try{const{data:A,error:C}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:x},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:bn});if(C)throw C;if(!A||!A.session||!A.user){const D=new ta;return this._returnResult({data:{user:null,session:null},error:D})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:C})}catch(A){if(ae(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(t){var s,r,l,c,u,f,m,p,g,v,b,S;let x,A;if("message"in t)x=t.message,A=t.signature;else{const{chain:C,wallet:D,statement:L,options:N}=t;let K;if(Tt())if(typeof D=="object")K=D;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))K=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=D}const X=new URL((s=N==null?void 0:N.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in K&&K.signIn){const J=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),L?{statement:L}:null));let $;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")$=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)$=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)x=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),A=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${X.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(l=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(g=N==null?void 0:N.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const J=await K.signMessage(new TextEncoder().encode(x),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=J}}try{const{data:C,error:D}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:hs(A)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:bn});if(D)throw D;if(!C||!C.session||!C.user){const L=new ta;return this._returnResult({data:{user:null,session:null},error:L})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:D})}catch(C){if(ae(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(t){const s=await is(this.storage,`${this.storageKey}-code-verifier`),[r,l]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new n2;const{data:c,error:u}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:bn});if(await Et(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const f=new ta;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:u})}catch(c){if(await Et(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:s,provider:r,token:l,access_token:c,nonce:u}=t,f=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:l,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:bn}),{data:m,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const g=new ta;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,r,l,c,u;try{if("email"in t){const{email:f,options:m}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await na(this.storage,this.storageKey));const{error:v}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:f,options:m}=t,{data:p,error:g}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g})}throw new Al("You must provide either an email or phone number.")}catch(f){if(await Et(this.storage,`${this.storageKey}-code-verifier`),ae(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,r;try{let l,c;"options"in t&&(l=(s=t.options)===null||s===void 0?void 0:s.redirectTo,c=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:f}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:bn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,p=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var s,r,l,c,u;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await na(this.storage,this.storageKey));const p=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:O2});return!((c=p.data)===null||c===void 0)&&c.url&&Tt()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await Et(this.storage,`${this.storageKey}-code-verifier`),ae(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Qt;const{error:l}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:l,options:c}=t,{error:u}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:r,type:l,options:c}=t,{data:u,error:f}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new Al("You must provide either an email or phone number and a type")}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<$h:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const u=await is(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=Yh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=x2(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ci}):await this._useSession(async s=>{var r,l,c;const{data:u,error:f}=s;if(f)throw f;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Ci})})}catch(s){if(ae(s))return e2(s)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:l,error:c}=r;if(c)throw c;if(!l.session)throw new Qt;const u=l.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await na(this.storage,this.storageKey));const{data:p,error:g}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:u.access_token,xform:Ci});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(await Et(this.storage,`${this.storageKey}-code-verifier`),ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qt;const s=Date.now()/1e3;let r=s,l=!0,c=null;const{payload:u}=Kh(t.access_token);if(u.exp&&(r=u.exp,l=r<=s),l){const{data:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:u,error:f}=s;if(f)throw f;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Qt;const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!Tt())throw new Ol("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ol(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Qv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ol("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qv("No code detected.");const{data:L,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:l,access_token:c,refresh_token:u,expires_in:f,expires_at:m,token_type:p}=t;if(!c||!f||!u||!p)throw new Ol("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(f);let b=g+v;m&&(b=parseInt(m));const S=b-g;S*1e3<=la&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const x=b-v;g-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,b,g):g-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,b,g);const{data:A,error:C}=await this._getUser(c);if(C)throw C;const D={provider_token:r,provider_refresh_token:l,access_token:c,expires_in:v,expires_at:b,refresh_token:u,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:t.type},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:l,error:c}=s;if(c)return this._returnResult({error:c});const u=(r=l.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:f}=await this.admin.signOut(u,t);if(f&&!(WN(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=c2(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,l;try{const{data:{session:c},error:u}=s;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,s={}){let r=null,l=null;this.flowType==="pkce"&&([r,l]=await na(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await Et(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:r,error:l}=await this._useSession(async c=>{var u,f,m,p,g;const{data:v,error:b}=c;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Tt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ae(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var r;try{const{error:l,data:{session:c}}=s;if(l)throw l;const{options:u,provider:f,token:m,access_token:p,nonce:g}=t,v=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c==null?void 0:c.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:m,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:bn}),{data:b,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ta}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(l){if(await Et(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,l;const{data:c,error:u}=s;if(u)throw u;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await f2(async l=>(l>0&&await d2(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bn})),(l,c)=>{const u=200*Math.pow(2,l);return c&&Gh(c)&&Date.now()+u-r<la})}catch(r){if(this._debug(s,"error",r),ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),Tt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const l=await is(this.storage,this.storageKey);if(l&&this.userStorage){let u=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await ca(this.userStorage,this.storageKey+"-user",u)),l.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:Yh()}else if(l&&!l.user&&!l.user){const u=await is(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(l.user=u.user,await Et(this.storage,this.storageKey+"-user"),await ca(this.storage,this.storageKey,l)):l.user=Yh()}if(this._debug(r,"session from storage",l),!this._isValidSession(l)){this._debug(r,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<$h;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${$h}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),Gh(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(l.access_token);!f&&(u!=null&&u.user)?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(r,"error",l),console.error(l);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new ic;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new Qt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),ae(c)){const u={data:null,error:c};return Gh(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,s,r=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Et(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await ca(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=nb(l);await ca(this.storage,this.storageKey,c)}else{const l=nb(s);await ca(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),la);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((r.expires_at*1e3-t)/la);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${la}ms, refresh threshold is ${Rd} ticks`),l<=Rd&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof x_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const l=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&l.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&l.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,u]=await na(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(f.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);l.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&l.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:l,error:c}=s;return c?this._returnResult({data:null,error:c}):await ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,l;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:p}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?q2(t.webauthn.credential_response):$2(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:m}=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const u=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:P2(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:H2(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:r},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Kh(r.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((s=(t=r.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:r},error:l}=s;return l?this._returnResult({data:null,error:l}):r?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Qt});const u=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Qt});const u=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:r},error:l}=s;return l?this._returnResult({data:null,error:l}):r?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(f=>f.kid===t);if(r)return r;const l=Date.now();if(r=this.jwks.keys.find(f=>f.kid===t),r&&this.jwks_cached_at+QN>l)return r;const{data:c,error:u}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,r=c.keys.find(f=>f.kid===t),!r)?null:r}async getClaims(t,s={}){try{let r=t;if(!r){const{data:S,error:x}=await this.getSession();if(x||!S.session)return this._returnResult({data:null,error:x});r=S.session.access_token}const{header:l,payload:c,signature:u,raw:{header:f,payload:m}}=Kh(r);s!=null&&s.allowExpired||w2(c.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!p){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:c,header:l,signature:u},error:null}}const g=_2(l.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,o2(`${f}.${m}`)))throw new jd("Invalid JWT signature");return{data:{claims:c,header:l,signature:u},error:null}}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}}Kr.nextInstanceID={};const W2=Kr,ej="2.89.0";let Ar="";typeof Deno<"u"?Ar="deno":typeof document<"u"?Ar="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ar="react-native":Ar="node";const tj={"X-Client-Info":`supabase-js-${Ar}/${ej}`},nj={headers:tj},ij={schema:"public"},sj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aj={};function Yr(n){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(n)}function rj(n,t){if(Yr(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,t);if(Yr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function oj(n){var t=rj(n,"string");return Yr(t)=="symbol"?t:t+""}function lj(n,t,s){return(t=oj(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function cb(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,r)}return s}function et(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(s),!0).forEach(function(r){lj(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):cb(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}const cj=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),uj=()=>Headers,hj=(n,t,s)=>{const r=cj(s),l=uj();return async(c,u)=>{var f;const m=(f=await t())!==null&&f!==void 0?f:n;let p=new l(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),r(c,et(et({},u),{},{headers:p}))}};function dj(n){return n.endsWith("/")?n:n+"/"}function fj(n,t){var s,r;const{db:l,auth:c,realtime:u,global:f}=n,{db:m,auth:p,realtime:g,global:v}=t,b={db:et(et({},m),l),auth:et(et({},p),c),realtime:et(et({},g),u),storage:{},global:et(et(et({},v),f),{},{headers:et(et({},(s=v==null?void 0:v.headers)!==null&&s!==void 0?s:{}),(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function mj(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var pj=class extends W2{constructor(n){super(n)}},gj=class{constructor(n,t,s){var r,l;this.supabaseUrl=n,this.supabaseKey=t;const c=mj(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:ij,realtime:aj,auth:et(et({},sj),{},{storageKey:u}),global:nj},m=fj(s??{},f);if(this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=hj(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(et({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new XC(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new KN(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new $C(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,s)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,s;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(t=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:l,storageKey:c,flowType:u,lock:f,debug:m,throwOnError:p},g,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pj({url:this.authUrl.href,headers:et(et({},b),g),storageKey:c,autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:l,flowType:u,lock:f,debug:m,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new dN(this.realtimeUrl.href,et(et({},n),{},{params:et(et({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(n,t,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yj=(n,t,s)=>new gj(n,t,s);function vj(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}vj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function bj(n,t){if(t.length===0)return`Receipt from ${new Date().toLocaleDateString()} - No assignments`;const s=new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),l=[...new Set(t.map(u=>u.personName))].join(", "),c=t.map(u=>{const f=u.itemIds.map(m=>{var p;return(p=n.items.find(g=>g.id===m))==null?void 0:p.name}).filter(Boolean);return f.length===0?null:f.length>3?`${u.personName}: ${f.slice(0,2).join(", ")} +${f.length-2} more`:`${u.personName}: ${f.join(", ")}`}).filter(Boolean);return c.length===0?`${s} - ${l}`:`${s} - ${c.join(" | ")}`}const wj="https://mqwcuvobjhzjpyhveqvf.supabase.co",_j="sb_publishable_XelOTOEG0ZAdTQwD4uqlww_1FNnHg5B",A_=yj(wj,_j),O_="splitsmart",Sj=async(n,t,s)=>{const r=bj(t,s),{data:l,error:c}=await A_.from("receipts").insert({user_id:n,app_id:O_,total:t.total,currency:t.currency,items:t.items,assignments:s,tax:t.tax,tip:t.tip,note:r}).select().single();if(c)throw c;return l},xj=async n=>{const{data:t,error:s}=await A_.from("receipts").select("*").eq("app_id",O_).order("created_at",{ascending:!1});if(s)throw s;return t};var Ni;(function(n){n.Prompt="PROMPT",n.Camera="CAMERA",n.Photos="PHOTOS"})(Ni||(Ni={}));var Mr;(function(n){n.Rear="REAR",n.Front="FRONT"})(Mr||(Mr={}));var Fl;(function(n){n.Uri="uri",n.Base64="base64",n.DataUrl="dataUrl"})(Fl||(Fl={}));class Ej extends ec{async getPhoto(t){return new Promise(async(s,r)=>{if(t.webUseInput||t.source===Ni.Photos)this.fileInputExperience(t,s,r);else if(t.source===Ni.Prompt){let l=document.querySelector("pwa-action-sheet");l||(l=document.createElement("pwa-action-sheet"),document.body.appendChild(l)),l.header=t.promptLabelHeader||"Photo",l.cancelable=!1,l.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],l.addEventListener("onSelection",async c=>{c.detail===0?this.fileInputExperience(t,s,r):this.cameraExperience(t,s,r)})}else this.cameraExperience(t,s,r)})}async pickImages(t){return new Promise(async(s,r)=>{this.multipleFileInputExperience(s,r)})}async cameraExperience(t,s,r){if(customElements.get("pwa-camera-modal")){const l=document.createElement("pwa-camera-modal");l.facingMode=t.direction===Mr.Front?"user":"environment",document.body.appendChild(l);try{await l.componentOnReady(),l.addEventListener("onPhoto",async c=>{const u=c.detail;u===null?r(new ya("User cancelled photos app")):u instanceof Error?r(u):s(await this._getCameraPhoto(u,t)),l.dismiss(),document.body.removeChild(l)}),l.present()}catch{this.fileInputExperience(t,s,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,s,r)}fileInputExperience(t,s,r){let l=document.querySelector("#_capacitor-camera-input");const c=()=>{var u;(u=l.parentNode)===null||u===void 0||u.removeChild(l)};l||(l=document.createElement("input"),l.id="_capacitor-camera-input",l.type="file",l.hidden=!0,document.body.appendChild(l),l.addEventListener("change",u=>{const f=l.files[0];let m="jpeg";if(f.type==="image/png"?m="png":f.type==="image/gif"&&(m="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const p=new FileReader;p.addEventListener("load",()=>{if(t.resultType==="dataUrl")s({dataUrl:p.result,format:m});else if(t.resultType==="base64"){const g=p.result.split(",")[1];s({base64String:g,format:m})}c()}),p.readAsDataURL(f)}else s({webPath:URL.createObjectURL(f),format:m}),c()}),l.addEventListener("cancel",u=>{r(new ya("User cancelled photos app")),c()})),l.accept="image/*",l.capture=!0,t.source===Ni.Photos||t.source===Ni.Prompt?l.removeAttribute("capture"):t.direction===Mr.Front?l.capture="user":t.direction===Mr.Rear&&(l.capture="environment"),l.click()}multipleFileInputExperience(t,s){let r=document.querySelector("#_capacitor-camera-input-multiple");const l=()=>{var c;(c=r.parentNode)===null||c===void 0||c.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",c=>{const u=[];for(let f=0;f<r.files.length;f++){const m=r.files[f];let p="jpeg";m.type==="image/png"?p="png":m.type==="image/gif"&&(p="gif"),u.push({webPath:URL.createObjectURL(m),format:p})}t({photos:u}),l()}),r.addEventListener("cancel",c=>{s(new ya("User cancelled photos app")),l()})),r.accept="image/*",r.click()}_getCameraPhoto(t,s){return new Promise((r,l)=>{const c=new FileReader,u=t.type.split("/")[1];s.resultType==="uri"?r({webPath:URL.createObjectURL(t),format:u,saved:!1}):(c.readAsDataURL(t),c.onloadend=()=>{const f=c.result;s.resultType==="dataUrl"?r({dataUrl:f,format:u,saved:!1}):r({base64String:f.split(",")[1],format:u,saved:!1})},c.onerror=f=>{l(f)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const ub=Ui("Camera",{web:()=>new Ej});var kd;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(kd||(kd={}));var hb;(function(n){n.None="NONE",n.Slide="SLIDE",n.Fade="FADE"})(hb||(hb={}));const Tj=Ui("StatusBar");function R_(n){var t,s,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var l=n.length;for(t=0;t<l;t++)n[t]&&(s=R_(n[t]))&&(r&&(r+=" "),r+=s)}else for(s in n)n[s]&&(r&&(r+=" "),r+=s);return r}function Aj(){for(var n,t,s=0,r="",l=arguments.length;s<l;s++)(n=arguments[s])&&(t=R_(n))&&(r&&(r+=" "),r+=t);return r}const Oj=(n,t)=>{const s=new Array(n.length+t.length);for(let r=0;r<n.length;r++)s[r]=n[r];for(let r=0;r<t.length;r++)s[n.length+r]=t[r];return s},Rj=(n,t)=>({classGroupId:n,validator:t}),C_=(n=new Map,t=null,s)=>({nextPart:n,validators:t,classGroupId:s}),Xl="-",db=[],Cj="arbitrary..",Nj=n=>{const t=kj(n),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return jj(u);const f=u.split(Xl),m=f[0]===""&&f.length>1?1:0;return N_(f,m,t)},getConflictingClassGroupIds:(u,f)=>{if(f){const m=r[u],p=s[u];return m?p?Oj(p,m):m:p||db}return s[u]||db}}},N_=(n,t,s)=>{if(n.length-t===0)return s.classGroupId;const l=n[t],c=s.nextPart.get(l);if(c){const p=N_(n,t+1,c);if(p)return p}const u=s.validators;if(u===null)return;const f=t===0?n.join(Xl):n.slice(t).join(Xl),m=u.length;for(let p=0;p<m;p++){const g=u[p];if(g.validator(f))return g.classGroupId}},jj=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=n.slice(1,-1),s=t.indexOf(":"),r=t.slice(0,s);return r?Cj+r:void 0})(),kj=n=>{const{theme:t,classGroups:s}=n;return Dj(s,t)},Dj=(n,t)=>{const s=C_();for(const r in n){const l=n[r];Ef(l,s,r,t)}return s},Ef=(n,t,s,r)=>{const l=n.length;for(let c=0;c<l;c++){const u=n[c];Mj(u,t,s,r)}},Mj=(n,t,s,r)=>{if(typeof n=="string"){Uj(n,t,s);return}if(typeof n=="function"){zj(n,t,s,r);return}Lj(n,t,s,r)},Uj=(n,t,s)=>{const r=n===""?t:j_(t,n);r.classGroupId=s},zj=(n,t,s,r)=>{if(Bj(n)){Ef(n(r),t,s,r);return}t.validators===null&&(t.validators=[]),t.validators.push(Rj(s,n))},Lj=(n,t,s,r)=>{const l=Object.entries(n),c=l.length;for(let u=0;u<c;u++){const[f,m]=l[u];Ef(m,j_(t,f),s,r)}},j_=(n,t)=>{let s=n;const r=t.split(Xl),l=r.length;for(let c=0;c<l;c++){const u=r[c];let f=s.nextPart.get(u);f||(f=C_(),s.nextPart.set(u,f)),s=f}return s},Bj=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,Ij=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,s=Object.create(null),r=Object.create(null);const l=(c,u)=>{s[c]=u,t++,t>n&&(t=0,r=s,s=Object.create(null))};return{get(c){let u=s[c];if(u!==void 0)return u;if((u=r[c])!==void 0)return l(c,u),u},set(c,u){c in s?s[c]=u:l(c,u)}}},Dd="!",fb=":",Vj=[],mb=(n,t,s,r,l)=>({modifiers:n,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:r,isExternal:l}),Pj=n=>{const{prefix:t,experimentalParseClassName:s}=n;let r=l=>{const c=[];let u=0,f=0,m=0,p;const g=l.length;for(let A=0;A<g;A++){const C=l[A];if(u===0&&f===0){if(C===fb){c.push(l.slice(m,A)),m=A+1;continue}if(C==="/"){p=A;continue}}C==="["?u++:C==="]"?u--:C==="("?f++:C===")"&&f--}const v=c.length===0?l:l.slice(m);let b=v,S=!1;v.endsWith(Dd)?(b=v.slice(0,-1),S=!0):v.startsWith(Dd)&&(b=v.slice(1),S=!0);const x=p&&p>m?p-m:void 0;return mb(c,S,b,x)};if(t){const l=t+fb,c=r;r=u=>u.startsWith(l)?c(u.slice(l.length)):mb(Vj,!1,u,void 0,!0)}if(s){const l=r;r=c=>s({className:c,parseClassName:l})}return r},Hj=n=>{const t=new Map;return n.orderSensitiveModifiers.forEach((s,r)=>{t.set(s,1e6+r)}),s=>{const r=[];let l=[];for(let c=0;c<s.length;c++){const u=s[c],f=u[0]==="[",m=t.has(u);f||m?(l.length>0&&(l.sort(),r.push(...l),l=[]),r.push(u)):l.push(u)}return l.length>0&&(l.sort(),r.push(...l)),r}},qj=n=>({cache:Ij(n.cacheSize),parseClassName:Pj(n),sortModifiers:Hj(n),...Nj(n)}),$j=/\s+/,Gj=(n,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:l,sortModifiers:c}=t,u=[],f=n.trim().split($j);let m="";for(let p=f.length-1;p>=0;p-=1){const g=f[p],{isExternal:v,modifiers:b,hasImportantModifier:S,baseClassName:x,maybePostfixModifierPosition:A}=s(g);if(v){m=g+(m.length>0?" "+m:m);continue}let C=!!A,D=r(C?x.substring(0,A):x);if(!D){if(!C){m=g+(m.length>0?" "+m:m);continue}if(D=r(x),!D){m=g+(m.length>0?" "+m:m);continue}C=!1}const L=b.length===0?"":b.length===1?b[0]:c(b).join(":"),N=S?L+Dd:L,K=N+D;if(u.indexOf(K)>-1)continue;u.push(K);const X=l(D,C);for(let J=0;J<X.length;++J){const $=X[J];u.push(N+$)}m=g+(m.length>0?" "+m:m)}return m},Kj=(...n)=>{let t=0,s,r,l="";for(;t<n.length;)(s=n[t++])&&(r=k_(s))&&(l&&(l+=" "),l+=r);return l},k_=n=>{if(typeof n=="string")return n;let t,s="";for(let r=0;r<n.length;r++)n[r]&&(t=k_(n[r]))&&(s&&(s+=" "),s+=t);return s},Yj=(n,...t)=>{let s,r,l,c;const u=m=>{const p=t.reduce((g,v)=>v(g),n());return s=qj(p),r=s.cache.get,l=s.cache.set,c=f,f(m)},f=m=>{const p=r(m);if(p)return p;const g=Gj(m,s);return l(m,g),g};return c=u,(...m)=>c(Kj(...m))},Fj=[],ft=n=>{const t=s=>s[n]||Fj;return t.isThemeGetter=!0,t},D_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,M_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Xj=/^\d+\/\d+$/,Jj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Wj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ek=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ra=n=>Xj.test(n),_e=n=>!!n&&!Number.isNaN(Number(n)),xi=n=>!!n&&Number.isInteger(Number(n)),Xh=n=>n.endsWith("%")&&_e(n.slice(0,-1)),Yn=n=>Jj.test(n),tk=()=>!0,nk=n=>Qj.test(n)&&!Zj.test(n),U_=()=>!1,ik=n=>Wj.test(n),sk=n=>ek.test(n),ak=n=>!ne(n)&&!ie(n),rk=n=>Aa(n,B_,U_),ne=n=>D_.test(n),ss=n=>Aa(n,I_,nk),Jh=n=>Aa(n,hk,_e),pb=n=>Aa(n,z_,U_),ok=n=>Aa(n,L_,sk),Rl=n=>Aa(n,V_,ik),ie=n=>M_.test(n),xr=n=>Oa(n,I_),lk=n=>Oa(n,dk),gb=n=>Oa(n,z_),ck=n=>Oa(n,B_),uk=n=>Oa(n,L_),Cl=n=>Oa(n,V_,!0),Aa=(n,t,s)=>{const r=D_.exec(n);return r?r[1]?t(r[1]):s(r[2]):!1},Oa=(n,t,s=!1)=>{const r=M_.exec(n);return r?r[1]?t(r[1]):s:!1},z_=n=>n==="position"||n==="percentage",L_=n=>n==="image"||n==="url",B_=n=>n==="length"||n==="size"||n==="bg-size",I_=n=>n==="length",hk=n=>n==="number",dk=n=>n==="family-name",V_=n=>n==="shadow",fk=()=>{const n=ft("color"),t=ft("font"),s=ft("text"),r=ft("font-weight"),l=ft("tracking"),c=ft("leading"),u=ft("breakpoint"),f=ft("container"),m=ft("spacing"),p=ft("radius"),g=ft("shadow"),v=ft("inset-shadow"),b=ft("text-shadow"),S=ft("drop-shadow"),x=ft("blur"),A=ft("perspective"),C=ft("aspect"),D=ft("ease"),L=ft("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...K(),ie,ne],J=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],B=()=>[ie,ne,m],ee=()=>[ra,"full","auto",...B()],Se=()=>[xi,"none","subgrid",ie,ne],Oe=()=>["auto",{span:["full",xi,ie,ne]},xi,ie,ne],Ce=()=>[xi,"auto",ie,ne],Le=()=>["auto","min","max","fr",ie,ne],Ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],De=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...B()],G=()=>[ra,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],q=()=>[n,ie,ne],ve=()=>[...K(),gb,pb,{position:[ie,ne]}],we=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",ck,rk,{size:[ie,ne]}],P=()=>[Xh,xr,ss],Q=()=>["","none","full",p,ie,ne],Z=()=>["",_e,xr,ss],he=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[_e,Xh,gb,pb],at=()=>["","none",x,ie,ne],Y=()=>["none",_e,ie,ne],fe=()=>["none",_e,ie,ne],Pe=()=>[_e,ie,ne],me=()=>[ra,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Yn],breakpoint:[Yn],color:[tk],container:[Yn],"drop-shadow":[Yn],ease:["in","out","in-out"],font:[ak],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Yn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Yn],shadow:[Yn],spacing:["px",_e],text:[Yn],"text-shadow":[Yn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ra,ne,ie,C]}],container:["container"],columns:[{columns:[_e,ne,ie,f]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",ie,ne]}],basis:[{basis:[ra,"full","auto",f,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,ra,"auto","initial","none",ne]}],grow:[{grow:["",_e,ie,ne]}],shrink:[{shrink:["",_e,ie,ne]}],order:[{order:[xi,"first","last","none",ie,ne]}],"grid-cols":[{"grid-cols":Se()}],"col-start-end":[{col:Oe()}],"col-start":[{"col-start":Ce()}],"col-end":[{"col-end":Ce()}],"grid-rows":[{"grid-rows":Se()}],"row-start-end":[{row:Oe()}],"row-start":[{"row-start":Ce()}],"row-end":[{"row-end":Ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Le()}],"auto-rows":[{"auto-rows":Le()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...Ye(),"normal"]}],"justify-items":[{"justify-items":[...De(),"normal"]}],"justify-self":[{"justify-self":["auto",...De()]}],"align-content":[{content:["normal",...Ye()]}],"align-items":[{items:[...De(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...De(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ye()}],"place-items":[{"place-items":[...De(),"baseline"]}],"place-self":[{"place-self":["auto",...De()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[f,"screen",...G()]}],"min-w":[{"min-w":[f,"screen","none",...G()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",s,xr,ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ie,Jh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xh,ne]}],"font-family":[{font:[lk,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,ie,ne]}],"line-clamp":[{"line-clamp":[_e,"none",ie,Jh]}],leading:[{leading:[c,...B()]}],"list-image":[{"list-image":["none",ie,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ie,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",ie,ss]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[_e,"auto",ie,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:we()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,ie,ne],radial:["",ie,ne],conic:[xi,ie,ne]},uk,ok]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_e,ie,ne]}],"outline-w":[{outline:["",_e,xr,ss]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",g,Cl,Rl]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",v,Cl,Rl]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[_e,ss]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",b,Cl,Rl]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[_e,ie,ne]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[ie,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:we()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ie,ne]}],filter:[{filter:["","none",ie,ne]}],blur:[{blur:at()}],brightness:[{brightness:[_e,ie,ne]}],contrast:[{contrast:[_e,ie,ne]}],"drop-shadow":[{"drop-shadow":["","none",S,Cl,Rl]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",_e,ie,ne]}],"hue-rotate":[{"hue-rotate":[_e,ie,ne]}],invert:[{invert:["",_e,ie,ne]}],saturate:[{saturate:[_e,ie,ne]}],sepia:[{sepia:["",_e,ie,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",ie,ne]}],"backdrop-blur":[{"backdrop-blur":at()}],"backdrop-brightness":[{"backdrop-brightness":[_e,ie,ne]}],"backdrop-contrast":[{"backdrop-contrast":[_e,ie,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,ie,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,ie,ne]}],"backdrop-invert":[{"backdrop-invert":["",_e,ie,ne]}],"backdrop-opacity":[{"backdrop-opacity":[_e,ie,ne]}],"backdrop-saturate":[{"backdrop-saturate":[_e,ie,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,ie,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ie,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",ie,ne]}],ease:[{ease:["linear","initial",D,ie,ne]}],delay:[{delay:[_e,ie,ne]}],animate:[{animate:["none",L,ie,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,ie,ne]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[ie,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie,ne]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[_e,xr,ss,Jh]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mk=Yj(fk);function yb(...n){return mk(Aj(n))}const pk=()=>{const[n,t]=F.useState(null),[s,r]=F.useState([]),[l,c]=F.useState(!1),[u,f]=F.useState([]),[m,p]=F.useState({}),[g,v]=F.useState("receipt"),[b,S]=F.useState([]),[x,A]=F.useState(!1),[C,D]=F.useState(!1),[L,N]=F.useState(!1),[K,X]=F.useState(!1),[J,$]=F.useState(!1),[B,ee]=F.useState(!1),[Se,Oe]=F.useState(!1),[Ce,Le]=F.useState(!1);F.useEffect(()=>{Tj.setStyle({style:kd.Light}),Ye(),va.initialize("appl_voSnSCxLyWsXuqaGqeIuvgNMRZAVITE_GEMINI_API_KEY=AIzaSyBeC7QFc51Dq22QF2RxGqUZejvRC5IONIs").then(()=>{va.checkSubscriptionStatus().then(fe=>D(fe))})},[]);const Ye=async()=>{try{const Y=await xj();S(Y),!C&&Y.length===3&&!localStorage.getItem("proPromptShown")&&($(!0),localStorage.setItem("proPromptShown","true"))}catch(Y){console.error("Failed to load history",Y)}},De=F.useCallback(()=>{if(!n)return;const Y={},fe={};s.forEach(me=>{me.itemIds.forEach(W=>{fe[W]||(fe[W]=[]),fe[W].includes(me.personName)||fe[W].push(me.personName)})});const Pe=n.items.reduce((me,W)=>me+W.price*W.quantity,0);s.forEach(me=>{Y[me.personName]||(Y[me.personName]={subtotal:0,tax:0,tip:0,total:0,items:[]})}),Object.entries(fe).forEach(([me,W])=>{const Me=n.items.find(Ot=>Ot.id===me);if(Me&&W.length>0){const Ot=Me.price*Me.quantity/W.length;W.forEach(mn=>{Y[mn]&&(Y[mn].subtotal+=Ot,Y[mn].items.push({itemName:Me.name,sharedWithCount:W.length,individualCost:Ot}))})}}),Object.keys(Y).forEach(me=>{const W=Pe>0?Y[me].subtotal/Pe:0;Y[me].tax=n.tax*W,Y[me].tip=(n.tip||0)*W,Y[me].total=Y[me].subtotal+Y[me].tax+Y[me].tip}),p(Y)},[n,s]);F.useEffect(()=>{De()},[De]);const U=async(Y=vt.Medium)=>{try{await vf.impact({style:Y})}catch{}},G=async Y=>{c(!0),await U(vt.Heavy);try{const fe=await jR(Y);t(fe),f([{id:Date.now().toString(),role:"assistant",content:`Receipt parsed! Total: ${fe.currency||""}${fe.total.toFixed(2)}. How should we split this?`,timestamp:Date.now()}]),await U(vt.Medium),v("receipt")}catch(fe){console.error("Error parsing receipt:",fe),alert("Failed to parse receipt. Please try again.")}finally{c(!1)}},q=async()=>{var Y,fe,Pe,me;await U(vt.Light),c(!0);try{const W=await ub.getPhoto({quality:90,allowEditing:!0,resultType:Fl.Base64,source:Ni.Camera});W.base64String&&await G(W.base64String)}catch(W){console.error("Camera error:",W),(Y=W==null?void 0:W.message)!=null&&Y.toLowerCase().includes("permission")||(fe=W==null?void 0:W.message)!=null&&fe.toLowerCase().includes("denied")||(Pe=W==null?void 0:W.message)!=null&&Pe.toLowerCase().includes("not authorized")?alert(` Camera access is required to scan receipts.

Please enable camera permissions in Settings > SplitSmart AI > Camera.`):(me=W==null?void 0:W.message)!=null&&me.toLowerCase().includes("cancel")||(W!=null&&W.message?alert(`Failed to open camera: ${W.message}

Please try again or use 'Upload from Gallery'.`):alert("Failed to open camera. Please try again or use 'Upload from Gallery'.")),c(!1)}},ve=async()=>{var Y,fe,Pe,me;await U(vt.Light),c(!0);try{const W=await ub.getPhoto({quality:90,allowEditing:!1,resultType:Fl.Base64,source:Ni.Photos});W.base64String&&await G(W.base64String)}catch(W){console.error("Gallery error:",W),(Y=W==null?void 0:W.message)!=null&&Y.toLowerCase().includes("permission")||(fe=W==null?void 0:W.message)!=null&&fe.toLowerCase().includes("denied")||(Pe=W==null?void 0:W.message)!=null&&Pe.toLowerCase().includes("not authorized")?alert(` Photo library access is required to upload receipts.

Please enable photo permissions in Settings > SplitSmart AI > Photos.`):(me=W==null?void 0:W.message)!=null&&me.toLowerCase().includes("cancel")||(W!=null&&W.message?alert(`Failed to access photo library: ${W.message}

Please try again.`):alert("Failed to access photo library. Please try again.")),c(!1)}},we=(Y,fe)=>{r(Pe=>{const me=JSON.parse(JSON.stringify(Pe));let W=me.find(Me=>Me.personName.toLowerCase()===fe.toLowerCase());return W?W.itemIds.includes(Y)||W.itemIds.push(Y):(W={personName:fe,itemIds:[Y]},me.push(W)),me})},O=(Y,fe)=>{r(Pe=>{let me=JSON.parse(JSON.stringify(Pe));const W=me.find(Me=>Me.personName.toLowerCase()===fe.toLowerCase());return W&&(W.itemIds=W.itemIds.filter(Me=>Me!==Y),W.itemIds.length===0&&(me=me.filter(Me=>Me.personName.toLowerCase()!==fe.toLowerCase()))),me})},P=async Y=>{if(!n||!Y.trim())return;await U(vt.Light);const fe={id:Date.now().toString(),role:"user",content:Y,timestamp:Date.now()};f(Pe=>[...Pe,fe]);try{const Pe=await kR(Y,n.items,s);r(me=>{let W=JSON.parse(JSON.stringify(me));return Pe.forEach(Me=>{let Ot=W.find(mn=>mn.personName.toLowerCase()===Me.personName.toLowerCase());Ot||(Ot={personName:Me.personName,itemIds:[]},W.push(Ot)),Me.addItemIds&&(Ot.itemIds=Array.from(new Set([...Ot.itemIds,...Me.addItemIds]))),Me.removeItemIds&&(Ot.itemIds=Ot.itemIds.filter(mn=>{var eo;return!((eo=Me.removeItemIds)!=null&&eo.includes(mn))}))}),W.filter(Me=>Me.itemIds.length>0)}),f(me=>[...me,{id:(Date.now()+1).toString(),role:"assistant",content:"Updated! Check the summary to see the new split.",timestamp:Date.now()}]),await U(vt.Medium)}catch(Pe){console.error("Chat error:",Pe)}},Q=async()=>{if(n){A(!0),await U(vt.Heavy);try{await Sj(null,n,s),alert("Split saved successfully!"),Ye(),await U(vt.Medium)}catch(Y){console.error("Save error:",Y),alert("Failed to save split.")}finally{A(!1)}}},Z=async Y=>{await U(vt.Medium),t({items:Y.items,tax:Y.tax,tip:Y.tip,total:Y.total,currency:Y.currency||"$"}),r(Y.assignments||[]),f([{id:Date.now().toString(),role:"assistant",content:`Loaded session from ${new Date(Y.created_at).toLocaleDateString()}.`,timestamp:Date.now()}]),v("summary")},he=Y=>{n&&t(fe=>fe?{...fe,tip:Y}:null)},ge=async()=>{X(!0),U(vt.Heavy);try{await va.purchase()&&(D(!0),alert("Welcome to SplitSmart Pro!  View your Annual Report anytime in Settings."),N(!1))}catch(Y){console.error("Purchase error",Y)}finally{X(!1)}},oe=new Date().getFullYear(),at=b.filter(Y=>new Date(Y.created_at).getFullYear()===oe).reduce((Y,fe)=>Y+fe.total,0);return w.jsxs("div",{className:"flex flex-col h-screen bg-zinc-50 overflow-hidden text-zinc-900 font-sans",children:[w.jsx("header",{className:"safe-top bg-white/80 backdrop-blur-md border-b border-zinc-200/50 sticky top-0 z-50",children:w.jsxs("div",{className:"px-5 py-4 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2.5",children:[w.jsx("div",{className:"w-9 h-9 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:w.jsx(Ll,{size:20})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-lg font-bold tracking-tight leading-none",children:"SplitSmart"}),w.jsx("p",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-widest mt-0.5",children:"AI POWERED"})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[C&&w.jsxs("div",{className:"bg-indigo-50 text-indigo-600 px-2.5 py-1 rounded-full flex items-center gap-1 border border-indigo-100",children:[w.jsx(mv,{size:10,fill:"currentColor"}),w.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"PRO"})]}),n&&w.jsx("button",{onClick:()=>{U(),t(null),r([])},className:"p-2 text-zinc-400 hover:text-zinc-600 transition-colors","aria-label":"New",children:w.jsx(r_,{size:22})}),w.jsxs("button",{onClick:()=>{U(),N(!0)},className:"w-8 h-8 rounded-full bg-zinc-100 border border-zinc-200 flex items-center justify-center relative",children:[w.jsx(fC,{size:16,className:"text-zinc-500"}),!C&&b.length>3&&w.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-indigo-500 rounded-full border-2 border-white animate-pulse"})]})]})]})}),!C&&!B&&b.length>=1&&w.jsxs("button",{onClick:()=>N(!0),className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2.5 flex items-center justify-between w-full hover:from-indigo-600 hover:to-purple-600 transition-all active:scale-[0.99]",children:[w.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[w.jsx(Ll,{size:16,className:"flex-shrink-0"}),w.jsxs("span",{className:"text-sm font-bold truncate",children:["Get your ",oe," Annual Report with Pro"]})]}),w.jsx("button",{onClick:Y=>{Y.stopPropagation(),ee(!0)},className:"p-1 hover:bg-white/20 rounded-full transition-colors flex-shrink-0",children:w.jsx(Tr,{size:16})})]}),w.jsxs("main",{className:"flex-1 overflow-hidden relative",children:[w.jsx(Ti,{mode:"wait",children:!n&&!l?w.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"absolute inset-0 flex flex-col items-center justify-center p-8 text-center",children:[w.jsxs("div",{className:"w-24 h-24 bg-indigo-50 rounded-3xl flex items-center justify-center mb-8 text-indigo-600 shadow-inner relative",children:[w.jsx("div",{className:"absolute inset-0 bg-indigo-600/10 rounded-3xl animate-pulse-slow"}),w.jsx($l,{size:44,strokeWidth:1.5})]}),w.jsx("h2",{className:"text-3xl font-extrabold mb-3 tracking-tight",children:"Snap, Split, Simple."}),w.jsx("p",{className:"text-zinc-500 max-w-[280px] mb-10 text-lg leading-relaxed",children:"Take a photo of your bill and let our AI handle the math."}),w.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs",children:[w.jsxs("button",{onClick:q,className:"bg-indigo-600 text-white px-8 py-4 rounded-2xl flex items-center justify-center gap-3 active:scale-95 transition-all shadow-xl shadow-indigo-100 font-bold text-lg",children:[w.jsx(cC,{size:24})," Scan Receipt"]}),w.jsx("button",{onClick:ve,className:"text-zinc-500 px-8 py-3 rounded-xl hover:bg-zinc-100 active:bg-zinc-200 transition-all font-semibold text-center text-sm",children:"Upload from Gallery"}),b.length>0&&w.jsxs("button",{onClick:()=>{t({items:[],tax:0,tip:0,total:0,currency:"$"}),v("history")},className:"mt-4 text-indigo-600 font-bold text-sm flex items-center justify-center gap-2",children:[w.jsx(bd,{size:16}),"View Recent Activity"]})]})]},"welcome"):l?w.jsxs(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm z-40",children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-20 h-20 border-4 border-indigo-100 rounded-full"}),w.jsx("div",{className:"w-20 h-20 border-4 border-t-indigo-600 rounded-full animate-spin absolute top-0"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx(Ll,{className:"text-indigo-600 animate-pulse",size:24})})]}),w.jsx("p",{className:"mt-8 text-zinc-900 font-bold text-xl",children:"Gemini is thinking..."})]},"loading"):w.jsxs(st.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col",children:[w.jsx("div",{className:"flex-1 overflow-hidden relative",children:w.jsxs(Ti,{mode:"wait",children:[g==="receipt"&&w.jsx(st.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"absolute inset-0",children:w.jsx(zC,{receipt:n,assignments:s,onAssign:we,onUnassign:O})},"receipt-tab"),g==="chat"&&w.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-0",children:w.jsx(LC,{messages:u,onSendMessage:P,receipt:n})},"chat-tab"),g==="summary"&&w.jsx(st.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"absolute inset-0",children:w.jsx(BC,{totals:m,currency:(n==null?void 0:n.currency)||"$",onSave:Q,isSaving:x,onTipChange:he})},"summary-tab"),g==="history"&&w.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-0",children:w.jsx(gk,{history:b,onSelect:Z,isPro:C,onShowSettings:()=>N(!0)})},"history-tab")]})}),w.jsx("nav",{className:"safe-bottom bg-white/95 backdrop-blur-xl border-t border-zinc-200/50 px-6 py-2 pb-8",children:w.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto mt-1",children:[w.jsx(Nl,{active:g==="receipt",onClick:()=>v("receipt"),icon:w.jsx($l,{size:22}),label:"Items"}),w.jsx(Nl,{active:g==="chat",onClick:()=>v("chat"),icon:w.jsx(tC,{size:22}),label:"AI Chat"}),w.jsx(Nl,{active:g==="summary",onClick:()=>v("summary"),icon:w.jsx($R,{size:22}),label:"Summary"}),w.jsx(Nl,{active:g==="history",onClick:()=>v("history"),icon:w.jsx(bd,{size:22}),label:"History"})]})})]},"app")}),w.jsx(Ti,{children:L&&w.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-zinc-900/60 backdrop-blur-sm",onClick:()=>N(!1),children:w.jsxs(st.div,{initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"absolute top-0 left-0 right-0 bg-white rounded-b-[2.5rem] p-8 pb-10 max-h-[90vh] overflow-y-auto",style:{paddingTop:"calc(env(safe-area-inset-top) + 128px)"},onClick:Y=>Y.stopPropagation(),children:[w.jsxs("div",{className:"flex justify-between items-start mb-8",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-black text-zinc-900 tracking-tight",children:"Settings"}),w.jsx("p",{className:"text-zinc-500 font-medium mt-1",children:"Manage your SplitSmart experience"})]}),w.jsx("button",{onClick:()=>N(!1),className:"w-10 h-10 bg-zinc-100 rounded-full flex items-center justify-center text-zinc-400",children:w.jsx(Tr,{size:20})})]}),w.jsxs("div",{className:"mb-8 overflow-hidden rounded-[2rem] border border-zinc-100 shadow-sm",children:[w.jsxs("div",{className:"bg-zinc-50 p-6 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center text-indigo-600",children:w.jsx(HR,{size:20})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-zinc-900",children:"Yearly Report"}),w.jsxs("p",{className:"text-[10px] text-zinc-400 font-black uppercase tracking-widest",children:[oe," Insights"]})]})]}),C?w.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-emerald-500",children:"Unlocked"}):w.jsx(zl,{size:16,className:"text-zinc-300"})]}),w.jsxs("div",{className:"p-6 bg-white flex flex-col items-center justify-center text-center relative group",children:[!C&&w.jsxs("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex flex-col items-center justify-center p-6",children:[w.jsx("p",{className:"text-zinc-900 font-black text-sm mb-2",children:"PRO FEATURE"}),w.jsxs("p",{className:"text-zinc-500 text-xs font-medium max-w-[180px]",children:["Upgrade to see your full ",oe," spending breakdown by person and category."]})]}),w.jsxs("div",{className:"w-full space-y-4 opacity-50",children:[w.jsxs("div",{className:"flex justify-between items-end",children:[w.jsx("div",{className:"flex gap-1.5 items-end h-24",children:[40,70,45,90,60,30].map((Y,fe)=>w.jsx("div",{style:{height:`${Y}%`},className:"w-4 bg-indigo-500 rounded-t-full"},fe))}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest leading-none",children:"Total Split"}),w.jsxs("p",{className:"text-2xl font-black text-zinc-900",children:["$",at.toFixed(2)]})]})]}),w.jsx("div",{className:"h-px w-full bg-zinc-100"}),w.jsxs("div",{className:"flex justify-between items-center px-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400"}),w.jsx("span",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest leading-none",children:"Dining"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-200"}),w.jsx("span",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest leading-none",children:"Drinks"})]})]})]})]})]}),C?w.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-3xl p-6 text-center mb-8",children:[w.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-2xl flex items-center justify-center text-white mx-auto mb-4 shadow-lg shadow-emerald-200",children:w.jsx(YR,{size:32})}),w.jsx("h3",{className:"text-xl font-black text-emerald-900 tracking-tight",children:"Pro Active"}),w.jsx("p",{className:"text-emerald-700 text-sm font-medium mt-1",children:"Your annual reports are now accessible!"})]}):w.jsxs("button",{onClick:()=>{N(!1),$(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 rounded-2xl font-bold text-lg shadow-lg active:scale-95 transition-transform flex items-center justify-center gap-2 mb-8",children:[w.jsx(mv,{size:20,fill:"currentColor"}),"Upgrade to Pro"]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(vb,{icon:w.jsx(fv,{size:18}),label:"Subscription History",onClick:()=>Oe(!0)}),w.jsx(vb,{icon:w.jsx(zl,{size:18}),label:"Privacy & Security",onClick:()=>Le(!0)}),w.jsx("div",{className:"pt-6 text-center",children:w.jsx("p",{className:"text-[10px] text-zinc-300 font-black uppercase tracking-[0.2em] py-2",children:"SplitSmart AI v1.0.0"})})]})]})})}),w.jsx(Ti,{children:J&&w.jsx(VC,{onClose:()=>$(!1),onSuccess:()=>{$(!1),ge()}})}),w.jsx(Ti,{children:Se&&w.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[250] bg-zinc-900/60 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>Oe(!1),children:w.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl p-8 max-w-sm w-full",onClick:Y=>Y.stopPropagation(),children:[w.jsxs("div",{className:"flex justify-between items-start mb-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-black text-zinc-900",children:"Subscription History"}),w.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Your purchase history"})]}),w.jsx("button",{onClick:()=>Oe(!1),className:"w-8 h-8 bg-zinc-100 rounded-full flex items-center justify-center text-zinc-400",children:w.jsx(Tr,{size:16})})]}),w.jsxs("div",{className:"bg-zinc-50 rounded-2xl p-6 text-center",children:[w.jsx(fv,{size:32,className:"text-zinc-300 mx-auto mb-3"}),w.jsx("p",{className:"font-bold text-zinc-900 mb-1",children:"No subscriptions yet"}),w.jsx("p",{className:"text-sm text-zinc-500",children:"Your subscription history will appear here once you upgrade to Pro."})]})]})})}),w.jsx(Ti,{children:Ce&&w.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[250] bg-zinc-900/60 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>Le(!1),children:w.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl p-8 max-w-sm w-full max-h-[80vh] overflow-y-auto",onClick:Y=>Y.stopPropagation(),children:[w.jsxs("div",{className:"flex justify-between items-start mb-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-black text-zinc-900",children:"Privacy & Security"}),w.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"How we protect your data"})]}),w.jsx("button",{onClick:()=>Le(!1),className:"w-8 h-8 bg-zinc-100 rounded-full flex items-center justify-center text-zinc-400 flex-shrink-0",children:w.jsx(Tr,{size:16})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"bg-emerald-50 border border-emerald-100 rounded-2xl p-4",children:w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx(zl,{size:20,className:"text-emerald-600 flex-shrink-0 mt-0.5"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-emerald-900 text-sm",children:"Your Data is Private"}),w.jsx("p",{className:"text-xs text-emerald-700 mt-1",children:"All receipt data is stored securely and never shared with third parties."})]})]})}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-zinc-900 text-sm mb-1",children:"What we collect:"}),w.jsxs("ul",{className:"text-xs text-zinc-600 space-y-1 ml-4",children:[w.jsx("li",{children:" Receipt images (processed locally)"}),w.jsx("li",{children:" Split calculations and assignments"}),w.jsx("li",{children:" Subscription status (via RevenueCat)"})]})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-zinc-900 text-sm mb-1",children:"What we don't collect:"}),w.jsxs("ul",{className:"text-xs text-zinc-600 space-y-1 ml-4",children:[w.jsx("li",{children:" Personal financial information"}),w.jsx("li",{children:" Payment card details"}),w.jsx("li",{children:" Location data"})]})]})]}),w.jsx("div",{className:"bg-zinc-50 rounded-2xl p-4",children:w.jsx("p",{className:"text-xs text-zinc-600",children:"All payments are processed securely through Apple's App Store. We never see or store your payment information."})})]})]})})})]})]})},vb=({icon:n,label:t,onClick:s})=>w.jsxs("div",{onClick:s,className:"flex items-center justify-between p-5 bg-zinc-50 rounded-2xl active:bg-zinc-100 transition-colors cursor-pointer",children:[w.jsxs("div",{className:"flex items-center gap-3 text-zinc-700",children:[w.jsx("div",{className:"text-zinc-400",children:n}),w.jsx("span",{className:"font-bold",children:t})]}),w.jsx(gf,{size:16,className:"text-zinc-300"})]}),Nl=({active:n,onClick:t,icon:s,label:r})=>w.jsxs("button",{onClick:()=>{vf.impact({style:vt.Light}),t()},className:yb("flex flex-col items-center gap-1.5 py-2 px-4 rounded-2xl transition-all relative",n?"text-indigo-600 scale-110":"text-zinc-400"),children:[n&&w.jsx(st.div,{layoutId:"tabBackground",className:"absolute inset-0 bg-indigo-50 rounded-2xl -z-10",transition:{type:"spring",bounce:.2,duration:.6}}),w.jsx("div",{className:yb("transition-transform",n&&"drop-shadow-[0_0_8px_rgba(79,70,229,0.3)]"),children:s}),w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:r})]}),gk=({history:n,onSelect:t,isPro:s,onShowSettings:r})=>w.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 p-6 overflow-y-auto pb-32",children:[w.jsxs("div",{className:"flex items-baseline justify-between mb-8",children:[w.jsx("h2",{className:"text-3xl font-black text-zinc-900 tracking-tight",children:"Activity"}),w.jsxs("span",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:[n.length," Sessions"]})]}),n.length===0?w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8 bg-white rounded-3xl border border-dashed border-zinc-200",children:[w.jsx(bd,{size:32,className:"text-zinc-300 mb-4"}),w.jsx("h3",{className:"font-bold text-zinc-900 mb-1",children:"No history yet"})]}):w.jsxs("div",{className:"space-y-4",children:[!s&&n.length>=1&&w.jsxs("div",{className:"bg-zinc-100 rounded-3xl p-6 border-2 border-dashed border-zinc-300 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-4 right-4",children:w.jsx(zl,{size:24,className:"text-zinc-400"})}),w.jsxs("h3",{className:"text-xl font-black text-zinc-900 mb-2",children:[new Date().getFullYear()," Annual Report"]}),w.jsx("p",{className:"text-zinc-500 text-sm mb-4",children:"See your yearly spending breakdown by person and category"}),w.jsx("button",{onClick:r,className:"bg-indigo-600 text-white px-6 py-2.5 rounded-xl font-bold text-sm active:scale-95 transition-transform",children:"Unlock with Pro"})]}),n.map((l,c)=>w.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:c*.05},onClick:()=>t(l),className:"bg-white p-5 rounded-3xl shadow-sm border border-zinc-100 flex justify-between items-center active:scale-[0.98] cursor-pointer",children:[w.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[w.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600 flex-shrink-0",children:w.jsx($l,{size:20})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("p",{className:"font-bold text-zinc-900",children:new Date(l.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),l.note?w.jsx("p",{className:"text-xs text-zinc-600 mt-1 truncate",children:l.note}):w.jsxs("p",{className:"text-[10px] text-zinc-400 uppercase font-black tracking-widest mt-1",children:[l.currency,l.total.toFixed(2),"  ",Object.keys(l.assignments||{}).length," People"]})]})]}),w.jsx(gf,{size:18,className:"text-zinc-300 flex-shrink-0"})]},l.id))]})]}),P_=document.getElementById("root");if(!P_)throw new Error("Could not find root element to mount to");const yk=_E.createRoot(P_);yk.render(w.jsx(fE.StrictMode,{children:w.jsx(pk,{})}));export{vt as I,wv as N,kv as R,Uv as V,ec as W,Iv as a};
